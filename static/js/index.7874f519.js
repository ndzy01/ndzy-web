(()=>{"use strict";var e={9871:function(e,t,o){var r=o(4848),i=o(6540),n=o(5338),d=o(3630);let l=()=>(0,r.jsxs)("div",{style:{padding:"20px"},children:[(0,r.jsx)("h1",{children:"欢迎来到 NDZY Web 应用"}),(0,r.jsx)("p",{children:"这是一个演示各种功能组件的应用程序。"}),(0,r.jsxs)("div",{style:{marginTop:"30px"},children:[(0,r.jsx)("h2",{children:"功能组件"}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px",maxWidth:"300px"},children:[(0,r.jsx)(d.N_,{to:"/live-chat",style:{padding:"10px",textDecoration:"none",backgroundColor:"#f0f0f0",borderRadius:"5px"},children:"\uD83D\uDCF1 Live Chat"}),(0,r.jsx)(d.N_,{to:"/live-chat1",style:{padding:"10px",textDecoration:"none",backgroundColor:"#f0f0f0",borderRadius:"5px"},children:"\uD83D\uDCAC Live Chat 1"}),(0,r.jsx)(d.N_,{to:"/worker-demo",style:{padding:"10px",textDecoration:"none",backgroundColor:"#f0f0f0",borderRadius:"5px"},children:"\uD83D\uDC77 Worker Demo"}),(0,r.jsx)(d.N_,{to:"/todo",style:{padding:"10px",textDecoration:"none",backgroundColor:"#e8f5e8",borderRadius:"5px"},children:"✅ Todo List"})]})]})]});var a=o(4007),s=o(7107);let c=0,p=e=>{let{data:t}=e;return(0,r.jsx)("div",{style:{maxWidth:"100%",marginLeft:"auto",marginRight:"auto",background:"#f1f1f1",color:"#333",padding:"10px 16px",borderRadius:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",fontSize:"15px",wordBreak:"break-word",paddingBlock:"8px",paddingInline:"12px",marginBottom:16},children:t.text})};function x(){let e=(0,i.useRef)(null),[t,o]=(0,i.useState)(()=>({data:[]}));return(0,i.useEffect)(()=>{let t=setInterval(()=>{o(t=>{var o;let r=[...(null==t?void 0:t.data)??[],{key:`${c++}`,text:(0,a.AcM)({min:20,max:200})}];return{data:r.length>500?r.slice(r.length-500):r,...(null==(o=e.current)?void 0:o.getScrollLocation().isAtBottom)?{scrollModifier:{type:"auto-scroll-to-bottom",autoScroll:()=>({index:"LAST",align:"start-no-overflow",behavior:"smooth"})}}:{}}})},500);return()=>clearInterval(t)},[]),(0,r.jsx)(s.wK,{licenseKey:"",children:(0,r.jsx)(s.t9,{ref:e,style:{height:500},data:t,computeItemKey:e=>{let{data:t}=e;return t.key},ItemContent:p,initialLocation:{index:"LAST",align:"end"}})})}let u=()=>(0,r.jsxs)("div",{style:{padding:"20px"},children:[(0,r.jsx)("h1",{children:"Live Chat"}),(0,r.jsx)(x,{})]});var h=o(67);let g=0;function m(){return{key:`${g++}`,text:(0,a.AcM)({min:20,max:300})}}let f=e=>{let{data:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{maxWidth:"100%",background:"#f1f1f1",color:"#333",borderRadius:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",fontSize:"15px",wordBreak:"break-word",paddingBlock:"8px",paddingInline:"12px"},children:t.text}),(0,r.jsx)("div",{style:{height:5,background:"red"}})]})};function b(){let e=(0,i.useRef)(null),[t,o]=(0,i.useState)(()=>({data:Array.from({length:50},()=>m())}));return(0,i.useEffect)(()=>{let e=setInterval(()=>{o(e=>{let t=[...(null==e?void 0:e.data)??[],m()];return{data:t.length>500?t.slice(t.length-500):t}})},1e3);return()=>clearInterval(e)},[]),(0,r.jsx)(h.aY,{alignToBottom:!0,ref:e,style:{height:800},followOutput:e=>!!e&&"smooth",data:t.data,computeItemKey:(e,t)=>t.key,itemContent:(e,t)=>(0,r.jsx)(f,{data:t},t.key)})}let y=()=>(0,r.jsxs)("div",{style:{padding:"20px"},children:[(0,r.jsx)("h1",{children:"Live Chat 1"}),(0,r.jsx)(b,{})]});var j=o(816);let v=function(){let[e,t]=(0,i.useState)([]),[n,d]=(0,i.useState)("sum"),[l,a]=(0,i.useState)(null),[s,c]=(0,i.useState)(0),[p,x]=(0,i.useState)(!1),{execute:u,isReady:h,error:g,handleTerminate:m,initWorker:f}=function(){let e=(0,i.useRef)(null),[t,r]=(0,i.useState)(!1),[n,d]=(0,i.useState)(null),l=async()=>{e.current&&a();try{d(null),e.current=await (0,j.cH)(new j.TK(new URL(o.p+o.u("756"),o.b),Object.assign({},{type:"module"},{type:void 0}))),r(!0)}catch(e){d(e),console.error("Worker 初始化失败：",e)}},a=()=>{e.current&&(j.jV.terminate(e.current),e.current=null,r(!1))};return{isReady:t,error:n,execute:e.current,handleTerminate:a,initWorker:l}}(),b=async()=>{if(h&&u){x(!0);try{let t=await u.processData({numbers:e,operation:n});a(t.result),c(t.processTime)}catch(e){console.error("处理失败：",e)}finally{x(!1)}}},y=o=>{t([...e,...Array.from({length:o},()=>Math.floor(1e3*Math.random())+1)])};return(0,i.useEffect)(()=>{h&&u&&(async()=>{t(await u.generateLargeDataSet())})()},[u,h]),(0,r.jsxs)("div",{style:{padding:"20px",maxWidth:"600px"},children:[(0,r.jsx)("h2",{children:"Complex Threads Worker Demo"}),(0,r.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,r.jsxs)("h3",{children:["数字数组（共 ",e.length," 个）："]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[(0,r.jsx)("button",{onClick:()=>{t([...e,Math.floor(100*Math.random())+1])},style:{padding:"8px 16px",backgroundColor:"#52c41a",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"添加1个数字"}),(0,r.jsx)("button",{onClick:()=>y(100),style:{padding:"8px 16px",backgroundColor:"#1890ff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"添加100个数字"}),(0,r.jsx)("button",{onClick:()=>y(1e3),style:{padding:"8px 16px",backgroundColor:"#722ed1",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"添加1000个数字"}),(0,r.jsx)("button",{onClick:()=>{t([])},style:{padding:"8px 16px",backgroundColor:"#ff4d4f",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"清空列表"})]})]}),(0,r.jsxs)("div",{style:{marginBottom:"20px",display:"flex",alignItems:"center",gap:"16px",flexWrap:"wrap"},children:[(0,r.jsx)("h3",{style:{margin:0,fontSize:"16px"},children:"操作类型："}),(0,r.jsxs)("select",{value:n,onChange:e=>d(e.target.value),style:{padding:"6px 12px",marginTop:"6px",borderRadius:"4px",border:"1px solid #d9d9d9",fontSize:"15px",background:"#fff",outline:"none",minWidth:"100px"},children:[(0,r.jsx)("option",{value:"sum",children:"求和"}),(0,r.jsx)("option",{value:"multiply",children:"相乘"}),(0,r.jsx)("option",{value:"sort",children:"排序"})]}),(0,r.jsx)("button",{onClick:b,disabled:!h||!u||p||0===e.length,style:{padding:"10px 24px",backgroundColor:h&&u&&e.length>0&&!p?"#007acc":"#e0e0e0",color:h&&u&&e.length>0&&!p?"white":"#888",border:"none",borderRadius:"4px",cursor:h&&u&&e.length>0&&!p?"pointer":"not-allowed",fontWeight:500,fontSize:"15px",transition:"background 0.2s"},children:p?"处理中...":"执行计算"}),(0,r.jsx)("button",{onClick:m,style:{padding:"10px 20px",backgroundColor:"#ff7875",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:500,fontSize:"15px",transition:"background 0.2s"},children:"销毁"}),(0,r.jsx)("button",{onClick:f,style:{padding:"10px 20px",backgroundColor:"#36cfc9",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:500,fontSize:"15px",transition:"background 0.2s"},children:"启动"})]}),null!==l&&(0,r.jsxs)("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f9f9f9",borderRadius:"4px"},children:[(0,r.jsx)("h3",{children:"结果："}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"计算结果："})," ",Array.isArray(l)?l.join(", "):l]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"处理时间："})," ",s.toFixed(2),"ms"]})]}),g&&(0,r.jsxs)("div",{style:{color:"red",padding:"10px",backgroundColor:"#ffe6e6",borderRadius:"4px"},children:["错误: ",g.message]}),(0,r.jsxs)("div",{style:{marginTop:"20px",fontSize:"14px",color:"#666"},children:["Worker 状态: ",h?"✅ 就绪":"⏳ 未启动"]})]})},D=()=>(0,r.jsxs)("div",{style:{padding:"20px"},children:[(0,r.jsx)("h1",{children:"Worker Demo"}),(0,r.jsx)(v,{})]}),w=(0,o(9719).lw)("postgresql://neondb_owner:npg_NJw7fPB9vQGu@ep-soft-smoke-ahjxdxvc-pooler.c-3.us-east-1.aws.neon.tech/neondb?sslmode=require");async function S(){try{await w`
      CREATE TABLE IF NOT EXISTS todos (
        id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
        title VARCHAR(255) NOT NULL,
        description TEXT,
        completed BOOLEAN DEFAULT FALSE,
        priority VARCHAR(20) DEFAULT 'medium',
        due_date TIMESTAMP,
        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
      )
    `,await w`CREATE INDEX IF NOT EXISTS idx_todos_completed ON todos(completed)`,await w`CREATE INDEX IF NOT EXISTS idx_todos_priority ON todos(priority)`,console.log("数据库表初始化成功")}catch(e){throw console.error("数据库初始化失败:",e),e}}async function C(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"medium",r=arguments.length>3?arguments[3]:void 0;try{return(await w`
      INSERT INTO todos (title, description, priority, due_date)
      VALUES (${e}, ${t||null}, ${o}, ${r||null})
      RETURNING *
    `)[0]}catch(e){throw console.error("创建 Todo 失败:",e),e}}async function T(){try{return await w`
      SELECT * FROM todos
      ORDER BY created_at DESC
    `}catch(e){throw console.error("获取 Todos 失败:",e),e}}async function E(e,t){try{return void 0!==t.title&&await w`UPDATE todos SET title = ${t.title}, updated_at = CURRENT_TIMESTAMP WHERE id = ${e}`,void 0!==t.description&&await w`UPDATE todos SET description = ${t.description}, updated_at = CURRENT_TIMESTAMP WHERE id = ${e}`,void 0!==t.completed&&await w`UPDATE todos SET completed = ${t.completed}, updated_at = CURRENT_TIMESTAMP WHERE id = ${e}`,void 0!==t.priority&&await w`UPDATE todos SET priority = ${t.priority}, updated_at = CURRENT_TIMESTAMP WHERE id = ${e}`,void 0!==t.dueDate&&await w`UPDATE todos SET due_date = ${t.dueDate}, updated_at = CURRENT_TIMESTAMP WHERE id = ${e}`,(await w`
      SELECT * FROM todos
      WHERE id = ${e}
    `)[0]}catch(e){throw console.error("更新 Todo 失败:",e),e}}async function k(e){try{return(await w`
      DELETE FROM todos
      WHERE id = ${e}
      RETURNING *
    `)[0]}catch(e){throw console.error("删除 Todo 失败:",e),e}}var R=o(4131);let N=e=>{let{isOpen:t,onClose:o,onSave:n,todo:d,mode:l}=e,[a,s]=(0,i.useState)({title:"",description:"",priority:"medium",dueDate:""}),[c,p]=(0,i.useState)(!1),[x,u]=(0,i.useState)("");(0,i.useEffect)(()=>{t&&("edit"===l&&d?s({title:d.title,description:d.description||"",priority:d.priority,dueDate:d.due_date?new Date(d.due_date).toISOString().slice(0,16):""}):s({title:"",description:"",priority:"medium",dueDate:""}),u(""))},[t,d,l]);let h=e=>{let{name:t,value:o}=e.target;s(e=>({...e,[t]:o})),u("")},g=async e=>{if(e.preventDefault(),!a.title.trim())return void u("标题不能为空");p(!0),u("");try{await n(a),o()}catch(e){console.error("保存失败:",e),u("保存失败，请重试")}finally{p(!1)}};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(R.A,{prefixCls:"todo-dialog",visible:t,onClose:o,closable:!0,closeIcon:(0,r.jsx)("span",{children:"✕"}),title:(0,r.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:"create"===l?"\uD83D\uDCDD 添加新Todo":"✏️ 编辑Todo"}),width:520,style:{maxWidth:"95vw"},styles:{body:{padding:"0"}},children:(0,r.jsx)("div",{className:"todo-form-container",children:(0,r.jsxs)("form",{onSubmit:g,children:[(0,r.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,r.jsxs)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151",fontSize:"14px"},children:["标题 ",(0,r.jsx)("span",{style:{color:"#ef4444"},children:"*"})]}),(0,r.jsx)("input",{type:"text",name:"title",value:a.title,onChange:h,placeholder:"输入Todo标题...",style:{width:"100%",padding:"12px 16px",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"16px",boxSizing:"border-box"}})]}),(0,r.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,r.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151",fontSize:"14px"},children:"描述"}),(0,r.jsx)("textarea",{name:"description",value:a.description,onChange:h,placeholder:"添加详细描述...",rows:4,style:{width:"100%",padding:"12px 16px",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"16px",boxSizing:"border-box",resize:"vertical",minHeight:"100px",fontFamily:"inherit"}})]}),(0,r.jsxs)("div",{className:"todo-form-row",children:[(0,r.jsxs)("div",{className:"todo-form-row-item",children:[(0,r.jsx)("label",{className:"todo-form-label",children:"优先级"}),(0,r.jsxs)("select",{name:"priority",value:a.priority,onChange:h,className:"todo-form-input todo-form-select",children:[(0,r.jsx)("option",{value:"low",children:"\uD83D\uDFE2 低优先级"}),(0,r.jsx)("option",{value:"medium",children:"\uD83D\uDFE1 中优先级"}),(0,r.jsx)("option",{value:"high",children:"\uD83D\uDD34 高优先级"})]})]}),(0,r.jsxs)("div",{className:"todo-form-row-item",children:[(0,r.jsx)("label",{className:"todo-form-label",children:"截止时间"}),(0,r.jsx)("input",{type:"datetime-local",name:"dueDate",value:a.dueDate,onChange:h,className:"todo-form-input"})]})]}),x&&(0,r.jsxs)("div",{className:"todo-error-message",children:["⚠️ ",x]}),(0,r.jsxs)("div",{className:"todo-button-group",children:[(0,r.jsx)("button",{type:"button",onClick:o,disabled:c,className:`todo-button todo-button-secondary ${c?"todo-button-disabled":""}`,children:"取消"}),(0,r.jsx)("button",{type:"submit",disabled:c,className:`todo-button ${c?"todo-button-loading":"todo-button-primary"} ${c?"todo-button-disabled":""}`,children:c?"保存中...":"create"===l?"创建":"保存"})]})]})})})})},I=e=>{let{isOpen:t,onClose:o,onConfirm:i,todo:n,loading:d=!1}=e;return(0,r.jsx)(R.A,{prefixCls:"confirm-delete-dialog",visible:t,onClose:o,closable:!0,closeIcon:(0,r.jsx)("span",{children:"✕"}),title:(0,r.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#dc2626"},children:"\uD83D\uDDD1️ 确认删除"}),width:420,style:{maxWidth:"95vw"},styles:{body:{padding:"0"}},children:(0,r.jsxs)("div",{className:"confirm-delete-container",children:[(0,r.jsxs)("div",{className:"confirm-delete-content",children:[(0,r.jsx)("p",{className:"confirm-delete-message",children:"确定要删除这个 Todo 吗？"}),n&&(0,r.jsxs)("div",{className:"confirm-delete-todo-info",children:[(0,r.jsxs)("div",{className:"todo-info-item",children:[(0,r.jsx)("strong",{children:"标题："}),(0,r.jsx)("span",{children:n.title})]}),n.description&&(0,r.jsxs)("div",{className:"todo-info-item",children:[(0,r.jsx)("strong",{children:"描述："}),(0,r.jsx)("span",{children:n.description})]}),(0,r.jsxs)("div",{className:"todo-info-item",children:[(0,r.jsx)("strong",{children:"优先级："}),(0,r.jsxs)("span",{children:["high"===n.priority&&"\uD83D\uDD34 高优先级","medium"===n.priority&&"\uD83D\uDFE1 中优先级","low"===n.priority&&"\uD83D\uDFE2 低优先级"]})]})]}),(0,r.jsx)("div",{className:"confirm-delete-warning",children:"⚠️ 此操作不可撤销，请谨慎操作！"})]}),(0,r.jsxs)("div",{className:"confirm-delete-buttons",children:[(0,r.jsx)("button",{type:"button",onClick:o,disabled:d,className:`confirm-delete-button confirm-delete-button-cancel ${d?"confirm-delete-button-disabled":""}`,children:"取消"}),(0,r.jsx)("button",{type:"button",onClick:i,disabled:d,className:`confirm-delete-button confirm-delete-button-danger ${d?"confirm-delete-button-disabled":""}`,children:d?"删除中...":"确认删除"})]})]})})},_=()=>{let[e,t]=(0,i.useState)([]),[o,n]=(0,i.useState)([]),[d,l]=(0,i.useState)(!0),[a,s]=(0,i.useState)(""),[c,p]=(0,i.useState)(!1),[x,u]=(0,i.useState)("create"),[h,g]=(0,i.useState)(null),[m,f]=(0,i.useState)(!1),[b,y]=(0,i.useState)(null),[j,v]=(0,i.useState)(!1),[D,w]=(0,i.useState)({status:"all",priority:"all",timeRange:"all",customStartDate:"",customEndDate:""});(0,i.useEffect)(()=>{R(),S().catch(e=>{console.error("数据库初始化失败:",e)})},[]),(0,i.useEffect)(()=>{let t=[...e];if("completed"===D.status?t=t.filter(e=>e.completed):"pending"===D.status&&(t=t.filter(e=>!e.completed)),"all"!==D.priority&&(t=t.filter(e=>e.priority===D.priority)),"all"!==D.timeRange){let e=new Date,o=new Date(e.getFullYear(),e.getMonth(),e.getDate());t=t.filter(e=>{if(!e.due_date)return"all"===D.timeRange;let t=new Date(e.due_date);switch(D.timeRange){case"today":let r=new Date(o);return r.setDate(r.getDate()+1),t>=o&&t<r;case"thisWeek":let i=new Date(o);i.setDate(o.getDate()-o.getDay());let n=new Date(i);return n.setDate(i.getDate()+7),t>=i&&t<n;case"thisMonth":let d=new Date(o.getFullYear(),o.getMonth(),1),l=new Date(o.getFullYear(),o.getMonth()+1,1);return t>=d&&t<l;case"overdue":return t<o&&!e.completed;case"custom":if(D.customStartDate&&D.customEndDate){let e=new Date(D.customStartDate),o=new Date(D.customEndDate);return o.setHours(23,59,59,999),t>=e&&t<=o}return!0;default:return!0}})}n(t)},[e,D]);let R=async()=>{try{l(!0);let e=await T();t(e)}catch(e){console.error("加载 Todos 失败:",e),s("加载 Todos 失败")}finally{l(!1)}},_=async e=>{try{let o=e.dueDate?new Date(e.dueDate):void 0;if("create"===x){let r=await C(e.title.trim(),e.description.trim()||void 0,e.priority,o);t(e=>[r,...e])}else{if(!h)return;let r=await E(h.id,{title:e.title.trim(),description:e.description.trim()||void 0,priority:e.priority,dueDate:o});r&&t(e=>e.map(e=>e.id===h.id?r:e))}}catch(e){throw console.error("保存 Todo 失败:",e),e}},A=async e=>{try{await E(e.id,{completed:!e.completed})&&t(t=>t.map(t=>t.id===e.id?{...t,completed:!t.completed}:t))}catch(e){console.error("更新 Todo 状态失败:",e),s("更新 Todo 状态失败")}},z=()=>{f(!1),y(null),v(!1)},W=async()=>{if(b){v(!0);try{await k(b.id),t(e=>e.filter(e=>e.id!==b.id)),z()}catch(e){console.error("删除 Todo 失败:",e),s("删除 Todo 失败"),v(!1)}}},M=(e,t)=>{w(o=>({...o,[e]:t,..."timeRange"===e&&"custom"!==t?{customStartDate:"",customEndDate:""}:{}}))};return(0,r.jsxs)("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[(0,r.jsx)("h1",{children:"我的 Todo List"}),(0,r.jsxs)("button",{onClick:()=>{u("create"),g(null),p(!0)},style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[(0,r.jsx)("span",{children:"➕"}),"添加 Todo"]})]}),(0,r.jsxs)("div",{style:{backgroundColor:"#f8f9fa",padding:"20px",borderRadius:"8px",marginBottom:"30px",border:"1px solid #dee2e6"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"15px"},children:[(0,r.jsx)("h3",{style:{margin:0,color:"#495057"},children:"筛选条件"}),(0,r.jsx)("button",{onClick:()=>{w({status:"all",priority:"all",timeRange:"all",customStartDate:"",customEndDate:""})},style:{padding:"5px 15px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"重置筛选"})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",alignItems:"end"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"14px"},children:"完成状态"}),(0,r.jsxs)("select",{value:D.status,onChange:e=>M("status",e.target.value),style:{width:"100%",padding:"8px",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"14px"},children:[(0,r.jsx)("option",{value:"all",children:"全部"}),(0,r.jsx)("option",{value:"pending",children:"待完成"}),(0,r.jsx)("option",{value:"completed",children:"已完成"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"14px"},children:"优先级"}),(0,r.jsxs)("select",{value:D.priority,onChange:e=>M("priority",e.target.value),style:{width:"100%",padding:"8px",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"14px"},children:[(0,r.jsx)("option",{value:"all",children:"全部"}),(0,r.jsx)("option",{value:"high",children:"高优先级"}),(0,r.jsx)("option",{value:"medium",children:"中优先级"}),(0,r.jsx)("option",{value:"low",children:"低优先级"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"14px"},children:"时间范围"}),(0,r.jsxs)("select",{value:D.timeRange,onChange:e=>M("timeRange",e.target.value),style:{width:"100%",padding:"8px",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"14px"},children:[(0,r.jsx)("option",{value:"all",children:"全部"}),(0,r.jsx)("option",{value:"today",children:"今天"}),(0,r.jsx)("option",{value:"thisWeek",children:"本周"}),(0,r.jsx)("option",{value:"thisMonth",children:"本月"}),(0,r.jsx)("option",{value:"overdue",children:"已逾期"}),(0,r.jsx)("option",{value:"custom",children:"自定义范围"})]})]}),"custom"===D.timeRange&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"14px"},children:"开始日期"}),(0,r.jsx)("input",{type:"date",value:D.customStartDate,onChange:e=>M("customStartDate",e.target.value),style:{width:"100%",padding:"8px",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"14px"}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"14px"},children:"结束日期"}),(0,r.jsx)("input",{type:"date",value:D.customEndDate,onChange:e=>M("customEndDate",e.target.value),style:{width:"100%",padding:"8px",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"14px"}})]})]})]}),(0,r.jsxs)("div",{style:{marginTop:"15px",padding:"10px",backgroundColor:"#e9ecef",borderRadius:"4px",fontSize:"14px",color:"#495057"},children:["\uD83D\uDCCA 筛选结果：显示 ",o.length," 项 / 总共 ",e.length," 项"]})]}),a&&(0,r.jsx)("div",{style:{color:"red",backgroundColor:"#fee",padding:"10px",borderRadius:"4px",marginBottom:"20px"},children:a}),d?(0,r.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:(0,r.jsx)("div",{children:"加载中..."})}):0===e.length?(0,r.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#666",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:'还没有任何 Todo，点击上方"添加 Todo"开始创建吧！'}):0===o.length?(0,r.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#666",backgroundColor:"#fff3cd",borderRadius:"8px",border:"1px solid #ffeaa7"},children:"\uD83D\uDE14 没有符合筛选条件的 Todo，试试调整筛选条件或者重置筛选"}):(0,r.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:o.map(e=>{let t=e.due_date&&new Date(e.due_date)<new Date&&!e.completed;return(0,r.jsx)("div",{style:{padding:"15px",backgroundColor:e.completed?"#f8f9fa":t?"#fff5f5":"white",border:`1px solid ${t?"#feb2b2":"#ddd"}`,borderRadius:"8px",opacity:e.completed?.7:1,boxShadow:t?"0 2px 4px rgba(220, 53, 69, 0.1)":"none"},children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"15px"},children:[(0,r.jsx)("input",{type:"checkbox",checked:e.completed,onChange:()=>A(e),style:{marginTop:"3px",transform:"scale(1.2)",cursor:"pointer"}}),(0,r.jsxs)("div",{style:{flex:1},children:[(0,r.jsx)("h3",{style:{margin:"0 0 8px 0",textDecoration:e.completed?"line-through":"none",color:e.completed?"#666":"#333"},children:e.title}),e.description&&(0,r.jsx)("p",{style:{margin:"0 0 8px 0",color:"#666",lineHeight:"1.4"},children:e.description}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"15px",fontSize:"14px"},children:[(0,r.jsxs)("span",{style:{padding:"2px 8px",backgroundColor:(e=>{switch(e){case"high":return"#ff4757";case"medium":return"#ffa502";case"low":return"#2ed573";default:return"#777"}})(e.priority),color:"white",borderRadius:"12px",fontSize:"12px"},children:[(e=>{switch(e){case"high":return"高";case"medium":return"中";case"low":return"低";default:return e}})(e.priority),"优先级"]}),e.due_date&&(0,r.jsxs)("span",{style:{color:"#666"},children:["\uD83D\uDCC5 ",new Date(e.due_date).toLocaleString("zh-CN")]}),(0,r.jsxs)("span",{style:{color:"#999"},children:["创建于 ",new Date(e.created_at).toLocaleString("zh-CN")]})]})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,r.jsxs)("button",{onClick:()=>{u("edit"),g(e),p(!0)},style:{padding:"5px 10px",backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",display:"flex",alignItems:"center",gap:"4px"},children:[(0,r.jsx)("span",{children:"✏️"}),"编辑"]}),(0,r.jsxs)("button",{onClick:()=>{y(e),f(!0)},style:{padding:"5px 10px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",display:"flex",alignItems:"center",gap:"4px"},children:[(0,r.jsx)("span",{children:"\uD83D\uDDD1️"}),"删除"]})]})]})},e.id)})}),(0,r.jsx)(N,{isOpen:c,onClose:()=>{p(!1),g(null)},onSave:_,todo:h,mode:x}),(0,r.jsx)(I,{isOpen:m,todo:b,onClose:z,onConfirm:W,loading:j})]})},A=()=>{let e=(0,d.zy)();return(0,r.jsx)("nav",{style:{backgroundColor:"#fff",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",padding:"0 20px",position:"sticky",top:0,zIndex:1e3},children:(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",maxWidth:"1200px",margin:"0 auto",height:"60px"},children:[(0,r.jsx)(d.N_,{to:"/",style:{textDecoration:"none",fontSize:"24px",fontWeight:"bold",color:"#333"},children:"NDZY Web"}),(0,r.jsx)("div",{style:{display:"flex",gap:"20px",alignItems:"center"},children:[{path:"/",label:"首页",icon:"\uD83C\uDFE0"},{path:"/live-chat",label:"Live Chat",icon:"\uD83D\uDCF1"},{path:"/live-chat1",label:"Live Chat 1",icon:"\uD83D\uDCAC"},{path:"/worker-demo",label:"Worker Demo",icon:"\uD83D\uDC77"},{path:"/todo",label:"Todo List",icon:"✅"}].map(t=>(0,r.jsxs)(d.N_,{to:t.path,style:{textDecoration:"none",padding:"8px 16px",borderRadius:"6px",color:e.pathname===t.path?"#007bff":"#666",backgroundColor:e.pathname===t.path?"#e3f2fd":"transparent",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"6px"},children:[(0,r.jsx)("span",{children:t.icon}),(0,r.jsx)("span",{children:t.label})]},t.path))}),(0,r.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:(0,r.jsxs)("a",{href:"https://github.com/ndzy01",target:"_blank",rel:"noopener noreferrer",style:{padding:"8px 16px",backgroundColor:"#24292e",color:"white",textDecoration:"none",borderRadius:"4px",fontSize:"14px",display:"flex",alignItems:"center",gap:"6px"},children:[(0,r.jsx)("span",{children:"⭐"}),"GitHub"]})})]})})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("https://www.ndzy01.com/ndzy-web/service-worker.js").then(e=>{console.log("Service Worker 注册成功: ",e)}).catch(e=>{console.log("Service Worker 注册失败: ",e)})});let z=document.getElementById("root");z&&n.createRoot(z).render((0,r.jsx)(i.StrictMode,{children:(0,r.jsx)(d.I9,{children:(0,r.jsx)(()=>(0,r.jsxs)("div",{style:{minHeight:"100vh",backgroundColor:"#f8f9fa"},children:[(0,r.jsx)(A,{}),(0,r.jsx)("main",{children:(0,r.jsxs)(d.BV,{children:[(0,r.jsx)(d.qh,{path:"/",element:(0,r.jsx)(l,{})}),(0,r.jsx)(d.qh,{path:"/live-chat",element:(0,r.jsx)(u,{})}),(0,r.jsx)(d.qh,{path:"/live-chat1",element:(0,r.jsx)(y,{})}),(0,r.jsx)(d.qh,{path:"/worker-demo",element:(0,r.jsx)(D,{})}),(0,r.jsx)(d.qh,{path:"/todo",element:(0,r.jsx)(_,{})}),(0,r.jsx)(d.qh,{path:"*",element:(0,r.jsxs)("div",{style:{padding:"40px",textAlign:"center"},children:[(0,r.jsx)("h1",{children:"404 - 页面未找到"}),(0,r.jsx)("p",{children:"您访问的页面不存在"})]})})]})})]}),{})})}))},5747:function(){}},t={};function o(r){var i=t[r];if(void 0!==i)return i.exports;var n=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}o.m=e,o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;o.t=function(r,i){if(1&i&&(r=this(r)),8&i||"object"==typeof r&&r&&(4&i&&r.__esModule||16&i&&"function"==typeof r.then))return r;var n=Object.create(null);o.r(n);var d={};e=e||[null,t({}),t([]),t(t)];for(var l=2&i&&r;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(e=>{d[e]=()=>r[e]});return d.default=()=>r,o.d(n,d),n}})(),o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.u=e=>"static/js/async/"+e+".f9f1f6af.js",o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e=[];o.O=(t,r,i,n)=>{if(r){n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[r,i,n];return}for(var l=1/0,d=0;d<e.length;d++){for(var[r,i,n]=e[d],a=!0,s=0;s<r.length;s++)(!1&n||l>=n)&&Object.keys(o.O).every(e=>o.O[e](r[s]))?r.splice(s--,1):(a=!1,n<l&&(l=n));if(a){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}})(),o.p="/ndzy-web/",(()=>{o.b=document.baseURI||self.location.href;var e={410:0};o.O.j=t=>0===e[t];var t=(t,r)=>{var i,n,[d,l,a]=r,s=0;if(d.some(t=>0!==e[t])){for(i in l)o.o(l,i)&&(o.m[i]=l[i]);if(a)var c=a(o)}for(t&&t(r);s<d.length;s++)n=d[s],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(c)},r=self.webpackChunkndzy_web=self.webpackChunkndzy_web||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=o.O(void 0,["783","535","371"],function(){return o(9871)});r=o.O(r)})();