(()=>{"use strict";var e={803:function(e,r,t){var o=t(848),n=t(540),l=t(338),i=t(7),a=t(107);let d=0,s=e=>{let{data:r}=e;return(0,o.jsx)("div",{style:{maxWidth:"100%",marginLeft:"auto",marginRight:"auto",background:"#f1f1f1",color:"#333",padding:"10px 16px",borderRadius:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",fontSize:"15px",wordBreak:"break-word",paddingBlock:"8px",paddingInline:"12px",marginBottom:16},children:r.text})};function c(){let e=(0,n.useRef)(null),[r,t]=(0,n.useState)(()=>({data:[]}));return(0,n.useEffect)(()=>{let r=setInterval(()=>{t(r=>{var t;let o=[...(null==r?void 0:r.data)??[],{key:`${d++}`,text:(0,i.AcM)({min:20,max:200})}];return{data:o.length>500?o.slice(o.length-500):o,...(null==(t=e.current)?void 0:t.getScrollLocation().isAtBottom)?{scrollModifier:{type:"auto-scroll-to-bottom",autoScroll:()=>({index:"LAST",align:"start-no-overflow",behavior:"smooth"})}}:{}}})},500);return()=>clearInterval(r)},[]),(0,o.jsx)(a.wK,{licenseKey:"",children:(0,o.jsx)(a.t9,{ref:e,style:{height:500},data:r,computeItemKey:e=>{let{data:r}=e;return r.key},ItemContent:s,initialLocation:{index:"LAST",align:"end"}})})}var u=t(816);let p=function(){let[e,r]=(0,n.useState)([]),[l,i]=(0,n.useState)("sum"),[a,d]=(0,n.useState)(null),[s,c]=(0,n.useState)(0),[p,x]=(0,n.useState)(!1),{execute:h,isReady:f,error:g,handleTerminate:b,initWorker:y}=function(){let e=(0,n.useRef)(null),[r,o]=(0,n.useState)(!1),[l,i]=(0,n.useState)(null),a=async()=>{e.current&&d();try{i(null),e.current=await (0,u.cH)(new u.TK(new URL(t.p+t.u("756"),t.b),Object.assign({},{type:"module"},{type:void 0}))),o(!0)}catch(e){i(e),console.error("Worker 初始化失败：",e)}},d=()=>{e.current&&(u.jV.terminate(e.current),e.current=null,o(!1))};return{isReady:r,error:l,execute:e.current,handleTerminate:d,initWorker:a}}(),j=async()=>{if(f&&h){x(!0);try{let r=await h.processData({numbers:e,operation:l});d(r.result),c(r.processTime)}catch(e){console.error("处理失败：",e)}finally{x(!1)}}},m=t=>{r([...e,...Array.from({length:t},()=>Math.floor(1e3*Math.random())+1)])};return(0,n.useEffect)(()=>{f&&h&&(async()=>{r(await h.generateLargeDataSet())})()},[h,f]),(0,o.jsxs)("div",{style:{padding:"20px",maxWidth:"600px"},children:[(0,o.jsx)("h2",{children:"Complex Threads Worker Demo"}),(0,o.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,o.jsxs)("h3",{children:["数字数组（共 ",e.length," 个）："]}),e.length>100&&(0,o.jsxs)("div",{style:{padding:"8px 12px",backgroundColor:"#e6f7ff",border:"1px solid #91d5ff",borderRadius:"4px",marginBottom:"10px",fontSize:"12px",color:"#0050b3"},children:["\uD83D\uDCA1 虚拟列表优化：即使有 ",e.length," ","个元素，也只渲染可见的部分，保持高性能"]}),(0,o.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[(0,o.jsx)("button",{onClick:()=>{r([...e,Math.floor(100*Math.random())+1])},style:{padding:"8px 16px",backgroundColor:"#52c41a",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"添加1个数字"}),(0,o.jsx)("button",{onClick:()=>m(100),style:{padding:"8px 16px",backgroundColor:"#1890ff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"添加100个数字"}),(0,o.jsx)("button",{onClick:()=>m(1e3),style:{padding:"8px 16px",backgroundColor:"#722ed1",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"添加1000个数字"}),(0,o.jsx)("button",{onClick:()=>{r([])},style:{padding:"8px 16px",backgroundColor:"#ff4d4f",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"清空列表"})]})]}),(0,o.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,o.jsx)("h3",{children:"操作类型："}),(0,o.jsxs)("select",{value:l,onChange:e=>i(e.target.value),style:{padding:"5px",marginRight:"10px"},children:[(0,o.jsx)("option",{value:"sum",children:"求和"}),(0,o.jsx)("option",{value:"multiply",children:"相乘"}),(0,o.jsx)("option",{value:"sort",children:"排序"})]}),(0,o.jsx)("button",{onClick:j,disabled:!f||!h||p||0===e.length,style:{padding:"10px 20px",backgroundColor:f&&h?"#007acc":"#ccc",color:"white",border:"none",borderRadius:"4px",cursor:f&&h?"pointer":"not-allowed"},children:p?"处理中...":"执行计算"}),(0,o.jsx)("button",{onClick:b,children:"销毁"}),(0,o.jsx)("button",{onClick:y,children:"重启"})]}),null!==a&&(0,o.jsxs)("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f9f9f9",borderRadius:"4px"},children:[(0,o.jsx)("h3",{children:"结果："}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"计算结果："})," ",Array.isArray(a)?a.join(", "):a]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"处理时间："})," ",s.toFixed(2),"ms"]})]}),g&&(0,o.jsxs)("div",{style:{color:"red",padding:"10px",backgroundColor:"#ffe6e6",borderRadius:"4px"},children:["错误: ",g.message]}),(0,o.jsxs)("div",{style:{marginTop:"20px",fontSize:"14px",color:"#666"},children:["Worker 状态: ",f?"✅ 就绪":"⏳ 初始化中..."]})]})},x=document.getElementById("root");x&&l.createRoot(x).render((0,o.jsx)(n.StrictMode,{children:(0,o.jsx)(()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c,{}),(0,o.jsx)(p,{})]}),{})}))},747:function(){}},r={};function t(o){var n=r[o];if(void 0!==n)return n.exports;var l=r[o]={id:o,loaded:!1,exports:{}};return e[o].call(l.exports,l,l.exports,t),l.loaded=!0,l.exports}t.m=e,t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},(()=>{var e,r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;t.t=function(o,n){if(1&n&&(o=this(o)),8&n||"object"==typeof o&&o&&(4&n&&o.__esModule||16&n&&"function"==typeof o.then))return o;var l=Object.create(null);t.r(l);var i={};e=e||[null,r({}),r([]),r(r)];for(var a=2&n&&o;"object"==typeof a&&!~e.indexOf(a);a=r(a))Object.getOwnPropertyNames(a).forEach(e=>{i[e]=()=>o[e]});return i.default=()=>o,t.d(l,i),l}})(),t.d=(e,r)=>{for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})},t.u=e=>"static/js/async/"+e+".17b16572.js",t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e=[];t.O=(r,o,n,l)=>{if(o){l=l||0;for(var i=e.length;i>0&&e[i-1][2]>l;i--)e[i]=e[i-1];e[i]=[o,n,l];return}for(var a=1/0,i=0;i<e.length;i++){for(var[o,n,l]=e[i],d=!0,s=0;s<o.length;s++)(!1&l||a>=l)&&Object.keys(t.O).every(e=>t.O[e](o[s]))?o.splice(s--,1):(d=!1,l<a&&(a=l));if(d){e.splice(i--,1);var c=n();void 0!==c&&(r=c)}}return r}})(),t.p="/ndzy-web/",(()=>{t.b=document.baseURI||self.location.href;var e={410:0};t.O.j=r=>0===e[r];var r=(r,o)=>{var n,l,[i,a,d]=o,s=0;if(i.some(r=>0!==e[r])){for(n in a)t.o(a,n)&&(t.m[n]=a[n]);if(d)var c=d(t)}for(r&&r(o);s<i.length;s++)l=i[s],t.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return t.O(c)},o=self.webpackChunkndzy_web=self.webpackChunkndzy_web||[];o.forEach(r.bind(null,0)),o.push=r.bind(null,o.push.bind(o))})();var o=t.O(void 0,["783","217"],function(){return t(803)});o=t.O(o)})();