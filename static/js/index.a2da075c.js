(()=>{"use strict";var e={397:function(e,r,t){var o=t(4848),n=t(6540),i=t(5338),l=t(6144),a=t(4007),d=t(7107);let s=0,c=e=>{let{data:r}=e;return(0,o.jsx)("div",{style:{maxWidth:"100%",marginLeft:"auto",marginRight:"auto",background:"#f1f1f1",color:"#333",padding:"10px 16px",borderRadius:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",fontSize:"15px",wordBreak:"break-word",paddingBlock:"8px",paddingInline:"12px",marginBottom:16},children:r.text})};function u(){let e=(0,n.useRef)(null),[r,t]=(0,n.useState)(()=>({data:[]}));return(0,n.useEffect)(()=>{let r=setInterval(()=>{t(r=>{var t;let o=[...(null==r?void 0:r.data)??[],{key:`${s++}`,text:(0,a.AcM)({min:20,max:200})}];return{data:o.length>500?o.slice(o.length-500):o,...(null==(t=e.current)?void 0:t.getScrollLocation().isAtBottom)?{scrollModifier:{type:"auto-scroll-to-bottom",autoScroll:()=>({index:"LAST",align:"start-no-overflow",behavior:"smooth"})}}:{}}})},500);return()=>clearInterval(r)},[]),(0,o.jsx)(d.wK,{licenseKey:"",children:(0,o.jsx)(d.t9,{ref:e,style:{height:500},data:r,computeItemKey:e=>{let{data:r}=e;return r.key},ItemContent:c,initialLocation:{index:"LAST",align:"end"}})})}var p=t(816);let x=function(){let[e,r]=(0,n.useState)([]),[i,l]=(0,n.useState)("sum"),[a,d]=(0,n.useState)(null),[s,c]=(0,n.useState)(0),[u,x]=(0,n.useState)(!1),{execute:h,isReady:g,error:f,handleTerminate:b,initWorker:y}=function(){let e=(0,n.useRef)(null),[r,o]=(0,n.useState)(!1),[i,l]=(0,n.useState)(null),a=async()=>{e.current&&d();try{l(null),e.current=await (0,p.cH)(new p.TK(new URL(t.p+t.u("756"),t.b),Object.assign({},{type:"module"},{type:void 0}))),o(!0)}catch(e){l(e),console.error("Worker 初始化失败：",e)}},d=()=>{e.current&&(p.jV.terminate(e.current),e.current=null,o(!1))};return{isReady:r,error:i,execute:e.current,handleTerminate:d,initWorker:a}}(),v=async()=>{if(g&&h){x(!0);try{let r=await h.processData({numbers:e,operation:i});d(r.result),c(r.processTime)}catch(e){console.error("处理失败：",e)}finally{x(!1)}}},m=t=>{r([...e,...Array.from({length:t},()=>Math.floor(1e3*Math.random())+1)])};return(0,n.useEffect)(()=>{g&&h&&(async()=>{r(await h.generateLargeDataSet())})()},[h,g]),(0,o.jsxs)("div",{style:{padding:"20px",maxWidth:"600px"},children:[(0,o.jsx)("h2",{children:"Complex Threads Worker Demo"}),(0,o.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,o.jsxs)("h3",{children:["数字数组（共 ",e.length," 个）："]}),(0,o.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[(0,o.jsx)("button",{onClick:()=>{r([...e,Math.floor(100*Math.random())+1])},style:{padding:"8px 16px",backgroundColor:"#52c41a",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"添加1个数字"}),(0,o.jsx)("button",{onClick:()=>m(100),style:{padding:"8px 16px",backgroundColor:"#1890ff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"添加100个数字"}),(0,o.jsx)("button",{onClick:()=>m(1e3),style:{padding:"8px 16px",backgroundColor:"#722ed1",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"添加1000个数字"}),(0,o.jsx)("button",{onClick:()=>{r([])},style:{padding:"8px 16px",backgroundColor:"#ff4d4f",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"清空列表"})]})]}),(0,o.jsxs)("div",{style:{marginBottom:"20px",display:"flex",alignItems:"center",gap:"16px",flexWrap:"wrap"},children:[(0,o.jsx)("h3",{style:{margin:0,fontSize:"16px"},children:"操作类型："}),(0,o.jsxs)("select",{value:i,onChange:e=>l(e.target.value),style:{padding:"6px 12px",marginTop:"6px",borderRadius:"4px",border:"1px solid #d9d9d9",fontSize:"15px",background:"#fff",outline:"none",minWidth:"100px"},children:[(0,o.jsx)("option",{value:"sum",children:"求和"}),(0,o.jsx)("option",{value:"multiply",children:"相乘"}),(0,o.jsx)("option",{value:"sort",children:"排序"})]}),(0,o.jsx)("button",{onClick:v,disabled:!g||!h||u||0===e.length,style:{padding:"10px 24px",backgroundColor:g&&h&&e.length>0&&!u?"#007acc":"#e0e0e0",color:g&&h&&e.length>0&&!u?"white":"#888",border:"none",borderRadius:"4px",cursor:g&&h&&e.length>0&&!u?"pointer":"not-allowed",fontWeight:500,fontSize:"15px",transition:"background 0.2s"},children:u?"处理中...":"执行计算"}),(0,o.jsx)("button",{onClick:b,style:{padding:"10px 20px",backgroundColor:"#ff7875",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:500,fontSize:"15px",transition:"background 0.2s"},children:"销毁"}),(0,o.jsx)("button",{onClick:y,style:{padding:"10px 20px",backgroundColor:"#36cfc9",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:500,fontSize:"15px",transition:"background 0.2s"},children:"启动"})]}),null!==a&&(0,o.jsxs)("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f9f9f9",borderRadius:"4px"},children:[(0,o.jsx)("h3",{children:"结果："}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"计算结果："})," ",Array.isArray(a)?a.join(", "):a]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"处理时间："})," ",s.toFixed(2),"ms"]})]}),f&&(0,o.jsxs)("div",{style:{color:"red",padding:"10px",backgroundColor:"#ffe6e6",borderRadius:"4px"},children:["错误: ",f.message]}),(0,o.jsxs)("div",{style:{marginTop:"20px",fontSize:"14px",color:"#666"},children:["Worker 状态: ",g?"✅ 就绪":"⏳ 未启动"]})]})};var h=t(67);let g=0;function f(){return{key:`${g++}`,text:(0,a.AcM)({min:20,max:300})}}let b=e=>{let{data:r}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{style:{maxWidth:"100%",background:"#f1f1f1",color:"#333",borderRadius:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",fontSize:"15px",wordBreak:"break-word",paddingBlock:"8px",paddingInline:"12px"},children:r.text}),(0,o.jsx)("div",{style:{height:5,background:"red"}})]})};function y(){let e=(0,n.useRef)(null),[r,t]=(0,n.useState)(()=>({data:Array.from({length:50},()=>f())}));return(0,n.useEffect)(()=>{let e=setInterval(()=>{t(e=>{let r=[...(null==e?void 0:e.data)??[],f()];return{data:r.length>500?r.slice(r.length-500):r}})},1e3);return()=>clearInterval(e)},[]),(0,o.jsx)(h.aY,{alignToBottom:!0,ref:e,style:{height:800},followOutput:e=>!!e&&"smooth",data:r.data,computeItemKey:(e,r)=>r.key,itemContent:(e,r)=>(0,o.jsx)(b,{data:r},r.key)})}var v=t(4131);t(5445),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("https://www.ndzy01.com/ndzy-web/service-worker.js").then(e=>{console.log("Service Worker 注册成功: ",e)}).catch(e=>{console.log("Service Worker 注册失败: ",e)})});let m=document.getElementById("root");m&&i.createRoot(m).render((0,o.jsx)(n.StrictMode,{children:(0,o.jsx)(()=>{let[e,r]=(0,l.A)({showLiveChat:!1,showLiveChat1:!1,showWorkerDemo:!1,openDialog:!1});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{style:{padding:16,display:"flex",gap:8,"--border-width":"8px","--border-radius":"24px",height:36},className:"border-box",children:Object.keys(e).map((t,n)=>(0,o.jsxs)("button",{onClick:()=>{r({[t]:!e[t]})},children:[t," ",e[t]?"展示中":"已隐藏"]},n))}),e.showLiveChat&&(0,o.jsx)(u,{}),e.showLiveChat1&&(0,o.jsx)(y,{}),e.showWorkerDemo&&(0,o.jsx)(x,{}),(0,o.jsx)("button",{onClick:()=>r({openDialog:!0}),children:"打开对话框"}),e.openDialog&&(0,o.jsx)(v.A,{prefixCls:"lr-dialog",title:"111",onClose:()=>r({openDialog:!1}),visible:e.openDialog,children:(0,o.jsx)("p",{children:"first dialog"})})]})},{})}))},5747:function(){}},r={};function t(o){var n=r[o];if(void 0!==n)return n.exports;var i=r[o]={id:o,loaded:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}t.m=e,t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},(()=>{var e,r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;t.t=function(o,n){if(1&n&&(o=this(o)),8&n||"object"==typeof o&&o&&(4&n&&o.__esModule||16&n&&"function"==typeof o.then))return o;var i=Object.create(null);t.r(i);var l={};e=e||[null,r({}),r([]),r(r)];for(var a=2&n&&o;"object"==typeof a&&!~e.indexOf(a);a=r(a))Object.getOwnPropertyNames(a).forEach(e=>{l[e]=()=>o[e]});return l.default=()=>o,t.d(i,l),i}})(),t.d=(e,r)=>{for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})},t.u=e=>"static/js/async/"+e+".f9f1f6af.js",t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e=[];t.O=(r,o,n,i)=>{if(o){i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[o,n,i];return}for(var a=1/0,l=0;l<e.length;l++){for(var[o,n,i]=e[l],d=!0,s=0;s<o.length;s++)(!1&i||a>=i)&&Object.keys(t.O).every(e=>t.O[e](o[s]))?o.splice(s--,1):(d=!1,i<a&&(a=i));if(d){e.splice(l--,1);var c=n();void 0!==c&&(r=c)}}return r}})(),t.p="/ndzy-web/",(()=>{t.b=document.baseURI||self.location.href;var e={410:0};t.O.j=r=>0===e[r];var r=(r,o)=>{var n,i,[l,a,d]=o,s=0;if(l.some(r=>0!==e[r])){for(n in a)t.o(a,n)&&(t.m[n]=a[n]);if(d)var c=d(t)}for(r&&r(o);s<l.length;s++)i=l[s],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(c)},o=self.webpackChunkndzy_web=self.webpackChunkndzy_web||[];o.forEach(r.bind(null,0)),o.push=r.bind(null,o.push.bind(o))})();var o=t.O(void 0,["783","60"],function(){return t(397)});o=t.O(o)})();