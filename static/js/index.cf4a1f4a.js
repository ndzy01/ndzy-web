(()=>{"use strict";var e={8603:function(e,s,t){var n=t(4848),r=t(6540),i=t(5338),l=t(3630);let a=()=>(0,n.jsxs)("div",{style:{padding:"20px"},children:[(0,n.jsx)("h1",{children:"欢迎来到 NDZY Web 应用"}),(0,n.jsx)("p",{children:"这是一个演示各种功能组件的应用程序。"})]});var d=t(4007),o=t(7107);let c=0,u=e=>{let{data:s}=e;return(0,n.jsx)("div",{style:{maxWidth:"100%",marginLeft:"auto",marginRight:"auto",background:"#f1f1f1",color:"#333",padding:"10px 16px",borderRadius:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",fontSize:"15px",wordBreak:"break-word",paddingBlock:"8px",paddingInline:"12px",marginBottom:16},children:s.text})};function x(){let e=(0,r.useRef)(null),[s,t]=(0,r.useState)(()=>({data:[]}));return(0,r.useEffect)(()=>{let s=setInterval(()=>{t(s=>{var t;let n=[...(null==s?void 0:s.data)??[],{key:`${c++}`,text:(0,d.AcM)({min:20,max:200})}];return{data:n.length>500?n.slice(n.length-500):n,...(null==(t=e.current)?void 0:t.getScrollLocation().isAtBottom)?{scrollModifier:{type:"auto-scroll-to-bottom",autoScroll:()=>({index:"LAST",align:"start-no-overflow",behavior:"smooth"})}}:{}}})},500);return()=>clearInterval(s)},[]),(0,n.jsx)(o.wK,{licenseKey:"",children:(0,n.jsx)(o.t9,{ref:e,style:{height:500},data:s,computeItemKey:e=>{let{data:s}=e;return s.key},ItemContent:u,initialLocation:{index:"LAST",align:"end"}})})}let h=()=>(0,n.jsxs)("div",{style:{padding:"20px"},children:[(0,n.jsx)("h1",{children:"Live Chat"}),(0,n.jsx)(x,{})]});var m=t(67);let p=0;function j(){return{key:`${p++}`,text:(0,d.AcM)({min:20,max:300})}}let b=e=>{let{data:s}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{maxWidth:"100%",background:"#f1f1f1",color:"#333",borderRadius:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",fontSize:"15px",wordBreak:"break-word",paddingBlock:"8px",paddingInline:"12px"},children:s.text}),(0,n.jsx)("div",{style:{height:5,background:"red"}})]})};function g(){let e=(0,r.useRef)(null),[s,t]=(0,r.useState)(()=>({data:Array.from({length:50},()=>j())}));return(0,r.useEffect)(()=>{let e=setInterval(()=>{t(e=>{let s=[...(null==e?void 0:e.data)??[],j()];return{data:s.length>500?s.slice(s.length-500):s}})},1e3);return()=>clearInterval(e)},[]),(0,n.jsx)(m.aY,{alignToBottom:!0,ref:e,style:{height:800},followOutput:e=>!!e&&"smooth",data:s.data,computeItemKey:(e,s)=>s.key,itemContent:(e,s)=>(0,n.jsx)(b,{data:s},s.key)})}let f=()=>(0,n.jsxs)("div",{style:{padding:"20px"},children:[(0,n.jsx)("h1",{children:"Live Chat 1"}),(0,n.jsx)(g,{})]});var v=t(816);let y=function(){let[e,s]=(0,r.useState)([]),[i,l]=(0,r.useState)("sum"),[a,d]=(0,r.useState)(null),[o,c]=(0,r.useState)(0),[u,x]=(0,r.useState)(!1),{execute:h,isReady:m,error:p,handleTerminate:j,initWorker:b}=function(){let e=(0,r.useRef)(null),[s,n]=(0,r.useState)(!1),[i,l]=(0,r.useState)(null),a=async()=>{e.current&&d();try{l(null),e.current=await (0,v.cH)(new v.TK(new URL(t.p+t.u("756"),t.b),Object.assign({},{type:"module"},{type:void 0}))),n(!0)}catch(e){l(e),console.error("Worker 初始化失败：",e)}},d=()=>{e.current&&(v.jV.terminate(e.current),e.current=null,n(!1))};return{isReady:s,error:i,execute:e.current,handleTerminate:d,initWorker:a}}(),g=async()=>{if(m&&h){x(!0);try{let s=await h.processData({numbers:e,operation:i});d(s.result),c(s.processTime)}catch(e){console.error("处理失败：",e)}finally{x(!1)}}},f=t=>{s([...e,...Array.from({length:t},()=>Math.floor(1e3*Math.random())+1)])};return(0,r.useEffect)(()=>{m&&h&&(async()=>{s(await h.generateLargeDataSet())})()},[h,m]),(0,n.jsxs)("div",{style:{padding:"20px",maxWidth:"600px"},children:[(0,n.jsx)("h2",{children:"Complex Threads Worker Demo"}),(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsxs)("h3",{children:["数字数组（共 ",e.length," 个）："]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[(0,n.jsx)("button",{onClick:()=>{s([...e,Math.floor(100*Math.random())+1])},style:{padding:"8px 16px",backgroundColor:"#52c41a",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"添加1个数字"}),(0,n.jsx)("button",{onClick:()=>f(100),style:{padding:"8px 16px",backgroundColor:"#1890ff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"添加100个数字"}),(0,n.jsx)("button",{onClick:()=>f(1e3),style:{padding:"8px 16px",backgroundColor:"#722ed1",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"添加1000个数字"}),(0,n.jsx)("button",{onClick:()=>{s([])},style:{padding:"8px 16px",backgroundColor:"#ff4d4f",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"清空列表"})]})]}),(0,n.jsxs)("div",{style:{marginBottom:"20px",display:"flex",alignItems:"center",gap:"16px",flexWrap:"wrap"},children:[(0,n.jsx)("h3",{style:{margin:0,fontSize:"16px"},children:"操作类型："}),(0,n.jsxs)("select",{value:i,onChange:e=>l(e.target.value),style:{padding:"6px 12px",marginTop:"6px",borderRadius:"4px",border:"1px solid #d9d9d9",fontSize:"15px",background:"#fff",outline:"none",minWidth:"100px"},children:[(0,n.jsx)("option",{value:"sum",children:"求和"}),(0,n.jsx)("option",{value:"multiply",children:"相乘"}),(0,n.jsx)("option",{value:"sort",children:"排序"})]}),(0,n.jsx)("button",{onClick:g,disabled:!m||!h||u||0===e.length,style:{padding:"10px 24px",backgroundColor:m&&h&&e.length>0&&!u?"#007acc":"#e0e0e0",color:m&&h&&e.length>0&&!u?"white":"#888",border:"none",borderRadius:"4px",cursor:m&&h&&e.length>0&&!u?"pointer":"not-allowed",fontWeight:500,fontSize:"15px",transition:"background 0.2s"},children:u?"处理中...":"执行计算"}),(0,n.jsx)("button",{onClick:j,style:{padding:"10px 20px",backgroundColor:"#ff7875",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:500,fontSize:"15px",transition:"background 0.2s"},children:"销毁"}),(0,n.jsx)("button",{onClick:b,style:{padding:"10px 20px",backgroundColor:"#36cfc9",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:500,fontSize:"15px",transition:"background 0.2s"},children:"启动"})]}),null!==a&&(0,n.jsxs)("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f9f9f9",borderRadius:"4px"},children:[(0,n.jsx)("h3",{children:"结果："}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"计算结果："})," ",Array.isArray(a)?a.join(", "):a]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"处理时间："})," ",o.toFixed(2),"ms"]})]}),p&&(0,n.jsxs)("div",{style:{color:"red",padding:"10px",backgroundColor:"#ffe6e6",borderRadius:"4px"},children:["错误: ",p.message]}),(0,n.jsxs)("div",{style:{marginTop:"20px",fontSize:"14px",color:"#666"},children:["Worker 状态: ",m?"✅ 就绪":"⏳ 未启动"]})]})},N=()=>(0,n.jsxs)("div",{style:{padding:"20px"},children:[(0,n.jsx)("h1",{children:"Worker Demo"}),(0,n.jsx)(y,{})]}),D=(0,t(9719).lw)("postgresql://neondb_owner:npg_NJw7fPB9vQGu@ep-soft-smoke-ahjxdxvc-pooler.c-3.us-east-1.aws.neon.tech/neondb?sslmode=require");async function w(){try{await D`
      CREATE TABLE IF NOT EXISTS todos (
        id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
        title VARCHAR(255) NOT NULL,
        description TEXT,
        completed BOOLEAN DEFAULT FALSE,
        priority VARCHAR(20) DEFAULT 'medium',
        due_date TIMESTAMP,
        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
      )
    `,await D`CREATE INDEX IF NOT EXISTS idx_todos_completed ON todos(completed)`,await D`CREATE INDEX IF NOT EXISTS idx_todos_priority ON todos(priority)`,console.log("数据库表初始化成功")}catch(e){throw console.error("数据库初始化失败:",e),e}}async function C(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"medium",n=arguments.length>3?arguments[3]:void 0;try{return(await D`
      INSERT INTO todos (title, description, priority, due_date)
      VALUES (${e}, ${s||null}, ${t}, ${n||null})
      RETURNING *
    `)[0]}catch(e){throw console.error("创建 Todo 失败:",e),e}}async function k(){try{return await D`
      SELECT * FROM todos
      ORDER BY created_at DESC
    `}catch(e){throw console.error("获取 Todos 失败:",e),e}}async function S(e,s){try{return void 0!==s.title&&await D`UPDATE todos SET title = ${s.title}, updated_at = CURRENT_TIMESTAMP WHERE id = ${e}`,void 0!==s.description&&await D`UPDATE todos SET description = ${s.description}, updated_at = CURRENT_TIMESTAMP WHERE id = ${e}`,void 0!==s.completed&&await D`UPDATE todos SET completed = ${s.completed}, updated_at = CURRENT_TIMESTAMP WHERE id = ${e}`,void 0!==s.priority&&await D`UPDATE todos SET priority = ${s.priority}, updated_at = CURRENT_TIMESTAMP WHERE id = ${e}`,void 0!==s.dueDate&&await D`UPDATE todos SET due_date = ${s.dueDate}, updated_at = CURRENT_TIMESTAMP WHERE id = ${e}`,(await D`
      SELECT * FROM todos
      WHERE id = ${e}
    `)[0]}catch(e){throw console.error("更新 Todo 失败:",e),e}}async function R(e){try{return(await D`
      DELETE FROM todos
      WHERE id = ${e}
      RETURNING *
    `)[0]}catch(e){throw console.error("删除 Todo 失败:",e),e}}var T=t(4131);let E=e=>{let{isOpen:s,onClose:t,onSave:i,todo:l,mode:a}=e,[d,o]=(0,r.useState)({title:"",description:"",priority:"medium",dueDate:""}),[c,u]=(0,r.useState)(!1),[x,h]=(0,r.useState)("");(0,r.useEffect)(()=>{s&&("edit"===a&&l?o({title:l.title,description:l.description||"",priority:l.priority,dueDate:l.due_date?new Date(l.due_date).toISOString().slice(0,16):""}):o({title:"",description:"",priority:"medium",dueDate:""}),h(""))},[s,l,a]);let m=e=>{let{name:s,value:t}=e.target;o(e=>({...e,[s]:t})),h("")},p=async e=>{if(e.preventDefault(),!d.title.trim())return void h("标题不能为空");u(!0),h("");try{await i(d),t()}catch(e){console.error("保存失败:",e),h("保存失败，请重试")}finally{u(!1)}};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(T.A,{prefixCls:"todo-dialog",visible:s,onClose:t,closable:!0,closeIcon:(0,n.jsx)("span",{children:"✕"}),title:(0,n.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:"create"===a?"\uD83D\uDCDD 添加新Todo":"✏️ 编辑Todo"}),width:520,style:{maxWidth:"95vw"},styles:{body:{padding:"0"}},children:(0,n.jsx)("div",{className:"todo-form-container",children:(0,n.jsxs)("form",{onSubmit:p,children:[(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsxs)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151",fontSize:"14px"},children:["标题 ",(0,n.jsx)("span",{style:{color:"#ef4444"},children:"*"})]}),(0,n.jsx)("input",{type:"text",name:"title",value:d.title,onChange:m,placeholder:"输入Todo标题...",style:{width:"100%",padding:"12px 16px",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"16px",boxSizing:"border-box"}})]}),(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151",fontSize:"14px"},children:"描述"}),(0,n.jsx)("textarea",{name:"description",value:d.description,onChange:m,placeholder:"添加详细描述...",rows:4,style:{width:"100%",padding:"12px 16px",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"16px",boxSizing:"border-box",resize:"vertical",minHeight:"100px",fontFamily:"inherit"}})]}),(0,n.jsxs)("div",{className:"todo-form-row",children:[(0,n.jsxs)("div",{className:"todo-form-row-item",children:[(0,n.jsx)("label",{className:"todo-form-label",children:"优先级"}),(0,n.jsxs)("select",{name:"priority",value:d.priority,onChange:m,className:"todo-form-input todo-form-select",children:[(0,n.jsx)("option",{value:"low",children:"\uD83D\uDFE2 低优先级"}),(0,n.jsx)("option",{value:"medium",children:"\uD83D\uDFE1 中优先级"}),(0,n.jsx)("option",{value:"high",children:"\uD83D\uDD34 高优先级"})]})]}),(0,n.jsxs)("div",{className:"todo-form-row-item",children:[(0,n.jsx)("label",{className:"todo-form-label",children:"截止时间"}),(0,n.jsx)("input",{type:"datetime-local",name:"dueDate",value:d.dueDate,onChange:m,className:"todo-form-input"})]})]}),x&&(0,n.jsxs)("div",{className:"todo-error-message",children:["⚠️ ",x]}),(0,n.jsxs)("div",{className:"todo-button-group",children:[(0,n.jsx)("button",{type:"button",onClick:t,disabled:c,className:`todo-button todo-button-secondary ${c?"todo-button-disabled":""}`,children:"取消"}),(0,n.jsx)("button",{type:"submit",disabled:c,className:`todo-button ${c?"todo-button-loading":"todo-button-primary"} ${c?"todo-button-disabled":""}`,children:c?"保存中...":"create"===a?"创建":"保存"})]})]})})})})},F=e=>{let{isOpen:s,onClose:t,onConfirm:r,todo:i,loading:l=!1}=e;return(0,n.jsx)(T.A,{prefixCls:"confirm-delete-dialog",visible:s,onClose:t,closable:!0,closeIcon:(0,n.jsx)("span",{children:"✕"}),title:(0,n.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#dc2626"},children:"\uD83D\uDDD1️ 确认删除"}),width:420,style:{maxWidth:"95vw"},styles:{body:{padding:"0"}},children:(0,n.jsxs)("div",{className:"confirm-delete-container",children:[(0,n.jsxs)("div",{className:"confirm-delete-content",children:[(0,n.jsx)("p",{className:"confirm-delete-message",children:"确定要删除这个 Todo 吗？"}),i&&(0,n.jsxs)("div",{className:"confirm-delete-todo-info",children:[(0,n.jsxs)("div",{className:"todo-info-item",children:[(0,n.jsx)("strong",{children:"标题："}),(0,n.jsx)("span",{children:i.title})]}),i.description&&(0,n.jsxs)("div",{className:"todo-info-item",children:[(0,n.jsx)("strong",{children:"描述："}),(0,n.jsx)("span",{children:i.description})]}),(0,n.jsxs)("div",{className:"todo-info-item",children:[(0,n.jsx)("strong",{children:"优先级："}),(0,n.jsxs)("span",{children:["high"===i.priority&&"\uD83D\uDD34 高优先级","medium"===i.priority&&"\uD83D\uDFE1 中优先级","low"===i.priority&&"\uD83D\uDFE2 低优先级"]})]})]}),(0,n.jsx)("div",{className:"confirm-delete-warning",children:"⚠️ 此操作不可撤销，请谨慎操作！"})]}),(0,n.jsxs)("div",{className:"confirm-delete-buttons",children:[(0,n.jsx)("button",{type:"button",onClick:t,disabled:l,className:`confirm-delete-button confirm-delete-button-cancel ${l?"confirm-delete-button-disabled":""}`,children:"取消"}),(0,n.jsx)("button",{type:"button",onClick:r,disabled:l,className:`confirm-delete-button confirm-delete-button-danger ${l?"confirm-delete-button-disabled":""}`,children:l?"删除中...":"确认删除"})]})]})})},A=()=>{let[e,s]=(0,r.useState)([]),[t,i]=(0,r.useState)([]),[l,a]=(0,r.useState)(!0),[d,o]=(0,r.useState)(""),[c,u]=(0,r.useState)(!1),[x,h]=(0,r.useState)("create"),[m,p]=(0,r.useState)(null),[j,b]=(0,r.useState)(!1),[g,f]=(0,r.useState)(null),[v,y]=(0,r.useState)(!1),[N,D]=(0,r.useState)({status:"all",priority:"all",timeRange:"all",customStartDate:"",customEndDate:""});(0,r.useEffect)(()=>{T(),w().catch(e=>{console.error("数据库初始化失败:",e)})},[]),(0,r.useEffect)(()=>{let s=[...e];if("completed"===N.status?s=s.filter(e=>e.completed):"pending"===N.status&&(s=s.filter(e=>!e.completed)),"all"!==N.priority&&(s=s.filter(e=>e.priority===N.priority)),"all"!==N.timeRange){let e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate());s=s.filter(e=>{if(!e.due_date)return"all"===N.timeRange;let s=new Date(e.due_date);switch(N.timeRange){case"today":let n=new Date(t);return n.setDate(n.getDate()+1),s>=t&&s<n;case"thisWeek":let r=new Date(t);r.setDate(t.getDate()-t.getDay());let i=new Date(r);return i.setDate(r.getDate()+7),s>=r&&s<i;case"thisMonth":let l=new Date(t.getFullYear(),t.getMonth(),1),a=new Date(t.getFullYear(),t.getMonth()+1,1);return s>=l&&s<a;case"overdue":return s<t&&!e.completed;case"custom":if(N.customStartDate&&N.customEndDate){let e=new Date(N.customStartDate),t=new Date(N.customEndDate);return t.setHours(23,59,59,999),s>=e&&s<=t}return!0;default:return!0}})}i(s)},[e,N]);let T=async()=>{try{a(!0);let e=await k();s(e)}catch(e){console.error("加载 Todos 失败:",e),o("加载 Todos 失败")}finally{a(!1)}},A=async e=>{try{let t=e.dueDate?new Date(e.dueDate):void 0;if("create"===x){let n=await C(e.title.trim(),e.description.trim()||void 0,e.priority,t);s(e=>[n,...e])}else{if(!m)return;let n=await S(m.id,{title:e.title.trim(),description:e.description.trim()||void 0,priority:e.priority,dueDate:t});n&&s(e=>e.map(e=>e.id===m.id?n:e))}}catch(e){throw console.error("保存 Todo 失败:",e),e}},M=async e=>{try{await S(e.id,{completed:!e.completed})&&s(s=>s.map(s=>s.id===e.id?{...s,completed:!s.completed}:s))}catch(e){console.error("更新 Todo 状态失败:",e),o("更新 Todo 状态失败")}},I=()=>{b(!1),f(null),y(!1)},$=async()=>{if(g){y(!0);try{await R(g.id),s(e=>e.filter(e=>e.id!==g.id)),I()}catch(e){console.error("删除 Todo 失败:",e),o("删除 Todo 失败"),y(!1)}}},B=(e,s)=>{D(t=>({...t,[e]:s,..."timeRange"===e&&"custom"!==s?{customStartDate:"",customEndDate:""}:{}}))};return(0,n.jsxs)("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[(0,n.jsx)("h1",{children:"我的 Todo List"}),(0,n.jsxs)("button",{onClick:()=>{h("create"),p(null),u(!0)},style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[(0,n.jsx)("span",{children:"➕"}),"添加 Todo"]})]}),(0,n.jsxs)("div",{style:{backgroundColor:"#f8f9fa",padding:"20px",borderRadius:"8px",marginBottom:"30px",border:"1px solid #dee2e6"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"15px"},children:[(0,n.jsx)("h3",{style:{margin:0,color:"#495057"},children:"筛选条件"}),(0,n.jsx)("button",{onClick:()=>{D({status:"all",priority:"all",timeRange:"all",customStartDate:"",customEndDate:""})},style:{padding:"5px 15px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"重置筛选"})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",alignItems:"end"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"14px"},children:"完成状态"}),(0,n.jsxs)("select",{value:N.status,onChange:e=>B("status",e.target.value),style:{width:"100%",padding:"8px",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"14px"},children:[(0,n.jsx)("option",{value:"all",children:"全部"}),(0,n.jsx)("option",{value:"pending",children:"待完成"}),(0,n.jsx)("option",{value:"completed",children:"已完成"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"14px"},children:"优先级"}),(0,n.jsxs)("select",{value:N.priority,onChange:e=>B("priority",e.target.value),style:{width:"100%",padding:"8px",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"14px"},children:[(0,n.jsx)("option",{value:"all",children:"全部"}),(0,n.jsx)("option",{value:"high",children:"高优先级"}),(0,n.jsx)("option",{value:"medium",children:"中优先级"}),(0,n.jsx)("option",{value:"low",children:"低优先级"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"14px"},children:"时间范围"}),(0,n.jsxs)("select",{value:N.timeRange,onChange:e=>B("timeRange",e.target.value),style:{width:"100%",padding:"8px",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"14px"},children:[(0,n.jsx)("option",{value:"all",children:"全部"}),(0,n.jsx)("option",{value:"today",children:"今天"}),(0,n.jsx)("option",{value:"thisWeek",children:"本周"}),(0,n.jsx)("option",{value:"thisMonth",children:"本月"}),(0,n.jsx)("option",{value:"overdue",children:"已逾期"}),(0,n.jsx)("option",{value:"custom",children:"自定义范围"})]})]}),"custom"===N.timeRange&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"14px"},children:"开始日期"}),(0,n.jsx)("input",{type:"date",value:N.customStartDate,onChange:e=>B("customStartDate",e.target.value),style:{width:"100%",padding:"8px",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"14px"}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"14px"},children:"结束日期"}),(0,n.jsx)("input",{type:"date",value:N.customEndDate,onChange:e=>B("customEndDate",e.target.value),style:{width:"100%",padding:"8px",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"14px"}})]})]})]}),(0,n.jsxs)("div",{style:{marginTop:"15px",padding:"10px",backgroundColor:"#e9ecef",borderRadius:"4px",fontSize:"14px",color:"#495057"},children:["\uD83D\uDCCA 筛选结果：显示 ",t.length," 项 / 总共 ",e.length," 项"]})]}),d&&(0,n.jsx)("div",{style:{color:"red",backgroundColor:"#fee",padding:"10px",borderRadius:"4px",marginBottom:"20px"},children:d}),l?(0,n.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:(0,n.jsx)("div",{children:"加载中..."})}):0===e.length?(0,n.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#666",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:'还没有任何 Todo，点击上方"添加 Todo"开始创建吧！'}):0===t.length?(0,n.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#666",backgroundColor:"#fff3cd",borderRadius:"8px",border:"1px solid #ffeaa7"},children:"\uD83D\uDE14 没有符合筛选条件的 Todo，试试调整筛选条件或者重置筛选"}):(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:t.map(e=>{let s=e.due_date&&new Date(e.due_date)<new Date&&!e.completed;return(0,n.jsx)("div",{style:{padding:"15px",backgroundColor:e.completed?"#f8f9fa":s?"#fff5f5":"white",border:`1px solid ${s?"#feb2b2":"#ddd"}`,borderRadius:"8px",opacity:e.completed?.7:1,boxShadow:s?"0 2px 4px rgba(220, 53, 69, 0.1)":"none"},children:(0,n.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"15px"},children:[(0,n.jsx)("input",{type:"checkbox",checked:e.completed,onChange:()=>M(e),style:{marginTop:"3px",transform:"scale(1.2)",cursor:"pointer"}}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("h3",{style:{margin:"0 0 8px 0",textDecoration:e.completed?"line-through":"none",color:e.completed?"#666":"#333"},children:e.title}),e.description&&(0,n.jsx)("p",{style:{margin:"0 0 8px 0",color:"#666",lineHeight:"1.4"},children:e.description}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"15px",fontSize:"14px"},children:[(0,n.jsxs)("span",{style:{padding:"2px 8px",backgroundColor:(e=>{switch(e){case"high":return"#ff4757";case"medium":return"#ffa502";case"low":return"#2ed573";default:return"#777"}})(e.priority),color:"white",borderRadius:"12px",fontSize:"12px"},children:[(e=>{switch(e){case"high":return"高";case"medium":return"中";case"low":return"低";default:return e}})(e.priority),"优先级"]}),e.due_date&&(0,n.jsxs)("span",{style:{color:"#666"},children:["\uD83D\uDCC5 ",new Date(e.due_date).toLocaleString("zh-CN")]}),(0,n.jsxs)("span",{style:{color:"#999"},children:["创建于 ",new Date(e.created_at).toLocaleString("zh-CN")]})]})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,n.jsxs)("button",{onClick:()=>{h("edit"),p(e),u(!0)},style:{padding:"5px 10px",backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",display:"flex",alignItems:"center",gap:"4px"},children:[(0,n.jsx)("span",{children:"✏️"}),"编辑"]}),(0,n.jsxs)("button",{onClick:()=>{f(e),b(!0)},style:{padding:"5px 10px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",display:"flex",alignItems:"center",gap:"4px"},children:[(0,n.jsx)("span",{children:"\uD83D\uDDD1️"}),"删除"]})]})]})},e.id)})}),(0,n.jsx)(E,{isOpen:c,onClose:()=>{u(!1),p(null)},onSave:A,todo:m,mode:x}),(0,n.jsx)(F,{isOpen:j,todo:g,onClose:I,onConfirm:$,loading:v})]})};var M=t(2774);function I(e){let[s,t]=(0,r.useState)(null);return(0,r.useEffect)(()=>{try{let s=e||window.navigator.userAgent,n=new M.O(s).getResult(),r={browser:{name:n.browser.name,version:n.browser.version,major:n.browser.major},os:{name:n.os.name,version:n.os.version},device:{vendor:n.device.vendor,model:n.device.model,type:n.device.type},engine:{name:n.engine.name,version:n.engine.version},cpu:{architecture:n.cpu.architecture},isMobile:"mobile"===n.device.type,isTablet:"tablet"===n.device.type,isDesktop:!n.device.type,isIOS:"iOS"===n.os.name,isAndroid:"Android"===n.os.name,isWindows:"Windows"===n.os.name,isMac:"Mac OS"===n.os.name,isLinux:"Linux"===n.os.name,ua:s};t(r)}catch(e){console.error("Failed to parse user agent:",e),t(null)}},[e]),s}let $=e=>{let{label:s,value:t,icon:r}=e;return(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",backgroundColor:"#f8f9fa",borderRadius:"6px"},children:[(0,n.jsxs)("span",{style:{fontWeight:"bold",color:"#555"},children:[r&&(0,n.jsx)("span",{style:{marginRight:"8px"},children:r}),s,":"]}),(0,n.jsx)("span",{style:{color:"#333"},children:t})]})},B=e=>{let{userAgent:s,showRawUA:t=!1}=e,r=I(s);if(!r)return(0,n.jsx)("div",{children:"加载设备信息中..."});let i=()=>r.isMobile?"\uD83D\uDCF1":r.isTablet?"\uD83D\uDCF2":"\uD83D\uDCBB";return(0,n.jsxs)("div",{style:{padding:"20px",border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#fff",maxWidth:"600px",margin:"20px auto",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[(0,n.jsxs)("h2",{style:{marginTop:0,marginBottom:"20px",color:"#333"},children:[i()," 设备信息"]}),(0,n.jsxs)("div",{style:{display:"grid",gap:"15px"},children:[(0,n.jsx)($,{label:"设备类型",value:r.isMobile?"移动设备":r.isTablet?"平板设备":"桌面设备",icon:i()}),(0,n.jsx)($,{label:"浏览器",value:`${r.browser.name||"Unknown"} ${r.browser.version||""}`,icon:"\uD83C\uDF10"}),(0,n.jsx)($,{label:"操作系统",value:`${r.os.name||"Unknown"} ${r.os.version||""}`,icon:r.isIOS?"\uD83C\uDF4E":r.isAndroid?"\uD83E\uDD16":r.isWindows?"\uD83E\uDE9F":r.isMac?"\uD83C\uDF4E":r.isLinux?"\uD83D\uDC27":"❓"}),r.engine.name&&(0,n.jsx)($,{label:"渲染引擎",value:`${r.engine.name} ${r.engine.version||""}`,icon:"⚙️"}),r.cpu.architecture&&(0,n.jsx)($,{label:"CPU架构",value:r.cpu.architecture,icon:"\uD83D\uDDA5️"}),r.device.vendor&&(0,n.jsx)($,{label:"设备厂商",value:`${r.device.vendor} ${r.device.model||""}`,icon:"\uD83C\uDFED"})]}),t&&(0,n.jsxs)("details",{style:{marginTop:"20px"},children:[(0,n.jsx)("summary",{style:{cursor:"pointer",color:"#666",fontWeight:"bold"},children:"查看原始 User-Agent"}),(0,n.jsx)("pre",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#f5f5f5",borderRadius:"4px",fontSize:"12px",overflowX:"auto",wordBreak:"break-all",whiteSpace:"pre-wrap"},children:r.ua})]})]})},W=()=>{let e=I(),[s,t]=(0,r.useState)(""),[i,l]=(0,r.useState)(void 0);return(0,n.jsxs)("div",{style:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},children:[e&&(0,n.jsxs)("div",{style:{padding:"10px",margin:"10px",backgroundColor:"#fff",borderRadius:"4px"},children:[(0,n.jsx)("strong",{children:"当前设备:"}),JSON.stringify(e),e.isMobile?"\uD83D\uDCF1 移动端":"\uD83D\uDCBB 桌面端"," |",(0,n.jsx)("strong",{children:" 浏览器:"})," ",e.browser.name," |",(0,n.jsx)("strong",{children:" 系统:"})," ",e.os.name]}),(0,n.jsx)("h1",{style:{textAlign:"center",color:"#333",marginBottom:"10px"},children:"\uD83D\uDD0D 设备信息检测工具"}),(0,n.jsx)("p",{style:{textAlign:"center",color:"#666",marginBottom:"30px"},children:"基于 ua-parser-js 的设备信息解析示例"}),(0,n.jsxs)("div",{style:{padding:"20px",backgroundColor:"#fff",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[(0,n.jsx)("h3",{style:{marginTop:0},children:"测试不同的 User-Agent"}),(0,n.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:"预设设备:"}),(0,n.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px"},children:[Object.entries({"iPhone 14 Pro":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Samsung Galaxy S23":"Mozilla/5.0 (Linux; Android 13; SM-S911B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Mobile Safari/537.36","iPad Pro":"Mozilla/5.0 (iPad; CPU OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Windows Chrome":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36","macOS Safari":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.0 Safari/605.1.15","Linux Firefox":"Mozilla/5.0 (X11; Linux x86_64; rv:109.0) Gecko/20100101 Firefox/120.0"}).map(e=>{let[s,r]=e;return(0,n.jsx)("button",{onClick:()=>{t(r),l(r)},style:{padding:"8px 16px",borderRadius:"4px",border:"1px solid #ddd",backgroundColor:i===r?"#007bff":"#fff",color:i===r?"#fff":"#333",cursor:"pointer",transition:"all 0.2s"},children:s},s)}),(0,n.jsx)("button",{onClick:()=>{t(""),l(void 0)},style:{padding:"8px 16px",borderRadius:"4px",border:"1px solid #ddd",backgroundColor:i?"#fff":"#28a745",color:i?"#333":"#fff",cursor:"pointer",transition:"all 0.2s"},children:"当前设备"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:"或输入自定义 User-Agent:"}),(0,n.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,n.jsx)("input",{type:"text",value:s,onChange:e=>t(e.target.value),placeholder:"粘贴 User-Agent 字符串...",style:{flex:1,padding:"10px",borderRadius:"4px",border:"1px solid #ddd",fontSize:"14px"}}),(0,n.jsx)("button",{onClick:()=>l(s||void 0),disabled:!s,style:{padding:"10px 20px",borderRadius:"4px",border:"none",backgroundColor:s?"#007bff":"#ccc",color:"#fff",cursor:s?"pointer":"not-allowed"},children:"解析"})]})]})]}),(0,n.jsx)(B,{userAgent:i,showRawUA:!0}),(0,n.jsxs)("div",{style:{marginTop:"30px",padding:"20px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #ddd"},children:[(0,n.jsx)("h3",{children:"\uD83D\uDCA1 使用说明"}),(0,n.jsxs)("ul",{style:{lineHeight:"1.8"},children:[(0,n.jsx)("li",{children:"点击预设设备按钮可快速切换不同设备的 User-Agent"}),(0,n.jsx)("li",{children:"可以在输入框中粘贴任意 User-Agent 字符串进行解析"}),(0,n.jsx)("li",{children:'点击"当前设备"按钮可查看你正在使用的设备信息'}),(0,n.jsx)("li",{children:'展开"查看原始 User-Agent"可以看到完整的 UA 字符串'})]}),(0,n.jsx)("h4",{style:{marginTop:"20px"},children:"\uD83D\uDD27 技术栈"}),(0,n.jsxs)("ul",{style:{lineHeight:"1.8"},children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:"ua-parser-js"})," - User-Agent 解析库"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:"React Hooks"})," - 自定义 Hook 封装"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:"TypeScript"})," - 类型安全"]})]})]})]})},_=()=>{let[e,s]=(0,r.useState)([{id:1,name:"数据处理任务 1",status:"pending"},{id:2,name:"数据处理任务 2",status:"pending"},{id:3,name:"数据处理任务 3",status:"pending"},{id:4,name:"数据处理任务 4",status:"pending"},{id:5,name:"数据处理任务 5",status:"pending"}]),[t,i]=(0,r.useState)([]),[l,a]=(0,r.useState)(!1),d=e=>{i(s=>[...s,`[${new Date().toLocaleTimeString()}] ${e}`])},o=(0,r.useCallback)(e=>{d(`\u{7A7A}\u{95F2}\u{65F6}\u{95F4}\u{53EF}\u{7528}: ${e.timeRemaining().toFixed(2)}ms`),s(s=>{let t=[...s],n=!1;for(;e.timeRemaining()>0&&!n;){let e=t.findIndex(e=>"pending"===e.status);if(-1!==e){t[e]={...t[e],status:"processing"};let s=performance.now();for(let e=0;e<1e6;e++);let r=performance.now()-s;t[e]={...t[e],status:"completed"},d(`\u{4EFB}\u{52A1} ${t[e].name} \u{5DF2}\u{5B8C}\u{6210} (\u{8017}\u{65F6}: ${r.toFixed(2)}ms)`),n=!0}else{a(!1),d("所有任务已完成！");break}}return t})},[]);var c=l?o:()=>{};let u=(0,r.useRef)(c);return(0,r.useEffect)(()=>{u.current=c},[c]),(0,r.useEffect)(()=>{let e;return e=requestIdleCallback(e=>{u.current(e)}),()=>{e&&cancelIdleCallback(e)}},[]),(0,n.jsx)("div",{className:"idle-callback-page",children:(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)("h1",{children:"requestIdleCallback 示例"}),(0,n.jsx)("p",{className:"description",children:"requestIdleCallback 允许在浏览器空闲时执行低优先级任务，不会阻塞主线程。 适用于非关键任务，如数据处理、日志记录、分析等。"}),(0,n.jsxs)("div",{className:"controls",children:[(0,n.jsx)("button",{onClick:()=>{s(e=>e.map(e=>({...e,status:"pending"}))),i([]),a(!0),d("开始使用 requestIdleCallback 处理任务...")},disabled:l,className:"btn-primary",children:"开始处理任务"}),(0,n.jsx)("button",{onClick:()=>{s([{id:1,name:"数据处理任务 1",status:"pending"},{id:2,name:"数据处理任务 2",status:"pending"},{id:3,name:"数据处理任务 3",status:"pending"},{id:4,name:"数据处理任务 4",status:"pending"},{id:5,name:"数据处理任务 5",status:"pending"}]),i([]),a(!1)},className:"btn-secondary",children:"重置任务"})]}),(0,n.jsxs)("div",{className:"content-grid",children:[(0,n.jsxs)("div",{className:"task-list",children:[(0,n.jsx)("h2",{children:"任务列表"}),e.map(e=>(0,n.jsxs)("div",{className:`task-item ${e.status}`,children:[(0,n.jsx)("span",{className:"task-name",children:e.name}),(0,n.jsxs)("span",{className:`status-badge ${e.status}`,children:["pending"===e.status&&"待处理","processing"===e.status&&"处理中...","completed"===e.status&&"✓ 已完成"]})]},e.id))]}),(0,n.jsxs)("div",{className:"log-panel",children:[(0,n.jsx)("h2",{children:"处理日志"}),(0,n.jsx)("div",{className:"log-content",children:0===t.length?(0,n.jsx)("p",{className:"empty-log",children:'点击"开始处理任务"查看日志...'}):t.map((e,s)=>(0,n.jsx)("div",{className:"log-entry",children:e},s))})]})]}),(0,n.jsxs)("div",{className:"info-section",children:[(0,n.jsx)("h3",{children:"关键特性"}),(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:"利用浏览器空闲时间执行任务"}),(0,n.jsx)("li",{children:"不会阻塞用户交互和动画"}),(0,n.jsx)("li",{children:"可以通过 deadline.timeRemaining() 检查剩余时间"}),(0,n.jsx)("li",{children:"适合处理非紧急的后台任务"})]})]})]})})},O=()=>{let[e,s]=(0,r.useState)(!1),[t,i]=(0,r.useState)(0),[l,a]=(0,r.useState)(0),[d,o]=(0,r.useState)(0),[c,u]=(0,r.useState)(1),x=(0,r.useRef)(0),h=(0,r.useRef)(0),m=(0,r.useRef)(0),p=(0,r.useRef)(0);var j=(0,r.useCallback)(s=>{if(!e)return;p.current||(p.current=s),h.current++,x.current||(x.current=s,m.current=s),s-m.current>=1e3&&(i(Math.round(1e3*h.current/(s-x.current))),m.current=s);let t=(s-p.current)%3e3/3e3;a(100*t),o(360*t),u(1+.5*Math.sin(t*Math.PI*2))},[e]);let b=(0,r.useRef)(),g=(0,r.useRef)(),f=(0,r.useRef)(j);return(0,r.useEffect)(()=>{f.current=j},[j]),(0,r.useEffect)(()=>{let e=s=>{void 0!==g.current&&f.current(s),g.current=s,b.current=requestAnimationFrame(e)};return b.current=requestAnimationFrame(e),()=>{b.current&&cancelAnimationFrame(b.current)}},[]),(0,n.jsx)("div",{className:"animation-frame-page",children:(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)("h1",{children:"requestAnimationFrame 示例"}),(0,n.jsx)("p",{className:"description",children:"requestAnimationFrame 用于创建流畅的动画，在浏览器下次重绘前执行回调。 适用于所有类型的动画、视觉更新和游戏循环。"}),(0,n.jsxs)("div",{className:"controls",children:[(0,n.jsx)("button",{onClick:()=>{s(!0),p.current=0,x.current=0,h.current=0,m.current=0},disabled:e,className:"btn-primary",children:"开始动画"}),(0,n.jsx)("button",{onClick:()=>{s(!1),p.current=0},disabled:!e,className:"btn-warning",children:"停止动画"}),(0,n.jsx)("button",{onClick:()=>{s(!1),a(0),o(0),u(1),i(0),p.current=0,x.current=0,h.current=0,m.current=0},className:"btn-secondary",children:"重置"})]}),(0,n.jsxs)("div",{className:"stats",children:[(0,n.jsxs)("div",{className:"stat-item",children:[(0,n.jsx)("span",{className:"stat-label",children:"FPS:"}),(0,n.jsx)("span",{className:"stat-value",children:t})]}),(0,n.jsxs)("div",{className:"stat-item",children:[(0,n.jsx)("span",{className:"stat-label",children:"位置:"}),(0,n.jsxs)("span",{className:"stat-value",children:[l.toFixed(2),"%"]})]}),(0,n.jsxs)("div",{className:"stat-item",children:[(0,n.jsx)("span",{className:"stat-label",children:"旋转:"}),(0,n.jsxs)("span",{className:"stat-value",children:[d.toFixed(2),"\xb0"]})]}),(0,n.jsxs)("div",{className:"stat-item",children:[(0,n.jsx)("span",{className:"stat-label",children:"缩放:"}),(0,n.jsxs)("span",{className:"stat-value",children:[c.toFixed(2),"x"]})]})]}),(0,n.jsxs)("div",{className:"animation-container",children:[(0,n.jsx)("h2",{children:"动画演示区"}),(0,n.jsx)("div",{className:"demo-area",children:(0,n.jsx)("div",{className:"track",children:(0,n.jsx)("div",{className:"animated-box",style:{left:`${l}%`,transform:`translateX(-50%) rotate(${d}deg) scale(${c})`},children:(0,n.jsx)("div",{className:"box-content",children:"\uD83D\uDE80"})})})}),(0,n.jsxs)("div",{className:"demo-grid",children:[(0,n.jsxs)("div",{className:"demo-item",children:[(0,n.jsx)("h3",{children:"线性移动"}),(0,n.jsx)("div",{className:"mini-demo",children:(0,n.jsx)("div",{className:"mini-box linear",style:{left:`${l}%`}})})]}),(0,n.jsxs)("div",{className:"demo-item",children:[(0,n.jsx)("h3",{children:"旋转动画"}),(0,n.jsx)("div",{className:"mini-demo",children:(0,n.jsx)("div",{className:"mini-box rotation",style:{transform:`rotate(${d}deg)`}})})]}),(0,n.jsxs)("div",{className:"demo-item",children:[(0,n.jsx)("h3",{children:"缩放动画"}),(0,n.jsx)("div",{className:"mini-demo",children:(0,n.jsx)("div",{className:"mini-box scale",style:{transform:`scale(${c})`}})})]}),(0,n.jsxs)("div",{className:"demo-item",children:[(0,n.jsx)("h3",{children:"综合动画"}),(0,n.jsx)("div",{className:"mini-demo",children:(0,n.jsx)("div",{className:"mini-box combined",style:{left:`${l}%`,transform:`rotate(${d}deg) scale(${c})`}})})]})]})]}),(0,n.jsxs)("div",{className:"info-section",children:[(0,n.jsx)("h3",{children:"关键特性"}),(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:"与浏览器刷新率同步（通常 60 FPS）"}),(0,n.jsx)("li",{children:"自动优化性能，标签页不可见时暂停"}),(0,n.jsx)("li",{children:"提供时间戳参数，便于计算动画进度"}),(0,n.jsx)("li",{children:"适合所有视觉动画和游戏开发"})]})]})]})})};function z(e){let{mode:s,autoStart:t=!1,onComplete:n,onTick:i}=e,l="countdown"===s?e.duration:0,a="stopwatch"===s?e.initialTime??0:0,[d,o]=(0,r.useState)("countdown"===s?l:a),[c,u]=(0,r.useState)(!1),x=(0,r.useRef)(void 0),h=(0,r.useRef)(0),m=(0,r.useRef)(0),p=(0,r.useRef)(l),j=(0,r.useRef)(a),b=(0,r.useRef)(-1),g=(0,r.useRef)(n),f=(0,r.useRef)(i);(0,r.useEffect)(()=>{g.current=n,f.current=i},[n,i]);let v=(0,r.useCallback)(e=>{var t,n,r;h.current||(h.current=e);let i=e-h.current;if("stopwatch"===s){let e=j.current+i,s=Math.floor(e/1e3);s!==b.current&&(o(e),b.current=s,null==(t=f.current)||t.call(f,e)),x.current=requestAnimationFrame(v)}else{let e=Math.max(0,p.current-i),s=Math.floor(e/1e3);s!==b.current&&(o(e),b.current=s,null==(n=f.current)||n.call(f,e)),e>0?x.current=requestAnimationFrame(v):(o(0),u(!1),null==(r=g.current)||r.call(g))}},[s]),y=(0,r.useCallback)(e=>{if(x.current&&cancelAnimationFrame(x.current),"countdown"===s){let s=e??p.current;p.current=s,o(s)}else o(j.current);u(!0),h.current=0,m.current=0,b.current=-1,x.current=requestAnimationFrame(v)},[s,v]),N=(0,r.useCallback)(()=>{u(!1),m.current=d,x.current&&cancelAnimationFrame(x.current)},[d]),D=(0,r.useCallback)(()=>{void 0!==m.current&&(u(!0),h.current=0,x.current=requestAnimationFrame(e=>{h.current||("countdown"===s?h.current=e-(p.current-m.current):h.current=e-(m.current-j.current)),v(e)}))},[s,v]),w=(0,r.useCallback)(()=>{x.current&&cancelAnimationFrame(x.current),u(!1),"countdown"===s?o(p.current):o(j.current),m.current=0,h.current=0,b.current=-1},[s]);return(0,r.useEffect)(()=>()=>{x.current&&cancelAnimationFrame(x.current)},[]),(0,r.useEffect)(()=>{t&&y()},[]),{time:d,isRunning:c,start:y,stop:N,resume:D,reset:w}}let U=()=>{let e=z({mode:"stopwatch"}),[s,t]=(0,r.useState)(0),[i,l]=(0,r.useState)(!1),a=(0,r.useRef)(0),d=(0,r.useRef)(void 0),[o,c]=(0,r.useState)(0),[u,x]=(0,r.useState)(!1),h=(0,r.useRef)(0),m=(0,r.useRef)(void 0),[p,j]=(0,r.useState)(0),[b,g]=(0,r.useState)(!1),f=(0,r.useRef)(0),v=(0,r.useRef)(0),y=(0,r.useRef)(void 0),[N,D]=(0,r.useState)(0),[w,C]=(0,r.useState)(!1),k=(0,r.useRef)(0),S=(0,r.useRef)(0),R=(0,r.useRef)(void 0),[T,E]=(0,r.useState)(60),F=(0,r.useCallback)(()=>{a.current||(a.current=performance.now()),t(performance.now()-a.current),d.current=requestIdleCallback(F)},[]),A=()=>{l(!1),d.current&&cancelIdleCallback(d.current)},M=(0,r.useCallback)(()=>{h.current||(h.current=performance.now()),c(performance.now()-h.current),m.current=window.setTimeout(M,16)},[]),I=()=>{x(!1),m.current&&clearTimeout(m.current)},$=e=>{let s=Math.floor(e/1e3),t=Math.floor(e%1e3);return`${s}.${t.toString().padStart(3,"0")}s`},B=e=>{let s=Math.ceil(e/1e3);return`${s}\u{79D2}`},W=z({mode:"countdown",duration:1e3*T,onComplete:()=>{console.log("RAF 倒计时完成！")}}),_=(0,r.useCallback)(()=>{f.current||(f.current=performance.now());let e=performance.now()-f.current,s=Math.max(0,v.current-e);Math.ceil(s/1e3)!==Math.ceil(p/1e3)&&j(s),s>0?y.current=requestIdleCallback(_):(j(0),g(!1))},[p]),O=()=>{g(!1),y.current&&cancelIdleCallback(y.current)},U=(0,r.useCallback)(()=>{k.current||(k.current=performance.now());let e=performance.now()-k.current,s=Math.max(0,S.current-e);D(s),s>0?R.current=window.setTimeout(U,1e3):(D(0),C(!1))},[]),L=()=>{C(!1),R.current&&clearTimeout(R.current)};return(0,n.jsx)("div",{className:"timer-demo-page",children:(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)("h1",{children:"定时器对比演示"}),(0,n.jsx)("p",{className:"description",children:"对比 requestAnimationFrame、requestIdleCallback 和 setTimeout 三种定时器的精度和性能"}),(0,n.jsxs)("div",{className:"countdown-section",children:[(0,n.jsx)("h2",{children:"倒计时功能测试"}),(0,n.jsx)("p",{className:"countdown-description",children:"同时启动三种定时器的倒计时，观察它们的精度差异"}),(0,n.jsxs)("div",{className:"countdown-settings",children:[(0,n.jsx)("label",{htmlFor:"countdown-seconds",children:"设置倒计时时长（秒）："}),(0,n.jsx)("input",{id:"countdown-seconds",type:"number",min:"1",max:"3600",value:T,onChange:e=>E(Number(e.target.value)),disabled:W.isRunning||b||w}),(0,n.jsxs)("div",{className:"countdown-master-controls",children:[(0,n.jsx)("button",{onClick:()=>{W.start(1e3*T);let e=1e3*T;v.current=e,j(e),g(!0),f.current=0,y.current=requestIdleCallback(_);let s=1e3*T;S.current=s,D(s),C(!0),k.current=0,U()},disabled:W.isRunning||b||w,className:"btn-start-all",children:"\uD83D\uDE80 同时启动所有倒计时"}),(0,n.jsx)("button",{onClick:()=>{W.stop(),O(),L()},disabled:!W.isRunning&&!b&&!w,className:"btn-stop-all",children:"⏸️ 全部暂停"}),(0,n.jsx)("button",{onClick:()=>{W.reset(),O(),j(0),f.current=0,L(),D(0),k.current=0},className:"btn-reset-all",children:"\uD83D\uDD04 全部重置"})]})]}),(0,n.jsxs)("div",{className:"countdown-grid",children:[(0,n.jsxs)("div",{className:"countdown-card raf",children:[(0,n.jsxs)("div",{className:"countdown-header",children:[(0,n.jsx)("h3",{children:"requestAnimationFrame"}),(0,n.jsx)("span",{className:`countdown-status ${W.isRunning?"running":0===W.time?"":"paused"}`,children:W.isRunning?"运行中":0===W.time?"已完成":"已暂停"})]}),(0,n.jsx)("div",{className:"countdown-display",children:(0,n.jsx)("div",{className:"countdown-time",children:B(W.time)})}),(0,n.jsx)("div",{className:"countdown-progress",children:(0,n.jsx)("div",{className:"countdown-progress-bar raf-bar",style:{width:`${T>0?W.time/(1e3*T)*100:0}%`}})})]}),(0,n.jsxs)("div",{className:"countdown-card idle",children:[(0,n.jsxs)("div",{className:"countdown-header",children:[(0,n.jsx)("h3",{children:"requestIdleCallback"}),(0,n.jsx)("span",{className:`countdown-status ${b?"running":0===p?"":"paused"}`,children:b?"运行中":0===p?"已完成":"已暂停"})]}),(0,n.jsx)("div",{className:"countdown-display",children:(0,n.jsx)("div",{className:"countdown-time",children:B(p)})}),(0,n.jsx)("div",{className:"countdown-progress",children:(0,n.jsx)("div",{className:"countdown-progress-bar idle-bar",style:{width:`${v.current>0?p/v.current*100:0}%`}})})]}),(0,n.jsxs)("div",{className:"countdown-card timeout",children:[(0,n.jsxs)("div",{className:"countdown-header",children:[(0,n.jsx)("h3",{children:"setTimeout (16ms)"}),(0,n.jsx)("span",{className:`countdown-status ${w?"running":0===N?"":"paused"}`,children:w?"运行中":0===N?"已完成":"已暂停"})]}),(0,n.jsx)("div",{className:"countdown-display",children:(0,n.jsx)("div",{className:"countdown-time",children:B(N)})}),(0,n.jsx)("div",{className:"countdown-progress",children:(0,n.jsx)("div",{className:"countdown-progress-bar timeout-bar",style:{width:`${S.current>0?N/S.current*100:0}%`}})})]})]}),(0,n.jsxs)("div",{className:"countdown-note",children:[(0,n.jsx)("h4",{children:"\uD83D\uDCCA 观察要点："}),(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"requestAnimationFrame"})," - 最准确，几乎零误差"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"requestIdleCallback"})," - 误差最大，可能提前或延后数秒"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"setTimeout"})," - 会有累积误差，时间越长误差越大"]})]})]})]}),(0,n.jsxs)("div",{className:"timer-grid",children:[(0,n.jsxs)("div",{className:"timer-card raf",children:[(0,n.jsxs)("div",{className:"timer-header",children:[(0,n.jsx)("h2",{children:"requestAnimationFrame"}),(0,n.jsx)("span",{className:"timer-badge",children:"高精度"})]}),(0,n.jsxs)("div",{className:"timer-display",children:[(0,n.jsx)("div",{className:"time-value",children:$(e.time)}),(0,n.jsxs)("div",{className:"time-ms",children:[e.time.toFixed(2)," ms"]})]}),(0,n.jsxs)("div",{className:"timer-controls",children:[(0,n.jsx)("button",{onClick:()=>e.start(),disabled:e.isRunning,className:"btn-start",children:"开始"}),(0,n.jsx)("button",{onClick:()=>e.stop(),disabled:!e.isRunning,className:"btn-stop",children:"停止"}),(0,n.jsx)("button",{onClick:()=>e.reset(),className:"btn-reset",children:"重置"})]}),(0,n.jsxs)("div",{className:"timer-info",children:[(0,n.jsx)("h3",{children:"特点："}),(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:"与浏览器刷新率同步（60 FPS）"}),(0,n.jsx)("li",{children:"使用高精度时间戳，无时间漂移"}),(0,n.jsx)("li",{children:"适合动画和高精度计时"}),(0,n.jsx)("li",{children:"标签页不可见时自动暂停"}),(0,n.jsx)("li",{children:"性能最优，CPU 友好"})]})]})]}),(0,n.jsxs)("div",{className:"timer-card idle",children:[(0,n.jsxs)("div",{className:"timer-header",children:[(0,n.jsx)("h2",{children:"requestIdleCallback"}),(0,n.jsx)("span",{className:"timer-badge idle-badge",children:"低优先级"})]}),(0,n.jsxs)("div",{className:"timer-display",children:[(0,n.jsx)("div",{className:"time-value",children:$(s)}),(0,n.jsxs)("div",{className:"time-ms",children:[s.toFixed(2)," ms"]})]}),(0,n.jsxs)("div",{className:"timer-controls",children:[(0,n.jsx)("button",{onClick:()=>{l(!0),a.current=0,t(0),d.current=requestIdleCallback(F)},disabled:i,className:"btn-start",children:"开始"}),(0,n.jsx)("button",{onClick:A,disabled:!i,className:"btn-stop",children:"停止"}),(0,n.jsx)("button",{onClick:()=>{A(),t(0),a.current=0},className:"btn-reset",children:"重置"})]}),(0,n.jsxs)("div",{className:"timer-info",children:[(0,n.jsx)("h3",{children:"特点："}),(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:"在浏览器空闲时执行"}),(0,n.jsx)("li",{children:"不阻塞主线程"}),(0,n.jsx)("li",{children:"精度较低，不适合精确计时"}),(0,n.jsx)("li",{children:"适合后台数据处理"})]})]})]}),(0,n.jsxs)("div",{className:"timer-card timeout",children:[(0,n.jsxs)("div",{className:"timer-header",children:[(0,n.jsx)("h2",{children:"setTimeout (16ms)"}),(0,n.jsx)("span",{className:"timer-badge timeout-badge",children:"传统方式"})]}),(0,n.jsxs)("div",{className:"timer-display",children:[(0,n.jsx)("div",{className:"time-value",children:$(o)}),(0,n.jsxs)("div",{className:"time-ms",children:[o.toFixed(2)," ms"]})]}),(0,n.jsxs)("div",{className:"timer-controls",children:[(0,n.jsx)("button",{onClick:()=>{x(!0),h.current=0,c(0),M()},disabled:u,className:"btn-start",children:"开始"}),(0,n.jsx)("button",{onClick:I,disabled:!u,className:"btn-stop",children:"停止"}),(0,n.jsx)("button",{onClick:()=>{I(),c(0),h.current=0},className:"btn-reset",children:"重置"})]}),(0,n.jsxs)("div",{className:"timer-info",children:[(0,n.jsx)("h3",{children:"特点："}),(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:"传统定时器方式"}),(0,n.jsx)("li",{children:"最小延迟约 4ms（嵌套）"}),(0,n.jsx)("li",{children:"标签页不可见时会被限流"}),(0,n.jsx)("li",{children:"存在累积误差和时间漂移"})]})]})]})]}),(0,n.jsxs)("div",{className:"comparison-section",children:[(0,n.jsx)("h2",{children:"性能对比"}),(0,n.jsxs)("table",{className:"comparison-table",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"特性"}),(0,n.jsx)("th",{children:"requestAnimationFrame"}),(0,n.jsx)("th",{children:"requestIdleCallback"}),(0,n.jsx)("th",{children:"setTimeout"})]})}),(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"精度"}),(0,n.jsx)("td",{className:"good",children:"高（~16.67ms）"}),(0,n.jsx)("td",{className:"bad",children:"低（不确定）"}),(0,n.jsx)("td",{className:"medium",children:"中（≥4ms）"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"CPU 使用"}),(0,n.jsx)("td",{className:"good",children:"优化"}),(0,n.jsx)("td",{className:"good",children:"优化"}),(0,n.jsx)("td",{className:"medium",children:"一般"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"适用场景"}),(0,n.jsx)("td",{className:"good",children:"动画、游戏"}),(0,n.jsx)("td",{className:"medium",children:"后台任务"}),(0,n.jsx)("td",{className:"medium",children:"通用定时"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"后台运行"}),(0,n.jsx)("td",{className:"bad",children:"暂停"}),(0,n.jsx)("td",{className:"bad",children:"暂停"}),(0,n.jsx)("td",{className:"medium",children:"限流"})]})]})]})]}),(0,n.jsxs)("div",{className:"usage-section",children:[(0,n.jsx)("h2",{children:"使用建议"}),(0,n.jsxs)("div",{className:"usage-grid",children:[(0,n.jsxs)("div",{className:"usage-card",children:[(0,n.jsx)("h3",{children:"\uD83C\uDFAC requestAnimationFrame"}),(0,n.jsx)("p",{children:"适用于："}),(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:"动画效果"}),(0,n.jsx)("li",{children:"游戏循环"}),(0,n.jsx)("li",{children:"实时数据可视化"}),(0,n.jsx)("li",{children:"需要高精度的计时器"})]})]}),(0,n.jsxs)("div",{className:"usage-card",children:[(0,n.jsx)("h3",{children:"⏱️ requestIdleCallback"}),(0,n.jsx)("p",{children:"适用于："}),(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:"数据分析和统计"}),(0,n.jsx)("li",{children:"日志上报"}),(0,n.jsx)("li",{children:"预加载资源"}),(0,n.jsx)("li",{children:"非紧急的后台任务"})]})]}),(0,n.jsxs)("div",{className:"usage-card",children:[(0,n.jsx)("h3",{children:"⏰ setTimeout/setInterval"}),(0,n.jsx)("p",{children:"适用于："}),(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:"延迟执行"}),(0,n.jsx)("li",{children:"轮询操作"}),(0,n.jsx)("li",{children:"定时提醒"}),(0,n.jsx)("li",{children:"通用定时任务"})]})]})]})]})]})})},L=()=>{let[e,s]=(0,r.useState)([]),[t,i]=(0,r.useState)(10),l=e=>{let t=new Date().toLocaleTimeString("zh-CN");s(s=>[`[${t}] ${e}`,...s].slice(0,10))},a=z({mode:"stopwatch"}),d=z({mode:"stopwatch",onTick:e=>{let s=Math.floor(e/1e3);s>0&&s%10==0&&l(`\u{79D2}\u{7EA7}\u{6B63}\u{8BA1}\u{65F6}\u{5DF2}\u{8FD0}\u{884C} ${s} \u{79D2}`)}}),o=z({mode:"countdown",duration:6e5,onComplete:()=>{l("\uD83C\uDF89 活动开始！倒计时结束")},onTick:e=>{let s=Math.ceil(e/1e3);(60===s||30===s||10===s)&&l(`\u{26A0}\u{FE0F} \u{8FD8}\u{6709} ${s} \u{79D2}\u{6D3B}\u{52A8}\u{5F00}\u{59CB}`)}}),c=z({mode:"stopwatch"}),u=z({mode:"countdown",duration:1e3*t,onComplete:()=>{l(`\u{2705} ${t}\u{79D2}\u{5012}\u{8BA1}\u{65F6}\u{5B8C}\u{6210}`)}}),x=e=>{let s=Math.floor(e/1e3),t=Math.floor(s/3600),n=Math.floor(s%3600/60);return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${(s%60).toString().padStart(2,"0")}`},h=e=>{let s=Math.floor(e/1e3),t=Math.floor(s/3600),n=Math.floor(s%3600/60);return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${(s%60).toString().padStart(2,"0")}`};return(0,n.jsx)("div",{className:"raf-timer-demo-page",children:(0,n.jsxs)("div",{className:"container",children:[(0,n.jsxs)("header",{className:"page-header",children:[(0,n.jsx)("h1",{children:"⏱️ useRafTimer Hook 演示"}),(0,n.jsx)("p",{className:"subtitle",children:"基于 requestAnimationFrame 的高精度定时器 Hook"})]}),(0,n.jsxs)("div",{className:"demo-grid",children:[(0,n.jsxs)("div",{className:"demo-card",children:[(0,n.jsxs)("div",{className:"card-header",children:[(0,n.jsx)("h3",{children:"\uD83D\uDCCA 基础正计时"}),(0,n.jsx)("span",{className:"badge second-badge",children:"秒级更新"})]}),(0,n.jsx)("div",{className:"timer-display large",children:x(a.time)}),(0,n.jsxs)("div",{className:"card-controls",children:[(0,n.jsx)("button",{onClick:()=>a.start(),disabled:a.isRunning,className:"btn btn-start",children:"开始"}),(0,n.jsx)("button",{onClick:()=>a.stop(),disabled:!a.isRunning,className:"btn btn-stop",children:"停止"}),(0,n.jsx)("button",{onClick:()=>a.reset(),className:"btn btn-reset",children:"重置"})]}),(0,n.jsxs)("div",{className:"card-info",children:[(0,n.jsx)("code",{children:"mode: 'stopwatch'"}),(0,n.jsx)("p",{children:"秒级更新，减少重渲染"})]})]}),(0,n.jsxs)("div",{className:"demo-card",children:[(0,n.jsxs)("div",{className:"card-header",children:[(0,n.jsx)("h3",{children:"⏰ 秒级正计时"}),(0,n.jsx)("span",{className:"badge second-badge",children:"秒级更新"})]}),(0,n.jsx)("div",{className:"timer-display large",children:x(d.time)}),(0,n.jsxs)("div",{className:"card-controls",children:[(0,n.jsx)("button",{onClick:()=>{d.start(),l("秒级正计时已启动")},disabled:d.isRunning,className:"btn btn-start",children:"开始"}),(0,n.jsx)("button",{onClick:()=>d.stop(),disabled:!d.isRunning,className:"btn btn-stop",children:"停止"}),(0,n.jsx)("button",{onClick:()=>d.reset(),className:"btn btn-reset",children:"重置"})]}),(0,n.jsxs)("div",{className:"card-info",children:[(0,n.jsx)("code",{children:"onTick"}),(0,n.jsx)("p",{children:"秒级更新，带回调函数"})]})]}),(0,n.jsxs)("div",{className:"demo-card highlight",children:[(0,n.jsxs)("div",{className:"card-header",children:[(0,n.jsx)("h3",{children:"\uD83C\uDFAF 活动倒计时"}),(0,n.jsx)("span",{className:`status-badge ${o.isRunning?"running":""}`,children:o.isRunning?"运行中":"已停止"})]}),(0,n.jsx)("div",{className:"timer-display xlarge countdown",children:h(o.time)}),(0,n.jsx)("div",{className:"progress-bar",children:(0,n.jsx)("div",{className:"progress-fill",style:{width:`${o.time/6e5*100}%`,transition:"width 0.3s ease"}})}),(0,n.jsxs)("div",{className:"card-controls",children:[(0,n.jsx)("button",{onClick:()=>{o.start(),l("活动倒计时开始：10分钟")},disabled:o.isRunning,className:"btn btn-primary",children:"启动倒计时"}),(0,n.jsx)("button",{onClick:()=>{o.stop(),l("倒计时已暂停")},disabled:!o.isRunning,className:"btn btn-warning",children:"暂停"}),(0,n.jsx)("button",{onClick:()=>{o.resume(),l("倒计时已继续")},disabled:o.isRunning||0===o.time,className:"btn btn-success",children:"继续"}),(0,n.jsx)("button",{onClick:()=>o.reset(),className:"btn btn-reset",children:"重置"})]}),(0,n.jsxs)("div",{className:"card-info",children:[(0,n.jsx)("code",{children:"duration: 10 * 60 * 1000"}),(0,n.jsx)("p",{children:"带 onComplete 回调的倒计时"})]})]}),(0,n.jsxs)("div",{className:"demo-card",children:[(0,n.jsxs)("div",{className:"card-header",children:[(0,n.jsx)("h3",{children:"⏯️ 暂停/继续"}),(0,n.jsx)("span",{className:`status-badge ${c.isRunning?"running":"paused"}`,children:c.isRunning?"运行中":"已暂停"})]}),(0,n.jsx)("div",{className:"timer-display large",children:x(c.time)}),(0,n.jsxs)("div",{className:"card-controls",children:[(0,n.jsx)("button",{onClick:()=>{c.start(),l("定时器已启动")},disabled:c.isRunning,className:"btn btn-start",children:"开始"}),(0,n.jsx)("button",{onClick:()=>{c.stop(),l(`\u{5B9A}\u{65F6}\u{5668}\u{5DF2}\u{6682}\u{505C}\u{4E8E} ${x(c.time)}`)},disabled:!c.isRunning,className:"btn btn-warning",children:"暂停"}),(0,n.jsx)("button",{onClick:()=>{c.resume(),l("定时器已继续")},disabled:c.isRunning||0===c.time,className:"btn btn-success",children:"继续"}),(0,n.jsx)("button",{onClick:()=>c.reset(),className:"btn btn-reset",children:"重置"})]}),(0,n.jsxs)("div",{className:"card-info",children:[(0,n.jsx)("code",{children:"stop() / resume()"}),(0,n.jsx)("p",{children:"支持暂停后从当前位置继续"})]})]}),(0,n.jsxs)("div",{className:"demo-card",children:[(0,n.jsxs)("div",{className:"card-header",children:[(0,n.jsx)("h3",{children:"\uD83D\uDD27 动态时长"}),(0,n.jsx)("span",{className:"badge custom-badge",children:"可配置"})]}),(0,n.jsx)("div",{className:"timer-display large",children:h(u.time)}),(0,n.jsxs)("div",{className:"duration-control",children:[(0,n.jsx)("label",{htmlFor:"duration-input",children:"设置时长（秒）："}),(0,n.jsx)("input",{id:"duration-input",type:"number",min:"1",max:"300",value:t,onChange:e=>i(Number(e.target.value)),disabled:u.isRunning})]}),(0,n.jsxs)("div",{className:"card-controls",children:[(0,n.jsx)("button",{onClick:()=>{u.start(1e3*t),l(`\u{542F}\u{52A8} ${t} \u{79D2}\u{5012}\u{8BA1}\u{65F6}`)},disabled:u.isRunning,className:"btn btn-primary",children:"启动"}),(0,n.jsx)("button",{onClick:()=>u.stop(),disabled:!u.isRunning,className:"btn btn-stop",children:"停止"}),(0,n.jsx)("button",{onClick:()=>u.reset(),className:"btn btn-reset",children:"重置"})]}),(0,n.jsxs)("div",{className:"card-info",children:[(0,n.jsx)("code",{children:"start(newDuration)"}),(0,n.jsx)("p",{children:"运行时动态修改倒计时时长"})]})]}),(0,n.jsxs)("div",{className:"demo-card log-panel",children:[(0,n.jsxs)("div",{className:"card-header",children:[(0,n.jsx)("h3",{children:"\uD83D\uDCDD 回调日志"}),(0,n.jsx)("button",{onClick:()=>s([]),className:"btn btn-sm btn-clear",children:"清空"})]}),(0,n.jsx)("div",{className:"log-container",children:0===e.length?(0,n.jsx)("div",{className:"log-empty",children:"暂无日志记录"}):e.map((e,s)=>(0,n.jsx)("div",{className:"log-item",children:e},s))}),(0,n.jsx)("div",{className:"card-info",children:(0,n.jsx)("p",{children:"onComplete 和 onTick 回调触发记录"})})]})]}),(0,n.jsxs)("section",{className:"code-examples",children:[(0,n.jsx)("h2",{children:"\uD83D\uDCBB 使用示例"}),(0,n.jsxs)("div",{className:"code-block",children:[(0,n.jsx)("h4",{children:"基础用法 - 正计时"}),(0,n.jsx)("pre",{children:(0,n.jsx)("code",{children:`const timer = useRafTimer({
  mode: 'stopwatch'
});

// \u{63A7}\u{5236}\u{65B9}\u{6CD5}
timer.start();  // \u{5F00}\u{59CB}
timer.stop();   // \u{6682}\u{505C}
timer.resume(); // \u{7EE7}\u{7EED}
timer.reset();  // \u{91CD}\u{7F6E}

// \u{72B6}\u{6001}
timer.time       // \u{5F53}\u{524D}\u{65F6}\u{95F4}\u{FF08}\u{6BEB}\u{79D2}\u{FF09}
timer.isRunning  // \u{662F}\u{5426}\u{8FD0}\u{884C}\u{4E2D}`})})]}),(0,n.jsxs)("div",{className:"code-block",children:[(0,n.jsx)("h4",{children:"倒计时 + 回调"}),(0,n.jsx)("pre",{children:(0,n.jsx)("code",{children:`const countdown = useRafTimer({
  mode: 'countdown',
  duration: 10 * 60 * 1000, // 10\u{5206}\u{949F}
  onComplete: () => {
    console.log('\u{5012}\u{8BA1}\u{65F6}\u{7ED3}\u{675F}\u{FF01}');
    // \u{8DF3}\u{8F6C}\u{3001}\u{63D0}\u{793A}\u{7B49}\u{64CD}\u{4F5C}
  },
  onTick: (remaining) => {
    const seconds = Math.ceil(remaining / 1000);
    if (seconds === 60) {
      console.log('\u{8FD8}\u{6709}1\u{5206}\u{949F}');
    }
  }
});`})})]}),(0,n.jsxs)("div",{className:"code-block",children:[(0,n.jsx)("h4",{children:"动态修改时长"}),(0,n.jsx)("pre",{children:(0,n.jsx)("code",{children:`// \u{542F}\u{52A8}\u{65F6}\u{6307}\u{5B9A}\u{65B0}\u{7684}\u{65F6}\u{957F}
timer.start(customDuration * 1000);

// \u{793A}\u{4F8B}\u{FF1A}\u{7528}\u{6237}\u{8F93}\u{5165}\u{5012}\u{8BA1}\u{65F6}\u{65F6}\u{957F}
const [duration, setDuration] = useState(60);
<input 
  value={duration} 
  onChange={(e) => setDuration(Number(e.target.value))}
/>
<button onClick={() => timer.start(duration * 1000)}>
  \u{542F}\u{52A8}
</button>`})})]})]}),(0,n.jsxs)("section",{className:"api-docs",children:[(0,n.jsx)("h2",{children:"\uD83D\uDCDA API 文档"}),(0,n.jsxs)("div",{className:"api-table",children:[(0,n.jsx)("h4",{children:"配置选项（UseRafTimerOptions）"}),(0,n.jsxs)("table",{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"参数"}),(0,n.jsx)("th",{children:"类型"}),(0,n.jsx)("th",{children:"必填"}),(0,n.jsx)("th",{children:"说明"})]})}),(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"mode"}),(0,n.jsx)("td",{children:"'stopwatch' | 'countdown'"}),(0,n.jsx)("td",{children:"✅"}),(0,n.jsx)("td",{children:"定时器模式：正计时或倒计时"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"duration"}),(0,n.jsx)("td",{children:"number"}),(0,n.jsx)("td",{children:"✅"}),(0,n.jsx)("td",{children:"倒计时时长（毫秒），countdown模式必需"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"initialTime"}),(0,n.jsx)("td",{children:"number"}),(0,n.jsx)("td",{children:"❌"}),(0,n.jsx)("td",{children:"正计时初始时间（毫秒），stopwatch模式可选，默认0"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"autoStart"}),(0,n.jsx)("td",{children:"boolean"}),(0,n.jsx)("td",{children:"❌"}),(0,n.jsx)("td",{children:"是否自动开始，默认false"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"onComplete"}),(0,n.jsx)("td",{children:"() => void"}),(0,n.jsx)("td",{children:"❌"}),(0,n.jsx)("td",{children:"倒计时结束回调"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"onTick"}),(0,n.jsx)("td",{children:"(time: number) => void"}),(0,n.jsx)("td",{children:"❌"}),(0,n.jsx)("td",{children:"每次更新回调"})]})]})]})]}),(0,n.jsxs)("div",{className:"api-table",children:[(0,n.jsx)("h4",{children:"返回值（UseRafTimerReturn）"}),(0,n.jsxs)("table",{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"属性/方法"}),(0,n.jsx)("th",{children:"类型"}),(0,n.jsx)("th",{children:"说明"})]})}),(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"time"}),(0,n.jsx)("td",{children:"number"}),(0,n.jsx)("td",{children:"当前时间值（毫秒）"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"isRunning"}),(0,n.jsx)("td",{children:"boolean"}),(0,n.jsx)("td",{children:"是否正在运行"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"start"}),(0,n.jsx)("td",{children:"(newDuration?: number) => void"}),(0,n.jsx)("td",{children:"开始/重新开始定时器"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"stop"}),(0,n.jsx)("td",{children:"() => void"}),(0,n.jsx)("td",{children:"暂停（保留进度）"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"resume"}),(0,n.jsx)("td",{children:"() => void"}),(0,n.jsx)("td",{children:"从暂停处继续"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"reset"}),(0,n.jsx)("td",{children:"() => void"}),(0,n.jsx)("td",{children:"重置到初始状态"})]})]})]})]})]})]})})},q=()=>{let e=(0,l.zy)(),[s,t]=(0,r.useState)(!1),i=[{path:"/",label:"首页",icon:"\uD83C\uDFE0"},{path:"/live-chat",label:"Live Chat",icon:"\uD83D\uDCF1"},{path:"/live-chat1",label:"Live Chat 1",icon:"\uD83D\uDCAC"},{path:"/worker-demo",label:"Worker Demo",icon:"\uD83D\uDC77"},{path:"/todo",label:"Todo List",icon:"✅"},{path:"/device-info",label:"Device Info",icon:"\uD83D\uDD0D"},{path:"/idle-callback",label:"Idle Callback",icon:"⏱️"},{path:"/animation-frame",label:"Animation Frame",icon:"\uD83C\uDFAC"},{path:"/timer-demo",label:"定时器对比",icon:"⏰"},{path:"/raf-timer-demo",label:"RAF Timer Hook",icon:"⚡"}],a=()=>{t(!1)};return(0,r.useEffect)(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[s]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("nav",{className:"navigation",children:(0,n.jsxs)("div",{className:"nav-container",children:[(0,n.jsx)(l.N_,{to:"/",className:"nav-logo",children:"NDZY Web"}),(0,n.jsx)("div",{className:"nav-items",children:i.map(s=>(0,n.jsxs)(l.N_,{to:s.path,className:`nav-link ${e.pathname===s.path?"active":""}`,children:[(0,n.jsx)("span",{className:"nav-link-icon",children:s.icon}),(0,n.jsx)("span",{className:"nav-link-text",children:s.label})]},s.path))}),(0,n.jsx)("div",{className:"nav-actions",children:(0,n.jsxs)("a",{href:"https://github.com/ndzy01",target:"_blank",rel:"noopener noreferrer",className:"github-link",children:[(0,n.jsx)("span",{children:"⭐"}),(0,n.jsx)("span",{children:"GitHub"})]})}),(0,n.jsx)("button",{className:"menu-toggle",onClick:()=>{t(!s)},"aria-label":"Toggle menu",children:"☰"})]})}),(0,n.jsx)("div",{className:`drawer-overlay ${s?"open":""}`,onClick:a}),(0,n.jsxs)("div",{className:`drawer ${s?"open":""}`,children:[(0,n.jsxs)("div",{className:"drawer-header",children:[(0,n.jsx)("h2",{className:"drawer-title",children:"NDZY Web"}),(0,n.jsx)("button",{className:"drawer-close",onClick:a,"aria-label":"Close menu",children:"✕"})]}),(0,n.jsx)("div",{className:"drawer-content",children:(0,n.jsx)("div",{className:"drawer-nav-items",children:i.map(s=>(0,n.jsxs)(l.N_,{to:s.path,className:`drawer-nav-link ${e.pathname===s.path?"active":""}`,onClick:a,children:[(0,n.jsx)("span",{className:"drawer-nav-link-icon",children:s.icon}),(0,n.jsx)("span",{className:"drawer-nav-link-text",children:s.label})]},s.path))})}),(0,n.jsx)("div",{className:"drawer-footer",children:(0,n.jsxs)("a",{href:"https://github.com/ndzy01",target:"_blank",rel:"noopener noreferrer",className:"drawer-github-link",onClick:a,children:[(0,n.jsx)("span",{children:"⭐"}),(0,n.jsx)("span",{children:"Star on GitHub"})]})})]})]})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("https://www.ndzy01.com/ndzy-web/service-worker.js").then(e=>{console.log("Service Worker 注册成功: ",e)}).catch(e=>{console.log("Service Worker 注册失败: ",e)})});let P=document.getElementById("root");P&&i.createRoot(P).render((0,n.jsx)(r.StrictMode,{children:(0,n.jsx)(l.I9,{children:(0,n.jsx)(()=>(0,n.jsxs)("div",{style:{minHeight:"100vh",backgroundColor:"#f8f9fa"},children:[(0,n.jsx)(q,{}),(0,n.jsx)("main",{children:(0,n.jsxs)(l.BV,{children:[(0,n.jsx)(l.qh,{path:"/",element:(0,n.jsx)(a,{})}),(0,n.jsx)(l.qh,{path:"/live-chat",element:(0,n.jsx)(h,{})}),(0,n.jsx)(l.qh,{path:"/live-chat1",element:(0,n.jsx)(f,{})}),(0,n.jsx)(l.qh,{path:"/worker-demo",element:(0,n.jsx)(N,{})}),(0,n.jsx)(l.qh,{path:"/todo",element:(0,n.jsx)(A,{})}),(0,n.jsx)(l.qh,{path:"/device-info",element:(0,n.jsx)(W,{})}),(0,n.jsx)(l.qh,{path:"/idle-callback",element:(0,n.jsx)(_,{})}),(0,n.jsx)(l.qh,{path:"/animation-frame",element:(0,n.jsx)(O,{})}),(0,n.jsx)(l.qh,{path:"/timer-demo",element:(0,n.jsx)(U,{})}),(0,n.jsx)(l.qh,{path:"/raf-timer-demo",element:(0,n.jsx)(L,{})}),(0,n.jsx)(l.qh,{path:"*",element:(0,n.jsxs)("div",{style:{padding:"40px",textAlign:"center"},children:[(0,n.jsx)("h1",{children:"404 - 页面未找到"}),(0,n.jsx)("p",{children:"您访问的页面不存在"})]})})]})})]}),{})})}))},5747:function(){}},s={};function t(n){var r=s[n];if(void 0!==r)return r.exports;var i=s[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}t.m=e,t.n=e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return t.d(s,{a:s}),s},(()=>{var e,s=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;t.t=function(n,r){if(1&r&&(n=this(n)),8&r||"object"==typeof n&&n&&(4&r&&n.__esModule||16&r&&"function"==typeof n.then))return n;var i=Object.create(null);t.r(i);var l={};e=e||[null,s({}),s([]),s(s)];for(var a=2&r&&n;"object"==typeof a&&!~e.indexOf(a);a=s(a))Object.getOwnPropertyNames(a).forEach(e=>{l[e]=()=>n[e]});return l.default=()=>n,t.d(i,l),i}})(),t.d=(e,s)=>{for(var n in s)t.o(s,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:s[n]})},t.u=e=>"static/js/async/"+e+".f9f1f6af.js",t.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e=[];t.O=(s,n,r,i)=>{if(n){i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[n,r,i];return}for(var a=1/0,l=0;l<e.length;l++){for(var[n,r,i]=e[l],d=!0,o=0;o<n.length;o++)(!1&i||a>=i)&&Object.keys(t.O).every(e=>t.O[e](n[o]))?n.splice(o--,1):(d=!1,i<a&&(a=i));if(d){e.splice(l--,1);var c=r();void 0!==c&&(s=c)}}return s}})(),t.p="/ndzy-web/",(()=>{t.b=document.baseURI||self.location.href;var e={410:0};t.O.j=s=>0===e[s];var s=(s,n)=>{var r,i,[l,a,d]=n,o=0;if(l.some(s=>0!==e[s])){for(r in a)t.o(a,r)&&(t.m[r]=a[r]);if(d)var c=d(t)}for(s&&s(n);o<l.length;o++)i=l[o],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(c)},n=self.webpackChunkndzy_web=self.webpackChunkndzy_web||[];n.forEach(s.bind(null,0)),n.push=s.bind(null,n.push.bind(n))})();var n=t.O(void 0,["783","535","60"],function(){return t(8603)});n=t.O(n)})();