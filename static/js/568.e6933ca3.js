(self.webpackChunkndzy_web=self.webpackChunkndzy_web||[]).push([["568"],{4007:function(e,t,n){"use strict";n.d(t,{AcM:()=>p});var r=n(7391);let o=n.n(r)()();function i(e,t){let n=e;if(Array.isArray(e)){let r=e;t?.maxCharCount&&"string"==typeof e[0]&&(r=e.filter(e=>e.length<=t.maxCharCount)),n=()=>l(r)}return void 0===t?.length?n(0):Array.from({length:t.length},(e,t)=>n(t))}function l(e){return e[Math.floor(o()*e.length)]}function s({min:e=1,max:t=9999.99,fraction:n=0}={}){if(t<e)throw Error("Max must be bigger than min");return Number((o()*(t-e)+e).toFixed(n))}let a="abcdefghijklmnopqrstuvwxyz";function u(e){return i(a.split(""),e)}a.toUpperCase();var c=["est","voluptatem","non","aut","aliquid","quaerat","quos","vel","tenetur","consectetur","ipsum","voluptate","numquam","nulla","asperiores","in","laborum","quas","et","ullam","consequuntur","enim","dicta","quia","facilis","voluptatibus","at","hic","sunt","excepturi","maiores","vitae","fugit","possimus","unde","repellat","sit","necessitatibus","nemo","qui","exercitationem","dolores","esse","reiciendis","nihil","commodi","id","sequi","consequatur","occaecati","deserunt","quae","eos","sapiente","fugiat","neque","quasi","nostrum","magnam","sed","omnis","doloribus","error","ducimus","rerum","beatae","cupiditate","blanditiis","labore"];function d(e){return i(()=>{var t;let n=l(c);return e?.capitalize&&(n=(t=n).charAt(0).toUpperCase()+t.slice(1)),n},e)}function f(e){return i(()=>{let e=d({capitalize:!0}),t=1;for(;t<50;){let n=d(),r="";if(++t>3&&(r=function(e){let t=s({min:1,max:10,fraction:0});return 1===t||50===e?".":2===t?",":""}(t)),e+=` ${n}${r}`,"."===r)break}return e},e)}function p(e){let t=e.min,n=e.max;if(t>=n)throw Error("Min must be less than max");return i(()=>(function(e){let t=e?.charCount??10;if(t<1||isNaN(t))throw"Character count must be greater than 0";return i(()=>{let e=f();if(1===t)return u();for(;e.length<t;)e+=` ${f()}`;return e.substring(0,t-2)+`${u()}.`},e)})({charCount:s({min:t,max:n})}),e)}},6144:function(e,t,n){"use strict";n.d(t,{A:()=>l});var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=n(6540);let i=function(e){var t=(0,o.useRef)(e);t.current=(0,o.useMemo)(function(){return e},[e]);var n=(0,o.useRef)(void 0);return n.current||(n.current=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.current.apply(this,e)}),n.current},l=function(e){var t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)l.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return l}((0,o.useState)(e),2),n=t[0],l=t[1];return[n,i(function(e){l(function(t){var n="function"==typeof e?e(t):e;return n?r(r({},t),n):t})})]}},7833:function(e,t,n){let r;t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))}),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){let e;return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),r=!1,t.destroy=()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))},t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(736)(t);let{formatters:o}=e.exports;o.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},736:function(e,t,n){e.exports=function(e){function t(e){let n,o,i,l=null;function s(...e){if(!s.enabled)return;let r=Number(new Date);s.diff=r-(n||r),s.prev=n,s.curr=r,n=r,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,r)=>{if("%%"===n)return"%";o++;let i=t.formatters[r];if("function"==typeof i){let t=e[o];n=i.call(s,t),e.splice(o,1),o--}return n}),t.formatArgs.call(s,e),(s.log||t.log).apply(s,e)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=r,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==l?l:(o!==t.namespaces&&(o=t.namespaces,i=t.enabled(e)),i),set:e=>{l=e}}),"function"==typeof t.init&&t.init(s),s}function r(e,n){let r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function o(e,t){let n=0,r=0,o=-1,i=0;for(;n<e.length;)if(r<t.length&&(t[r]===e[n]||"*"===t[r]))"*"===t[r]?(o=r,i=n):n++,r++;else{if(-1===o)return!1;r=o+1,n=++i}for(;r<t.length&&"*"===t[r];)r++;return r===t.length}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){let e=[...t.names,...t.skips.map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){for(let n of(t.save(e),t.namespaces=e,t.names=[],t.skips=[],("string"==typeof e?e:"").trim().replace(/\s+/g,",").split(",").filter(Boolean)))"-"===n[0]?t.skips.push(n.slice(1)):t.names.push(n)},t.enabled=function(e){for(let n of t.skips)if(o(e,n))return!1;for(let n of t.names)if(o(e,n))return!0;return!1},t.humanize=n(6585),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(n=>{t[n]=e[n]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t)|0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},5409:function(e){"use strict";e.exports=e=>!!e&&("symbol"==typeof Symbol.observable&&"function"==typeof e[Symbol.observable]?e===e[Symbol.observable]():"function"==typeof e["@@observable"]&&e===e["@@observable"]())},6585:function(e){function t(e,t,n,r){return Math.round(e/n)+" "+r+(t>=1.5*n?"s":"")}e.exports=function(e,n){n=n||{};var r,o,i,l,s=typeof e;if("string"===s&&e.length>0){var a=e;if(!((a=String(a)).length>100)){var u=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(a);if(u){var c=parseFloat(u[1]);switch((u[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*c;case"weeks":case"week":case"w":return 6048e5*c;case"days":case"day":case"d":return 864e5*c;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*c;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*c;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*c;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:break}}}return}if("number"===s&&isFinite(e)){return n.long?(o=Math.abs(r=e))>=864e5?t(r,o,864e5,"day"):o>=36e5?t(r,o,36e5,"hour"):o>=6e4?t(r,o,6e4,"minute"):o>=1e3?t(r,o,1e3,"second"):r+" ms":(l=Math.abs(i=e))>=864e5?Math.round(i/864e5)+"d":l>=36e5?Math.round(i/36e5)+"h":l>=6e4?Math.round(i/6e4)+"m":l>=1e3?Math.round(i/1e3)+"s":i+"ms"}throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},3581:function(e,t,n){"use strict";n.r(t),n.d(t,{Observable:()=>y,multicast:()=>z,unsubscribe:()=>w,scan:()=>M,filter:()=>T,merge:()=>E,flatMap:()=>I,map:()=>S,interval:()=>k,Subject:()=>R});class r{constructor(e){this._baseObserver=e,this._pendingPromises=new Set}complete(){Promise.all(this._pendingPromises).then(()=>this._baseObserver.complete()).catch(e=>this._baseObserver.error(e))}error(e){this._baseObserver.error(e)}schedule(e){let t=Promise.all(this._pendingPromises),n=[],r=e=>n.push(e),o=Promise.resolve().then(()=>{var i,l,s,a;return i=this,l=void 0,s=void 0,a=function*(){for(let i of(yield t,yield e(r),this._pendingPromises.delete(o),n))this._baseObserver.next(i)},new(s||(s=Promise))(function(e,t){function n(e){try{o(a.next(e))}catch(e){t(e)}}function r(e){try{o(a.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):((o=t.value)instanceof s?o:new s(function(e){e(o)})).then(n,r)}o((a=a.apply(i,l||[])).next())})}).catch(e=>{this._pendingPromises.delete(o),this._baseObserver.error(e)});this._pendingPromises.add(o)}}let o=e=>"function"==typeof Symbol&&!!Symbol[e],i=e=>o(e)?Symbol[e]:"@@"+e;o("asyncIterator")||(Symbol.asyncIterator=Symbol.asyncIterator||Symbol.for("Symbol.asyncIterator"));let l=i("iterator"),s=i("observable"),a=i("species");function u(e,t){let n=e[t];if(null!=n){if("function"!=typeof n)throw TypeError(n+" is not a function");return n}}function c(e){let t=e.constructor;return void 0!==t&&null===(t=t[a])&&(t=void 0),void 0!==t?t:x}function d(e){d.log?d.log(e):setTimeout(()=>{throw e},0)}function f(e){Promise.resolve().then(()=>{try{e()}catch(e){d(e)}})}function p(e){let t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{let e=u(t,"unsubscribe");e&&e.call(t)}}catch(e){d(e)}}function h(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function m(e,t,n){e._state="running";let r=e._observer;try{let o=r?u(r,t):void 0;switch(t){case"next":o&&o.call(r,n);break;case"error":if(h(e),o)o.call(r,n);else throw n;break;case"complete":h(e),o&&o.call(r)}}catch(e){d(e)}"closed"===e._state?p(e):"running"===e._state&&(e._state="ready")}function g(e,t,n){if("closed"!==e._state){if("buffering"===e._state){e._queue=e._queue||[],e._queue.push({type:t,value:n});return}if("ready"!==e._state){e._state="buffering",e._queue=[{type:t,value:n}],f(()=>(function(e){let t=e._queue;if(t){for(let n of(e._queue=void 0,e._state="ready",t))if(m(e,n.type,n.value),"closed"===e._state)break}})(e));return}m(e,t,n)}}class v{constructor(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";let n=new b(this);try{this._cleanup=t.call(void 0,n)}catch(e){n.error(e)}"initializing"===this._state&&(this._state="ready")}get closed(){return"closed"===this._state}unsubscribe(){"closed"!==this._state&&(h(this),p(this))}}class b{constructor(e){this._subscription=e}get closed(){return"closed"===this._subscription._state}next(e){g(this._subscription,"next",e)}error(e){g(this._subscription,"error",e)}complete(){g(this._subscription,"complete")}}class x{constructor(e){if(!(this instanceof x))throw TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw TypeError("Observable initializer must be a function");this._subscriber=e}subscribe(e,t,n){return("object"!=typeof e||null===e)&&(e={next:e,error:t,complete:n}),new v(e,this._subscriber)}pipe(e,...t){let n=this;for(let r of[e,...t])n=r(n);return n}tap(e,t,n){let r="object"!=typeof e||null===e?{next:e,error:t,complete:n}:e;return new x(e=>this.subscribe({next(t){r.next&&r.next(t),e.next(t)},error(t){r.error&&r.error(t),e.error(t)},complete(){r.complete&&r.complete(),e.complete()},start(e){r.start&&r.start(e)}}))}forEach(e){return new Promise((t,n)=>{if("function"!=typeof e)return void n(TypeError(e+" is not a function"));function r(){o.unsubscribe(),t(void 0)}let o=this.subscribe({next(t){try{e(t,r)}catch(e){n(e),o.unsubscribe()}},error(e){n(e)},complete(){t(void 0)}})})}map(e){if("function"!=typeof e)throw TypeError(e+" is not a function");return new(c(this))(t=>this.subscribe({next(n){let r=n;try{r=e(n)}catch(e){return t.error(e)}t.next(r)},error(e){t.error(e)},complete(){t.complete()}}))}filter(e){if("function"!=typeof e)throw TypeError(e+" is not a function");return new(c(this))(t=>this.subscribe({next(n){try{if(!e(n))return}catch(e){return t.error(e)}t.next(n)},error(e){t.error(e)},complete(){t.complete()}}))}reduce(e,t){if("function"!=typeof e)throw TypeError(e+" is not a function");let n=c(this),r=arguments.length>1,o=!1,i=t;return new n(t=>this.subscribe({next(n){let l=!o;if(o=!0,!l||r)try{i=e(i,n)}catch(e){return t.error(e)}else i=n},error(e){t.error(e)},complete(){if(!o&&!r)return t.error(TypeError("Cannot reduce an empty sequence"));t.next(i),t.complete()}}))}concat(...e){let t=c(this);return new t(n=>{let r,o=0;return!function i(l){r=l.subscribe({next(e){n.next(e)},error(e){n.error(e)},complete(){o===e.length?(r=void 0,n.complete()):i(t.from(e[o++]))}})}(this),()=>{r&&(r.unsubscribe(),r=void 0)}})}flatMap(e){if("function"!=typeof e)throw TypeError(e+" is not a function");let t=c(this);return new t(n=>{let r=[],o=this.subscribe({next(o){let l;if(e)try{l=e(o)}catch(e){return n.error(e)}else l=o;let s=t.from(l).subscribe({next(e){n.next(e)},error(e){n.error(e)},complete(){let e=r.indexOf(s);e>=0&&r.splice(e,1),i()}});r.push(s)},error(e){n.error(e)},complete(){i()}});function i(){o.closed&&0===r.length&&n.complete()}return()=>{r.forEach(e=>e.unsubscribe()),o.unsubscribe()}})}[(Symbol.observable,s)](){return this}static from(e){let t="function"==typeof this?this:x;if(null==e)throw TypeError(e+" is not an object");let n=u(e,s);if(n){let r=n.call(e);if(Object(r)!==r)throw TypeError(r+" is not an object");return r instanceof x&&r.constructor===t?r:new t(e=>r.subscribe(e))}if(o("iterator")){let n=u(e,l);if(n)return new t(t=>{f(()=>{if(!t.closed){for(let r of n.call(e))if(t.next(r),t.closed)return;t.complete()}})})}if(Array.isArray(e))return new t(t=>{f(()=>{if(!t.closed){for(let n of e)if(t.next(n),t.closed)return;t.complete()}})});throw TypeError(e+" is not observable")}static of(...e){return new("function"==typeof this?this:x)(t=>{f(()=>{if(!t.closed){for(let n of e)if(t.next(n),t.closed)return;t.complete()}})})}static get[a](){return this}}"function"==typeof Symbol&&Object.defineProperty(x,Symbol("extensions"),{value:{symbol:s,hostReportError:d},configurable:!0});let y=x,w=function(e){"function"==typeof e?e():e&&"function"==typeof e.unsubscribe&&e.unsubscribe()},T=function(e){return t=>new y(n=>{let o=new r(n),i=t.subscribe({complete(){o.complete()},error(e){o.error(e)},next(t){o.schedule(n=>{var r,o,i,l;return r=this,o=void 0,i=void 0,l=function*(){(yield e(t))&&n(t)},new(i||(i=Promise))(function(e,t){function n(e){try{a(l.next(e))}catch(e){t(e)}}function s(e){try{a(l.throw(e))}catch(e){t(e)}}function a(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(n,s)}a((l=l.apply(r,o||[])).next())})})}});return()=>w(i)})};var C=function(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,o){var i,l,s;i=r,l=o,s=(t=e[n](t)).done,Promise.resolve(t.value).then(function(e){i({value:e,done:s})},l)})}}};let I=function(e){return t=>new y(n=>{let i=new r(n),l=t.subscribe({complete(){i.complete()},error(e){i.error(e)},next(t){i.schedule(n=>{var r,i,l,s;return r=this,i=void 0,l=void 0,s=function*(){let r=yield e(t);if(r&&o("iterator")&&r[Symbol.iterator]||r&&o("asyncIterator")&&r[Symbol.asyncIterator])try{for(var i,l,s,a=C(r);!(s=yield a.next()).done;){let e=s.value;n(e)}}catch(e){i={error:e}}finally{try{s&&!s.done&&(l=a.return)&&(yield l.call(a))}finally{if(i)throw i.error}}else r.map(e=>n(e))},new(l||(l=Promise))(function(e,t){function n(e){try{a(s.next(e))}catch(e){t(e)}}function o(e){try{a(s.throw(e))}catch(e){t(e)}}function a(t){var r;t.done?e(t.value):((r=t.value)instanceof l?r:new l(function(e){e(r)})).then(n,o)}a((s=s.apply(r,i||[])).next())})})}});return()=>w(l)})};function k(e){return new x(t=>{let n=0,r=setInterval(()=>{t.next(n++)},e);return()=>clearInterval(r)})}let S=function(e){return t=>new y(n=>{let o=new r(n),i=t.subscribe({complete(){o.complete()},error(e){o.error(e)},next(t){o.schedule(n=>{var r,o,i,l;return r=this,o=void 0,i=void 0,l=function*(){n((yield e(t)))},new(i||(i=Promise))(function(e,t){function n(e){try{a(l.next(e))}catch(e){t(e)}}function s(e){try{a(l.throw(e))}catch(e){t(e)}}function a(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(n,s)}a((l=l.apply(r,o||[])).next())})})}});return()=>w(i)})},E=function(...e){return 0===e.length?x.from([]):new x(t=>{let n=0,r=e.map(r=>r.subscribe({error(e){t.error(e),o()},next(e){t.next(e)},complete(){++n===e.length&&(t.complete(),o())}})),o=()=>{r.forEach(e=>w(e))};return o})},R=class extends y{constructor(){super(e=>(this._observers.add(e),()=>this._observers.delete(e))),this._observers=new Set}next(e){for(let t of this._observers)t.next(e)}error(e){for(let t of this._observers)t.error(e)}complete(){for(let e of this._observers)e.complete()}},z=function(e){let t,n=new R,r=0;return new y(o=>{t||(t=e.subscribe(n));let i=n.subscribe(o);return r++,()=>{r--,i.unsubscribe(),0===r&&(w(t),t=void 0)}})},M=function(e,t){return n=>new y(o=>{let i,l=0,s=new r(o),a=n.subscribe({complete(){s.complete()},error(e){s.error(e)},next(n){s.schedule(r=>{var o,s,a,u;return o=this,s=void 0,a=void 0,u=function*(){let o=0===l?void 0===t?n:t:i;r(i=yield e(o,n,l++))},new(a||(a=Promise))(function(e,t){function n(e){try{i(u.next(e))}catch(e){t(e)}}function r(e){try{i(u.throw(e))}catch(e){t(e)}}function i(t){var o;t.done?e(t.value):((o=t.value)instanceof a?o:new a(function(e){e(o)})).then(n,r)}i((u=u.apply(o,s||[])).next())})})}});return()=>w(a)})}},7391:function(e,t,n){var r=n(7180),o=n(3181),i=n(3031),l=n(9067),s=n(6833),a=n(3717),u=n(4801);u.alea=r,u.xor128=o,u.xorwow=i,u.xorshift7=l,u.xor4096=s,u.tychei=a,e.exports=u},7180:function(e,t,n){!function(e,t,n){function r(e){var t,n=this,r=(t=0xefc8249d,function(e){e=String(e);for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));t=r>>>0,r-=t,r*=t,t=r>>>0,r-=t,t+=0x100000000*r}return(t>>>0)*23283064365386963e-26});n.next=function(){var e=2091639*n.s0+23283064365386963e-26*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1)}function o(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function i(e,t){var n=new r(e),i=t&&t.state,l=n.next;return l.int32=function(){return 0x100000000*n.next()|0},l.double=function(){return l()+(2097152*l()|0)*11102230246251565e-32},l.quick=l,i&&("object"==typeof i&&o(i,n),l.state=function(){return o(n,{})}),l}t&&t.exports?t.exports=i:n&&n.amd?n(function(){return i}):this.alea=i}(0,e=n.nmd(e),"function"==typeof define&&define)},3717:function(e,t,n){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,o=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^o,t.a=o-e|0},t.a=0,t.b=0,t.c=-0x61c88647,t.d=0x517cc1b7,e===Math.floor(e)?(t.a=e/0x100000000|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=n.charCodeAt(r),t.next()}function o(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function i(e,t){var n=new r(e),i=t&&t.state,l=function(){return(n.next()>>>0)/0x100000000};return l.double=function(){do var e=((n.next()>>>11)+(n.next()>>>0)/0x100000000)/2097152;while(0===e);return e},l.int32=n.next,l.quick=l,i&&("object"==typeof i&&o(i,n),l.state=function(){return o(n,{})}),l}t&&t.exports?t.exports=i:n&&n.amd?n(function(){return i}):this.tychei=i}(0,e=n.nmd(e),"function"==typeof define&&define)},3181:function(e,t,n){!function(e,t,n){function r(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=n.charCodeAt(r),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function i(e,t){var n=new r(e),i=t&&t.state,l=function(){return(n.next()>>>0)/0x100000000};return l.double=function(){do var e=((n.next()>>>11)+(n.next()>>>0)/0x100000000)/2097152;while(0===e);return e},l.int32=n.next,l.quick=l,i&&("object"==typeof i&&o(i,n),l.state=function(){return o(n,{})}),l}t&&t.exports?t.exports=i:n&&n.amd?n(function(){return i}):this.xor128=i}(0,e=n.nmd(e),"function"==typeof define&&define)},6833:function(e,t,n){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.w,o=t.X,i=t.i;return t.w=r=r+0x61c88647|0,n=o[i+34&127],e=o[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=o[i]=n^e,t.i=i,n+(r^r>>>16)|0},!function(e,t){var n,r,o,i,l,s=[],a=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,a=Math.max(a,t.length)),o=0,i=-32;i<a;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(l=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(l=l+0x61c88647|0,o=0==(n=s[127&i]^=r+l)?o+1:0);for(o>=128&&(s[127&(t&&t.length||0)]=-1),o=127,i=512;i>0;--i)r=s[o+34&127],n=s[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[o]=r^n;e.w=l,e.X=s,e.i=o}(t,e)}function o(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function i(e,t){null==e&&(e=+new Date);var n=new r(e),i=t&&t.state,l=function(){return(n.next()>>>0)/0x100000000};return l.double=function(){do var e=((n.next()>>>11)+(n.next()>>>0)/0x100000000)/2097152;while(0===e);return e},l.int32=n.next,l.quick=l,i&&(i.X&&o(i,n),l.state=function(){return o(n,{})}),l}t&&t.exports?t.exports=i:n&&n.amd?n(function(){return i}):this.xor4096=i}(0,e=n.nmd(e),"function"==typeof define&&define)},9067:function(e,t,n){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.x,o=t.i;return e=r[o],e^=e>>>7,n=e^e<<24^((e=r[o+1&7])^e>>>10)^((e=r[o+3&7])^e>>>3)^((e=r[o+4&7])^e<<7),e=r[o+7&7],e^=e<<13,n^=e^e<<9,r[o]=n,t.i=o+1&7,n};var n,r=e,o=[];if(r===(0|r))o[0]=r;else for(n=0,r=""+r;n<r.length;++n)o[7&n]=o[7&n]<<15^r.charCodeAt(n)+o[n+1&7]<<13;for(;o.length<8;)o.push(0);for(n=0;n<8&&0===o[n];++n);for(8==n?o[7]=-1:o[n],t.x=o,t.i=0,n=256;n>0;--n)t.next()}function o(e,t){return t.x=e.x.slice(),t.i=e.i,t}function i(e,t){null==e&&(e=+new Date);var n=new r(e),i=t&&t.state,l=function(){return(n.next()>>>0)/0x100000000};return l.double=function(){do var e=((n.next()>>>11)+(n.next()>>>0)/0x100000000)/2097152;while(0===e);return e},l.int32=n.next,l.quick=l,i&&(i.x&&o(i,n),l.state=function(){return o(n,{})}),l}t&&t.exports?t.exports=i:n&&n.amd?n(function(){return i}):this.xorshift7=i}(0,e=n.nmd(e),"function"==typeof define&&define)},3031:function(e,t,n){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^(e^e<<1))|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function i(e,t){var n=new r(e),i=t&&t.state,l=function(){return(n.next()>>>0)/0x100000000};return l.double=function(){do var e=((n.next()>>>11)+(n.next()>>>0)/0x100000000)/2097152;while(0===e);return e},l.int32=n.next,l.quick=l,i&&("object"==typeof i&&o(i,n),l.state=function(){return o(n,{})}),l}t&&t.exports?t.exports=i:n&&n.amd?n(function(){return i}):this.xorwow=i}(0,e=n.nmd(e),"function"==typeof define&&define)},4801:function(e,t,n){!function(t,r,o){var i,l="random",s=o.pow(256,6),a=o.pow(2,52),u=2*a;function c(e,n,c){var m=[],g=p(function e(t,n){var r,o=[],i=typeof t;if(n&&"object"==i)for(r in t)try{o.push(e(t[r],n-1))}catch(e){}return o.length?o:"string"==i?t:t+"\0"}((n=!0==n?{entropy:!0}:n||{}).entropy?[e,h(r)]:null==e?function(){try{var e;return i&&(e=i.randomBytes)?e=e(256):(e=new Uint8Array(256),(t.crypto||t.msCrypto).getRandomValues(e)),h(e)}catch(e){var n=t.navigator,o=n&&n.plugins;return[+new Date,t,o,t.screen,h(r)]}}():e,3),m),v=new d(m),b=function(){for(var e=v.g(6),t=s,n=0;e<a;)e=(e+n)*256,t*=256,n=v.g(1);for(;e>=u;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|v.g(4)},b.quick=function(){return v.g(4)/0x100000000},b.double=b,p(h(v.S),r),(n.pass||c||function(e,t,n,r){return(r&&(r.S&&f(r,v),e.state=function(){return f(v,{})}),n)?(o[l]=e,t):e})(b,g,"global"in n?n.global:this==o,n.state)}function d(e){var t,n=e.length,r=this,o=0,i=r.i=r.j=0,l=r.S=[];for(n||(e=[n++]);o<256;)l[o]=o++;for(o=0;o<256;o++)l[o]=l[i=255&i+e[o%n]+(t=l[o])],l[i]=t;(r.g=function(e){for(var t,n=0,o=r.i,i=r.j,l=r.S;e--;)t=l[o=255&o+1],n=256*n+l[255&(l[o]=l[i=255&i+t])+(l[i]=t)];return r.i=o,r.j=i,n})(256)}function f(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function p(e,t){for(var n,r=e+"",o=0;o<r.length;)t[255&o]=255&(n^=19*t[255&o])+r.charCodeAt(o++);return h(t)}function h(e){return String.fromCharCode.apply(0,e)}if(p(o.random(),r),e.exports){e.exports=c;try{i=n(5747)}catch(e){}}else"function"==typeof define&&define.amd?define(function(){return c}):o["seed"+l]=c}("undefined"!=typeof self?self:this,[],Math)},9278:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serialize=t.deserialize=t.registerSerializer=void 0;let r=n(5914),o=r.DefaultSerializer;t.registerSerializer=function(e){o=r.extendSerializer(o,e)},t.deserialize=function(e){return o.deserialize(e)},t.serialize=function(e){return o.serialize(e)}},447:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.Transfer=t.DefaultSerializer=t.expose=t.registerSerializer=void 0;var i=n(9278);Object.defineProperty(t,"registerSerializer",{enumerable:!0,get:function(){return i.registerSerializer}}),o(n(6838),t);var l=n(1854);Object.defineProperty(t,"expose",{enumerable:!0,get:function(){return l.expose}});var s=n(5914);Object.defineProperty(t,"DefaultSerializer",{enumerable:!0,get:function(){return s.DefaultSerializer}});var a=n(6712);Object.defineProperty(t,"Transfer",{enumerable:!0,get:function(){return a.Transfer}})},1029:function(e,t){"use strict";let n;function r(e){return(""+e).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\/\/.+)?\/[^/]+(?:\?.*)?$/,"$1")+"/"}Object.defineProperty(t,"__esModule",{value:!0}),t.getBundleURL=t.getBaseURL=void 0,t.getBundleURL=function(){return n||(n=function(){try{throw Error()}catch(t){let e=(""+t.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\/\/[^)\n]+/g);if(e)return r(e[0])}return"/"}()),n},t.getBaseURL=r},1592:function(e,t,n){"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),t.isWorkerRuntime=t.getWorkerImplementation=t.defaultPoolSize=void 0;let o=n(1029);t.defaultPoolSize="undefined"!=typeof navigator&&navigator.hardwareConcurrency?navigator.hardwareConcurrency:4;let i=e=>/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(e);function l(e){let t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}t.getWorkerImplementation=function(){return r||(r=function(){if("undefined"==typeof Worker)return class{constructor(){throw Error("No web worker implementation available. You might have tried to spawn a worker within a worker in a browser that doesn't support workers in workers.")}};class e extends Worker{constructor(e,t){var n,r;"string"==typeof e&&t&&t._baseURL?e=new URL(e,t._baseURL):"string"==typeof e&&!i(e)&&o.getBundleURL().match(/^file:\/\//i)&&(e=new URL(e,o.getBundleURL().replace(/\/[^\/]+$/,"/")),(null==(n=null==t?void 0:t.CORSWorkaround)||n)&&(e=l(`importScripts(${JSON.stringify(e)});`))),"string"==typeof e&&i(e)&&(null==(r=null==t?void 0:t.CORSWorkaround)||r)&&(e=l(`importScripts(${JSON.stringify(e)});`)),super(e,t)}}class t extends e{constructor(e,t){super(window.URL.createObjectURL(e),t)}static fromText(e,n){return new t(new window.Blob([e],{type:"text/javascript"}),n)}}return{blob:t,default:e}}()),r},t.isWorkerRuntime=function(){let e="undefined"!=typeof self&&"undefined"!=typeof Window&&self instanceof Window;return"undefined"!=typeof self&&!!self.postMessage&&!e}},6838:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Worker=t.BlobWorker=t.isWorkerRuntime=t.Thread=t.spawn=t.Pool=void 0;let r=n(1592);Object.defineProperty(t,"isWorkerRuntime",{enumerable:!0,get:function(){return r.isWorkerRuntime}});var o=n(2734);Object.defineProperty(t,"Pool",{enumerable:!0,get:function(){return o.Pool}});var i=n(4949);Object.defineProperty(t,"spawn",{enumerable:!0,get:function(){return i.spawn}});var l=n(2996);Object.defineProperty(t,"Thread",{enumerable:!0,get:function(){return l.Thread}}),t.BlobWorker=r.getWorkerImplementation().blob,t.Worker=r.getWorkerImplementation().default},8215:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createProxyModule=t.createProxyFunction=void 0;let o=r(n(7833)),i=n(3581),l=n(9278),s=n(1898),a=n(6712),u=n(2781),c=o.default("threads:master:messages"),d=1;function f(e,t){return(...n)=>{let r=d++,{args:o,transferables:f}=function(e){if(0===e.length)return{args:[],transferables:[]};let t=[],n=[];for(let r of e)a.isTransferDescriptor(r)?(t.push(l.serialize(r.send)),n.push(...r.transferables)):t.push(l.serialize(r));return{args:t,transferables:0===n.length?n:Array.from(new Set(n))}}(n),p={type:u.MasterMessageType.run,uid:r,method:t,args:o};c("Sending command to run function to worker:",p);try{e.postMessage(p,f)}catch(e){return s.ObservablePromise.from(Promise.reject(e))}return s.ObservablePromise.from(i.multicast(new i.Observable(t=>{let n,o=i=>{if(c("Message from worker:",i.data),i.data&&i.data.uid===r){let r;if((r=i.data)&&r.type===u.WorkerMessageType.running)n=i.data.resultType;else{let r;if((r=i.data)&&r.type===u.WorkerMessageType.result)"promise"===n?(void 0!==i.data.payload&&t.next(l.deserialize(i.data.payload)),t.complete(),e.removeEventListener("message",o)):(i.data.payload&&t.next(l.deserialize(i.data.payload)),i.data.complete&&(t.complete(),e.removeEventListener("message",o)));else{let n;if((n=i.data)&&n.type===u.WorkerMessageType.error){let n=l.deserialize(i.data.error);t.error(n),e.removeEventListener("message",o)}}}}};return e.addEventListener("message",o),()=>{if("observable"===n||!n){let t={type:u.MasterMessageType.cancel,uid:r};e.postMessage(t)}e.removeEventListener("message",o)}})))}}t.createProxyFunction=f,t.createProxyModule=function(e,t){let n={};for(let r of t)n[r]=f(e,r);return n}},2882:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.PoolEventType=void 0,(n=t.PoolEventType||(t.PoolEventType={})).initialized="initialized",n.taskCanceled="taskCanceled",n.taskCompleted="taskCompleted",n.taskFailed="taskFailed",n.taskQueued="taskQueued",n.taskQueueDrained="taskQueueDrained",n.taskStart="taskStart",n.terminated="terminated"},2734:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function l(e){try{a(r.next(e))}catch(e){i(e)}}function s(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(l,s)}a((r=r.apply(e,t||[])).next())})},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Pool=t.Thread=t.PoolEventType=void 0;let i=o(n(7833)),l=n(3581),s=n(7709),a=n(1592),u=n(2882);Object.defineProperty(t,"PoolEventType",{enumerable:!0,get:function(){return u.PoolEventType}});let c=n(2996);Object.defineProperty(t,"Thread",{enumerable:!0,get:function(){return c.Thread}});let d=1;class f{constructor(e,t){this.eventSubject=new l.Subject,this.initErrors=[],this.isClosing=!1,this.nextTaskID=1,this.taskQueue=[];let n="number"==typeof t?{size:t}:t||{},{size:r=a.defaultPoolSize}=n;this.debug=i.default(`threads:pool:${(n.name||String(d++)).replace(/\W/g," ").trim().replace(/\s+/g,"-")}`),this.options=n,this.workers=(function(e){let t=[];for(let n=0;n<e;n++)t.push(n);return t})(r).map(()=>({init:e(),runningTasks:[]})),this.eventObservable=l.multicast(l.Observable.from(this.eventSubject)),Promise.all(this.workers.map(e=>e.init)).then(()=>this.eventSubject.next({type:u.PoolEventType.initialized,size:this.workers.length}),e=>{this.debug("Error while initializing pool worker:",e),this.eventSubject.error(e),this.initErrors.push(e)})}findIdlingWorker(){let{concurrency:e=1}=this.options;return this.workers.find(t=>t.runningTasks.length<e)}runPoolTask(e,t){return r(this,void 0,void 0,function*(){let n=this.workers.indexOf(e)+1;this.debug(`Running task #${t.id} on worker #${n}...`),this.eventSubject.next({type:u.PoolEventType.taskStart,taskID:t.id,workerID:n});try{let r=yield t.run((yield e.init));this.debug(`Task #${t.id} completed successfully`),this.eventSubject.next({type:u.PoolEventType.taskCompleted,returnValue:r,taskID:t.id,workerID:n})}catch(e){this.debug(`Task #${t.id} failed`),this.eventSubject.next({type:u.PoolEventType.taskFailed,taskID:t.id,error:e,workerID:n})}})}run(e,t){return r(this,void 0,void 0,function*(){let n=r(this,void 0,void 0,function*(){yield new Promise(e=>setTimeout(e,0));try{yield this.runPoolTask(e,t)}finally{e.runningTasks=e.runningTasks.filter(e=>e!==n),this.isClosing||this.scheduleWork()}});e.runningTasks.push(n)})}scheduleWork(){this.debug("Attempt de-queueing a task in order to run it...");let e=this.findIdlingWorker();if(!e)return;let t=this.taskQueue.shift();if(!t){this.debug("Task queue is empty"),this.eventSubject.next({type:u.PoolEventType.taskQueueDrained});return}this.run(e,t)}taskCompletion(e){return new Promise((t,n)=>{let r=this.events().subscribe(o=>{o.type===u.PoolEventType.taskCompleted&&o.taskID===e?(r.unsubscribe(),t(o.returnValue)):o.type===u.PoolEventType.taskFailed&&o.taskID===e?(r.unsubscribe(),n(o.error)):o.type===u.PoolEventType.terminated&&(r.unsubscribe(),n(Error("Pool has been terminated before task was run.")))})})}settled(e=!1){return r(this,void 0,void 0,function*(){let t=()=>{var e,t;return e=this.workers,t=e=>e.runningTasks,e.reduce((e,n)=>[...e,...t(n)],[])},n=[],r=this.eventObservable.subscribe(e=>{e.type===u.PoolEventType.taskFailed&&n.push(e.error)});return this.initErrors.length>0?Promise.reject(this.initErrors[0]):(e&&0===this.taskQueue.length?yield s.allSettled(t()):(yield new Promise((e,t)=>{let n=this.eventObservable.subscribe({next(t){t.type===u.PoolEventType.taskQueueDrained&&(n.unsubscribe(),e(void 0))},error:t})}),yield s.allSettled(t()),r.unsubscribe()),n)})}completed(e=!1){return r(this,void 0,void 0,function*(){let t=this.settled(e),n=new Promise((e,n)=>{let r=this.eventObservable.subscribe({next(o){o.type===u.PoolEventType.taskQueueDrained?(r.unsubscribe(),e(t)):o.type===u.PoolEventType.taskFailed&&(r.unsubscribe(),n(o.error))},error:n})}),r=yield Promise.race([t,n]);if(r.length>0)throw r[0]})}events(){return this.eventObservable}queue(e){let{maxQueuedJobs:t=1/0}=this.options;if(this.isClosing)throw Error("Cannot schedule pool tasks after terminate() has been called.");if(this.initErrors.length>0)throw this.initErrors[0];let n=this.nextTaskID++,r=this.taskCompletion(n);r.catch(e=>{this.debug(`Task #${n} errored:`,e)});let o={id:n,run:e,cancel:()=>{-1!==this.taskQueue.indexOf(o)&&(this.taskQueue=this.taskQueue.filter(e=>e!==o),this.eventSubject.next({type:u.PoolEventType.taskCanceled,taskID:o.id}))},then:r.then.bind(r)};if(this.taskQueue.length>=t)throw Error("Maximum number of pool tasks queued. Refusing to queue another one.\nThis usually happens for one of two reasons: We are either at peak workload right now or some tasks just won't finish, thus blocking the pool.");return this.debug(`Queueing task #${o.id}...`),this.taskQueue.push(o),this.eventSubject.next({type:u.PoolEventType.taskQueued,taskID:o.id}),this.scheduleWork(),o}terminate(e){return r(this,void 0,void 0,function*(){this.isClosing=!0,e||(yield this.completed(!0)),this.eventSubject.next({type:u.PoolEventType.terminated,remainingQueue:[...this.taskQueue]}),this.eventSubject.complete(),yield Promise.all(this.workers.map(e=>r(this,void 0,void 0,function*(){return c.Thread.terminate((yield e.init))})))})}}function p(e,t){return new f(e,t)}f.EventType=u.PoolEventType,p.EventType=u.PoolEventType,t.Pool=p},4949:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function l(e){try{a(r.next(e))}catch(e){i(e)}}function s(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(l,s)}a((r=r.apply(e,t||[])).next())})},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.spawn=void 0;let i=o(n(7833)),l=n(3581),s=n(9278),a=n(4238),u=n(3682),c=n(2931),d=n(8215),f=i.default("threads:master:messages"),p=i.default("threads:master:spawn"),h=i.default("threads:master:thread-utils"),m="undefined"!=typeof process&&process.env.THREADS_WORKER_INIT_TIMEOUT?Number.parseInt(process.env.THREADS_WORKER_INIT_TIMEOUT,10):1e4;function g(e,t,n,r){let o=n.filter(e=>e.type===c.WorkerEventType.internalError).map(e=>e.error);return Object.assign(e,{[u.$errors]:o,[u.$events]:n,[u.$terminate]:r,[u.$worker]:t})}t.spawn=function(e,t){return r(this,void 0,void 0,function*(){p("Initializing new thread");let n=t&&t.timeout?t.timeout:m,o=(yield function(e,t,n){return r(this,void 0,void 0,function*(){let r,o=new Promise((e,o)=>{r=setTimeout(()=>o(Error(n)),t)}),i=yield Promise.race([e,o]);return clearTimeout(r),i})}(new Promise((t,n)=>{let r=o=>{let i;if(f("Message from worker before finishing initialization:",o.data),(i=o.data)&&"init"===i.type)e.removeEventListener("message",r),t(o.data);else{let t;(t=o.data)&&"uncaughtError"===t.type&&(e.removeEventListener("message",r),n(s.deserialize(o.data.error)))}};e.addEventListener("message",r)}),n,`Timeout: Did not receive an init message from worker after ${n}ms. Make sure the worker calls expose().`)).exposed,{termination:i,terminate:u}=function(e){let[t,n]=a.createPromiseWithResolver();return{terminate:()=>r(this,void 0,void 0,function*(){h("Terminating worker"),yield e.terminate(),n()}),termination:t}}(e),v=new l.Observable(t=>{let n=e=>{let n={type:c.WorkerEventType.message,data:e.data};t.next(n)},r=e=>{h("Unhandled promise rejection event in thread:",e);let n={type:c.WorkerEventType.internalError,error:Error(e.reason)};t.next(n)};e.addEventListener("message",n),e.addEventListener("unhandledrejection",r),i.then(()=>{let o={type:c.WorkerEventType.termination};e.removeEventListener("message",n),e.removeEventListener("unhandledrejection",r),t.next(o),t.complete()})});if("function"===o.type)return g(d.createProxyFunction(e),e,v,u);if("module"===o.type)return g(d.createProxyModule(e,o.methods),e,v,u);{let e=o.type;throw Error(`Worker init message states unexpected type of expose(): ${e}`)}})}},2996:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Thread=void 0;let r=n(3682);function o(e){throw Error(e)}t.Thread={errors:e=>e[r.$errors]||o("Error observable not found. Make sure to pass a thread instance as returned by the spawn() promise."),events:e=>e[r.$events]||o("Events observable not found. Make sure to pass a thread instance as returned by the spawn() promise."),terminate:e=>e[r.$terminate]()}},1898:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservablePromise=void 0;let r=n(3581),o=()=>void 0,i=e=>e,l=e=>Promise.resolve().then(e);function s(e){throw e}class a extends r.Observable{constructor(e){super(t=>{let n=this,r=Object.assign(Object.assign({},t),{complete(){t.complete(),n.onCompletion()},error(e){t.error(e),n.onError(e)},next(e){t.next(e),n.onNext(e)}});try{return this.initHasRun=!0,e(r)}catch(e){r.error(e)}}),this.initHasRun=!1,this.fulfillmentCallbacks=[],this.rejectionCallbacks=[],this.firstValueSet=!1,this.state="pending"}onNext(e){this.firstValueSet||(this.firstValue=e,this.firstValueSet=!0)}onError(e){for(let t of(this.state="rejected",this.rejection=e,this.rejectionCallbacks))l(()=>t(e))}onCompletion(){for(let e of(this.state="fulfilled",this.fulfillmentCallbacks))l(()=>e(this.firstValue))}then(e,t){let n=e||i,r=t||s,o=!1;return new Promise((e,t)=>{let i=n=>{if(!o){o=!0;try{e(r(n))}catch(e){t(e)}}};return(this.initHasRun||this.subscribe({error:i}),"fulfilled"===this.state)?e(n(this.firstValue)):"rejected"===this.state?(o=!0,e(r(this.rejection))):void(this.fulfillmentCallbacks.push(t=>{try{e(n(t))}catch(e){i(e)}}),this.rejectionCallbacks.push(i))})}catch(e){return this.then(void 0,e)}finally(e){let t=e||o;return this.then(e=>(t(),e),()=>t())}static from(e){return e&&"function"==typeof e.then?new a(t=>{e.then(e=>{t.next(e),t.complete()},e=>{t.error(e)})}):super.from(e)}}t.ObservablePromise=a},7709:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allSettled=void 0,t.allSettled=function(e){return Promise.all(e.map(e=>{let t=Promise.resolve(e);try{return t.then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))}catch(e){return Promise.reject(e)}}))}},4238:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPromiseWithResolver=void 0;let n=()=>void 0;t.createPromiseWithResolver=function(){let e,t=!1,r=n;return[new Promise(n=>{t?n(e):r=n}),n=>{t=!0,r(e=n)}]}},5914:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultSerializer=t.extendSerializer=void 0,t.extendSerializer=function(e,t){let n=e.deserialize.bind(e),r=e.serialize.bind(e);return{deserialize:e=>t.deserialize(e,n),serialize:e=>t.serialize(e,r)}};t.DefaultSerializer={deserialize(e){let t;return e&&"object"==typeof e&&"__error_marker"in e&&"$$error"===e.__error_marker?Object.assign(Error((t=e).message),{name:t.name,stack:t.stack}):e},serialize:e=>{let t;return e instanceof Error?{__error_marker:"$$error",message:(t=e).message,name:t.name,stack:t.stack}:e}}},3682:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$worker=t.$transferable=t.$terminate=t.$events=t.$errors=void 0,t.$errors=Symbol("thread.errors"),t.$events=Symbol("thread.events"),t.$terminate=Symbol("thread.terminate"),t.$transferable=Symbol("thread.transferable"),t.$worker=Symbol("thread.worker")},6712:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Transfer=t.isTransferDescriptor=void 0;let r=n(3682);t.isTransferDescriptor=function(e){return e&&"object"==typeof e&&e[r.$transferable]},t.Transfer=function(e,t){if(!t){if(!(e&&"object"==typeof e&&1))throw Error();t=[e]}return{[r.$transferable]:!0,send:e,transferables:t}}},2931:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerEventType=void 0,n(3682),(r=t.WorkerEventType||(t.WorkerEventType={})).internalError="internalError",r.message="message",r.termination="termination"},2781:function(e,t){"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerMessageType=t.MasterMessageType=void 0,(n=t.MasterMessageType||(t.MasterMessageType={})).cancel="cancel",n.run="run",(r=t.WorkerMessageType||(t.WorkerMessageType={})).error="error",r.init="init",r.result="result",r.running="running",r.uncaughtError="uncaughtError"},4304:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={isWorkerRuntime:function(){let e="undefined"!=typeof self&&"undefined"!=typeof Window&&self instanceof Window;return"undefined"!=typeof self&&!!self.postMessage&&!e},postMessageToMaster:function(e,t){self.postMessage(e,t)},subscribeToMasterMessages:function(e){let t=t=>{e(t.data)};return self.addEventListener("message",t),()=>{self.removeEventListener("message",t)}}}},1854:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function l(e){try{a(r.next(e))}catch(e){i(e)}}function s(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(l,s)}a((r=r.apply(e,t||[])).next())})},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.expose=t.isWorkerRuntime=t.Transfer=t.registerSerializer=void 0;let i=o(n(5409)),l=n(9278),s=n(6712),a=n(2781),u=o(n(4304));var c=n(9278);Object.defineProperty(t,"registerSerializer",{enumerable:!0,get:function(){return c.registerSerializer}});var d=n(6712);Object.defineProperty(t,"Transfer",{enumerable:!0,get:function(){return d.Transfer}}),t.isWorkerRuntime=u.default.isWorkerRuntime;let f=!1,p=new Map,h=e=>e&&e.type===a.MasterMessageType.run,m=e=>{var t;return i.default(e)||(t=e)&&"object"==typeof t&&"function"==typeof t.subscribe};function g(e){return s.isTransferDescriptor(e)?{payload:e.send,transferables:e.transferables}:{payload:e,transferables:void 0}}function v(e,t){let{payload:n,transferables:r}=g(t),o={type:a.WorkerMessageType.error,uid:e,error:l.serialize(n)};u.default.postMessageToMaster(o,r)}function b(e,t,n){let{payload:r,transferables:o}=g(n),i={type:a.WorkerMessageType.result,uid:e,complete:!!t||void 0,payload:r};u.default.postMessageToMaster(i,o)}function x(e){try{let t={type:a.WorkerMessageType.uncaughtError,error:l.serialize(e)};u.default.postMessageToMaster(t)}catch(t){console.error("Not reporting uncaught error back to master thread as it occured while reporting an uncaught error already.\nLatest error:",t,"\nOriginal error:",e)}}function y(e,t,n){return r(this,void 0,void 0,function*(){let r;try{r=t(...n)}catch(t){return v(e,t)}let o=m(r)?"observable":"promise",i={type:a.WorkerMessageType.running,uid:e,resultType:o};if(u.default.postMessageToMaster(i),m(r)){let t=r.subscribe(t=>b(e,!1,l.serialize(t)),t=>{v(e,l.serialize(t)),p.delete(e)},()=>{b(e,!0),p.delete(e)});p.set(e,t)}else try{let t=yield r;b(e,!0,l.serialize(t))}catch(t){v(e,l.serialize(t))}})}t.expose=function(e){if(!u.default.isWorkerRuntime())throw Error("expose() called in the master thread.");if(f)throw Error("expose() called more than once. This is not possible. Pass an object to expose() if you want to expose multiple functions.");if(f=!0,"function"==typeof e){u.default.subscribeToMasterMessages(t=>{h(t)&&!t.method&&y(t.uid,e,t.args.map(l.deserialize))});let t={type:a.WorkerMessageType.init,exposed:{type:"function"}};u.default.postMessageToMaster(t)}else if("object"==typeof e&&e){u.default.subscribeToMasterMessages(t=>{h(t)&&t.method&&y(t.uid,e[t.method],t.args.map(l.deserialize))});var t=Object.keys(e).filter(t=>"function"==typeof e[t]);let n={type:a.WorkerMessageType.init,exposed:{type:"module",methods:t}};u.default.postMessageToMaster(n)}else throw Error(`Invalid argument passed to expose(). Expected a function or an object, got: ${e}`);u.default.subscribeToMasterMessages(e=>{if(e&&e.type===a.MasterMessageType.cancel){let t=e.uid,n=p.get(t);n&&(n.unsubscribe(),p.delete(t))}})},"undefined"!=typeof self&&"function"==typeof self.addEventListener&&u.default.isWorkerRuntime()&&(self.addEventListener("error",e=>{setTimeout(()=>x(e.error||e),250)}),self.addEventListener("unhandledrejection",e=>{let t=e.reason;t&&"string"==typeof t.message&&setTimeout(()=>x(t),250)})),"undefined"!=typeof process&&"function"==typeof process.on&&u.default.isWorkerRuntime()&&(process.on("uncaughtException",e=>{setTimeout(()=>x(e),250)}),process.on("unhandledRejection",e=>{e&&"string"==typeof e.message&&setTimeout(()=>x(e),250)}))},7107:function(e,t,n){"use strict";let r;n.d(t,{t9:()=>nC,wK:()=>ny});var o=n(6540),i=n.t(o,2),l=n(4848),s=Object.defineProperty,a=(e,t,n)=>{let r;return(r="symbol"!=typeof t?t+"":t)in e?s(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n};class u{constructor(e=new Map){this.map=e}clone(){return new u(new Map(this.map))}decrement(e,t){let n=this.map.get(e);void 0!==n&&(n-=1,this.map.set(e,n),0===n&&t())}increment(e){let t=this.map.get(e)??0;this.map.set(e,t+1)}}class c{constructor(){a(this,"map",new Map)}delete(e){return this.map.delete(e)}get(e){return this.map.get(e)}getOrCreate(e){let t=this.map.get(e);return void 0===t&&(t=new Set,this.map.set(e,t)),t}use(e,t){let n=this.get(e);void 0!==n&&t(n)}}function d(){}let f="cell";function p(e,t){return e===t}let h=new Map;class m{constructor(e={}){for(let t of(a(this,"definitionRegistry",new Set),a(this,"distinctNodes",new Map),a(this,"executionMaps",new Map),a(this,"graph",new c),a(this,"pipeMap",new Map),a(this,"singletonSubscriptions",new Map),a(this,"state",new Map),a(this,"subscriptions",new c),Object.getOwnPropertySymbols(e)))this.state.set(t,e[t])}cellInstance(e,t=!0,n=Symbol()){return this.state.has(n)||this.state.set(n,e),!1===t||this.distinctNodes.has(n)||this.distinctNodes.set(n,!0===t?p:t),n}changeWith(e,t,n){this.connect({map:e=>(t,r)=>{e(n(r,t))},pulls:[e],sink:e,sources:[t]})}combine(...e){var t,n;return n=t=this.signalInstance(),this.connect({map:e=>(...t)=>{e(t)},sink:n,sources:e}),t}combineCells(...e){var t,n;return n=t=this.cellInstance(e.map(e=>this.getValue(e)),!0),this.connect({map:e=>(...t)=>{e(t)},sink:n,sources:e}),t}connect({map:e,pulls:t=[],sink:n,sources:r}){let o={map:e,pulls:new Set(t),sink:this.register(n),sources:new Set(r)};for(let e of[...r,...t])this.register(e),this.graph.getOrCreate(e).add(o);this.executionMaps.clear()}getValue(e){return this.register(e),this.state.get(e)}getValues(e){return e.map(e=>this.getValue(e))}inContext(e){let t=r;r=this;let n=e();return r=t,n}link(e,t){this.connect({map:e=>t=>{e(t)},sink:t,sources:[e]})}pipe(e,...t){return this.combineOperators(...t)(e)}pub(e,t){this.pubIn({[e]:t})}pubIn(e){var t;let n=Reflect.ownKeys(e).map(e=>this.pipeMap.get(e)??e),r=Reflect.ownKeys(e).reduce((t,n)=>{let r=e[n];return t[this.pipeMap.get(n)??n]=r,t},{}),o=this.getExecutionMap(n),i=o.refCount.clone(),l=o.participatingNodes.slice(),s=new Map(this.state),a=e=>{this.graph.use(e,t=>{for(let{sink:n,sources:r}of t)r.has(e)&&i.decrement(n,()=>{l.splice(l.indexOf(n),1),a(n)})})};for(;;){let e=l.shift();if(void 0===e)break;let n=!1,i=t=>{let r=this.distinctNodes.get(e);if(null!=r&&r(s.get(e),t)){n=!1;return}n=!0,s.set(e,t),this.state.has(e)&&this.state.set(e,t)};if(Object.hasOwn(r,e)?i(r[e]):o.projections.use(e,e=>{for(let t of e){let e=[...Array.from(t.sources),...Array.from(t.pulls)].map(e=>s.get(e));t.map(i)(...e)}}),n){let n=s.get(e);this.inContext(()=>{this.subscriptions.use(e,e=>{for(let t of e)t(n)})}),null==(t=this.singletonSubscriptions.get(e))||t(n)}else a(e)}}register(e){let t=h.get(e);if(void 0===t)return e;if(!this.definitionRegistry.has(e)){var n,r,o,i;if(this.definitionRegistry.add(e),t.type===f){return o=n=this.cellInstance(t.initial,t.distinct,e),this.inContext(()=>{t.init(this,o)}),n}if("signal"===t.type){return i=r=this.signalInstance(t.distinct,e),this.inContext(()=>{t.init(this,i)}),r}let l=this.signalInstance(t.distinct),s=this.cellInstance(t.initial,!0),a=this.cellInstance(t.initial,t.distinct,e);return this.link(s,a),this.pipeMap.set(a,l),this.inContext(()=>{t.init(this,l,s)}),a}return e}resetSingletonSubs(){this.singletonSubscriptions.clear()}signalInstance(e=!0,t=Symbol()){return!1!==e&&this.distinctNodes.set(t,!0===e?p:e),t}singletonSub(e,t){return this.register(e),void 0===t?this.singletonSubscriptions.delete(e):this.singletonSubscriptions.set(e,t),()=>this.singletonSubscriptions.delete(e)}sub(e,t){this.register(e);let n=this.subscriptions.getOrCreate(e);return n.add(t),()=>n.delete(t)}subMultiple(e,t){let n=this.signalInstance();return this.connect({map:e=>(...t)=>{e(t)},sink:n,sources:e}),this.sub(n,t)}transformer(...e){return t=>{var n;let r;return n=this.signalInstance(),r=n,this.link(this.pipe(r,...e),t),n}}calculateExecutionMap(e){let t=[],n=new Set,r=new c,o=new u,i=new c,l=(e,s=0)=>{o.increment(e),n.has(e)||(this.register(e),r.use(e,e=>{s=Math.max(...Array.from(e).map(e=>t.indexOf(e)))+1}),this.graph.use(e,t=>{for(let n of t)n.sources.has(e)?(i.getOrCreate(n.sink).add(n),l(n.sink,s)):r.getOrCreate(n.sink).add(e)}),n.add(e),t.splice(s,0,e))};return e.forEach(l),{participatingNodes:t,pendingPulls:r,projections:i,refCount:o}}combineOperators(...e){return t=>{for(let n of e)t=n(t,this);return t}}getExecutionMap(e){let t=e;if(1===e.length){t=e[0];let n=this.executionMaps.get(t);if(void 0!==n)return n}else for(let[t,n]of this.executionMaps.entries())if(Array.isArray(t)&&t.length===e.length&&t.every(t=>e.includes(t)))return n;let n=this.calculateExecutionMap(e);return this.executionMaps.set(t,n),n}}function g(e,t=d,n=!0){var r,o;return o=r=Symbol(),h.set(o,{distinct:n,init:t,initial:e,type:f}),r}function v(e=d,t=!1){var n,r;return r=n=Symbol(),h.set(r,{distinct:t,init:e,type:"signal"}),n}function b(e=d){var t,n;return n=t=Symbol(),h.set(n,{distinct:!1,init:e,type:"signal"}),t}let x=o.createContext(null),y="u">typeof document?o.useLayoutEffect:o.useEffect;function w(){let e=o.useContext(x);if(null===e)throw Error("useRealm must be used within a RealmContextProvider");return e}let T="useSyncExternalStore"in i?function(e){let t=w();t.register(e);let n=o.useCallback(n=>t.sub(e,n),[t,e]);return o.useSyncExternalStore(n,()=>t.getValue(e),()=>t.getValue(e))}:function(e){let t=w();t.register(e);let[n,r]=o.useState(()=>t.getValue(e));return y(()=>{let n=t.sub(e,()=>{r(()=>t.getValue(e))});return()=>{n()}},[t,e]),n};function C(e){return(t,n)=>{let r=n.signalInstance();return n.connect({map:t=>n=>{t(e(n))},sink:r,sources:[t]}),r}}function I(...e){return(t,n)=>{let r=n.signalInstance();return n.connect({map:e=>(...t)=>{e(t)},pulls:e,sink:r,sources:[t]}),r}}function k(e){return(t,n)=>{let r=n.signalInstance();return n.connect({map:t=>()=>{t(e)},sink:r,sources:[t]}),r}}function S(e){return(t,n)=>{let r=n.signalInstance();return n.connect({map:t=>n=>{e(n)&&t(n)},sink:r,sources:[t]}),r}}function E(e,t){return(n,r)=>{let o=r.signalInstance();return r.connect({map:n=>r=>{n(t=e(t,r))},sink:o,sources:[n]}),o}}function R(e){return(t,n)=>{let r=n.signalInstance(),o,i=null;return n.sub(t,t=>{o=t,null===i&&(i=setTimeout(()=>{i=null,n.pub(r,o)},e))}),r}}function z(e){return(t,n)=>{let r=n.signalInstance(),o,i=null;return n.sub(t,t=>{o=t,null!==i&&clearTimeout(i),i=setTimeout(()=>{n.pub(r,o)},e)}),r}}function M(){return(e,t)=>{let n=t.signalInstance();return t.sub(e,e=>{queueMicrotask(()=>{t.pub(n,e)})}),n}}function H(e){return(t,n)=>{let r=n.signalInstance(),o=Symbol(),i=o;return n.connect({map:e=>t=>{i!==o&&(e([i,t]),i=o)},sink:r,sources:[e]}),n.sub(t,e=>{i=e}),r}}function P(e,t){let n=g(e,e=>{e.link(t(e),n)});return n}let j={lvl:0};function B(e,t,n,r=j,o=j){return{k:e,l:r,lvl:n,r:o,v:t}}function O(e){return e===j}function _(e,t,n="k"){if(O(e))return[-1/0,void 0];if(e[n]===t)return[e.k,e.v];if(e[n]<t){let r=_(e.r,t,n);return r[0]===-1/0?[e.k,e.v]:r}return _(e.l,t,n)}function F(e,t,n){return O(e)?B(t,n,1):t===e.k?W(e,{k:t,v:n}):t<e.k?q(U(W(e,{l:F(e.l,t,n)}))):q(U(W(e,{r:F(e.r,t,n)})))}function L(e){return O(e)?[]:[...L(e.l),{k:e.k,v:e.v},...L(e.r)]}function W(e,t){return B(t.k??e.k,t.v??e.v,t.lvl??e.lvl,t.l??e.l,t.r??e.r)}function A(e){return O(e)||e.lvl>e.r.lvl}function D(e){let{l:t,r:n,lvl:r}=e;if(n.lvl>=r-1&&t.lvl>=r-1)return e;if(r>n.lvl+1){if(A(t))return U(W(e,{lvl:r-1}));if(!O(t)&&!O(t.r))return W(t.r,{l:W(t,{r:t.r.l}),lvl:r,r:W(e,{l:t.r.r,lvl:r-1})});throw Error("Unexpected empty nodes")}if(A(e))return q(W(e,{lvl:r-1}));if(!O(n)&&!O(n.l)){let t=n.l,o=A(t)?n.lvl-1:n.lvl;return W(t,{l:W(e,{lvl:r-1,r:t.l}),lvl:t.lvl+1,r:q(W(n,{l:t.r,lvl:o}))})}throw Error("Unexpected empty nodes")}function V(e,t,n){if(O(e))return[];let r=_(e,t)[0];return $(function e(t,n,r){if(O(t))return[];let{k:o,v:i,l:l,r:s}=t,a=[];return o>n&&(a=a.concat(e(l,n,r))),o>=n&&o<=r&&a.push({k:o,v:i}),o<=r&&(a=a.concat(e(s,n,r))),a}(e,r,n))}function N(e,t){let n=e.length;if(0===n)return[];let{index:r,value:o}=t(e[0]),i=[];for(let l=1;l<n;l++){let{index:n,value:s}=t(e[l]);i.push({end:n-1,start:r,value:o}),r=n,o=s}return i.push({end:1/0,start:r,value:o}),i}function $(e){return N(e,({k:e,v:t})=>({index:e,value:t}))}function q(e){let{r:t,lvl:n}=e;return O(t)||O(t.r)||t.lvl!==n||t.r.lvl!==n?e:W(t,{l:W(e,{r:t.l}),lvl:n+1})}function U(e){let{l:t}=e;return O(t)||t.lvl!==e.lvl?e:W(t,{r:W(e,{l:t.r})})}function G(e,t,n,r=0){let o=e.length-1;for(;r<=o;){let i=Math.floor((r+o)/2),l=n(e[i],t);if(0===l)return i;if(-1===l){if(o-r<2)return i-1;o=i-1}else{if(o===r)return i;r=i+1}}throw Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function K({index:e},t){return t===e?0:t<e?-1:1}function Y({offset:e},t){return t===e?0:t<e?-1:1}function Q(e){return{index:e.index,value:e}}let Z=[[],0,0,0],X=[j,0],J=v();g([]),g([]),g(0),g(null),g(NaN);let ee=g(!1),et=g(X,e=>{e.link(e.pipe(J,S(e=>e.length>0),I(en),C(([e,t])=>(function(e,[t,n]){if(n.length>0&&O(e)&&2===t.length){let e=t[0].size,r=t[1].size;return[n.reduce((t,n)=>F(F(t,n,e),n+1,r),j),0]}return function(e,t){let n=O(e)?0:1/0;for(let r of t){let{size:t,startIndex:o,endIndex:i}=r;if(n=Math.min(n,o),O(e)){e=F(e,0,t);continue}let l=V(e,o-1,i+1);if(l.some(function(e){let{size:t,startIndex:n,endIndex:r}=e;return e=>e.start===n&&(e.end===r||e.end===1/0)&&e.value===t}(r)))continue;let s=!1,a=!1;for(let{start:n,end:r,value:o}of l)s?(i>=n||t===o)&&(e=function e(t,n){if(O(t))return j;let{k:r,l:o,r:i}=t;if(n===r){if(O(o))return i;if(O(i))return o;let[e,n]=function e(t){return O(t.r)?[t.k,t.v]:e(t.r)}(o);return D(W(t,{k:e,l:function e(t){return O(t.r)?t.l:D(W(t,{r:e(t.r)}))}(o),v:n}))}return n<r?D(W(t,{l:e(o,n)})):D(W(t,{r:e(i,n)}))}(e,n)):(a=o!==t,s=!0),r>i&&i>=n&&o!==t&&(e=F(e,i+1,o));a&&(e=F(e,o,t))}return[e,n]}(e,t)})(t,[e,[]]))),et)}),en=g(X[0],e=>{e.link(e.pipe(et,C(([e])=>e)),en)}),er=g(X[1],e=>{e.link(e.pipe(et,C(([,e])=>e)),er)}),eo=g(Z[1]),ei=g(Z[0]),el=g(Z,e=>{e.link(e.pipe(en,I(er),E(([e],[t,n])=>(function(e,[t,n]){let r=0,o=0,i=0,l=0;if(0!==n){l=G(e,n-1,K),i=e[l].offset;let s=_(t,n-1);r=s[0],o=s[1],e.length&&e[l].height===_(t,n)[1]&&(l-=1),e=e.slice(0,l+1)}else e=[];for(let{start:l,value:s}of V(t,n,1/0)){let t=(l-r)*o+i;e.push({height:s,index:l,offset:t}),r=l,i=t,o=s}return[e,o,i,r]})(e,[t,n]),Z)),el),e.link(e.pipe(el,C(([,e])=>e)),eo),e.link(e.pipe(el,C(([e])=>e)),ei)}),es=g(Z[2],e=>{e.link(e.pipe(el,C(([,,e])=>e)),es)}),ea=g(Z[3],e=>{e.link(e.pipe(el,C(([,,,e])=>e)),ea)}),eu=g(0,e=>{e.link(e.pipe(e.combine(eD,ea,es,eo),C(([e,t,n,r])=>n+(e-t)*r)),eu)});function ec(e,t){if(0===t.length)return[0,0];let{offset:n,index:r,height:o}=t[G(t,e,K)];return[o*(e-r)+n,o]}function ed(e,t){return ec(e,t)[0]}function ef(e,t){return 1.01>Math.abs(e-t)}function ep(){return!(typeof navigator>"u")&&(/Macintosh/i.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1||/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent))}function eh(e){return!e}function em(e=1){return(t,n)=>{let r=n.signalInstance();return n.sub(t,t=>{let o=e;!function e(){o>0?(o--,requestAnimationFrame(e)):n.pub(r,t)}()}),r}}let eg="down",ev={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,viewportWidth:0,scrollHeight:0}};function eb(e){return(t,n)=>{let r=n.signalInstance();return n.sub(t,t=>{e>0?e--:n.pub(r,t)}),r}}g(!1);let ex=g(!0);v();let ey=g(!1),ew=v(e=>{e.link(e.pipe(ex,R(50)),ew)}),eT=g(4),eC=g(0,e=>{e.link(e.pipe(e.combine(tr,eC),C(([e,t])=>e<=t)),ex)}),eI=g(!1,e=>{e.link(e.pipe(tr,eb(1),k(!0)),eI),e.link(e.pipe(tr,eb(1),k(!1),z(100)),eI)}),ek=g(!1,e=>{e.link(e.pipe(tR,k(!0)),ek),e.link(e.pipe(tR,k(!1),z(200)),ek)}),eS=g(!1),eE=g(null,e=>{e.link(e.pipe(e.combine(tl,tr,to,ti,eT,tH,tT,en),S(([,,,,,,,e])=>!O(e)),E((e,[t,n,r,o,i,l])=>{let s={viewportWidth:o,viewportHeight:r,scrollTop:n,scrollHeight:t,listMarginTop:l};if(n+r-t+l>-i){let o,i;return n>e.state.scrollTop?(o="SCROLLED_DOWN",i=e.state.scrollTop-n):(o=t===r?"LIST_TOO_SHORT":"SIZE_DECREASED",i=e.state.scrollTop-n||e.scrollTopDelta),{atBottom:!0,state:s,atBottomBecause:o,scrollTopDelta:i}}return{atBottom:!1,notAtBottomBecause:r<e.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":o<e.state.viewportWidth?"VIEWPORT_WIDTH_DECREASING":n<e.state.scrollTop?"SCROLLING_UPWARDS":s.scrollHeight>e.state.scrollHeight||s.listMarginTop<e.state.listMarginTop?e.atBottom?"SIZE_INCREASED":e.notAtBottomBecause:e.atBottom?"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM":e.notAtBottomBecause,state:s}},ev)),eE),e.link(e.pipe(eE,E(({prev:e},t)=>{let n=!!(e&&t&&e.atBottom&&!t.atBottom&&"SIZE_INCREASED"===t.notAtBottomBecause);return{prev:t,shouldScroll:n}},{prev:null,shouldScroll:!1}),C(({shouldScroll:e})=>e)),eS),e.sub(e.pipe(to,I(eE,t_,tF),S(([,,e,t])=>!e&&!t),E((e,[t,n])=>{let r=0;return e.viewportHeight>t&&n&&!n.atBottom&&"VIEWPORT_HEIGHT_DECREASING"===n.notAtBottomBecause&&(r=e.viewportHeight-t),{viewportHeight:t,delta:r}},{viewportHeight:0,delta:0})),t=>{t.delta&&e.pub(tR,t.delta)})},(e,t)=>!!e&&e.atBottom===(null==t?void 0:t.atBottom)&&(!!e.atBottom||!!t.atBottom||e.notAtBottomBecause===t.notAtBottomBecause)),eR=g(0,e=>{e.link(e.pipe(e.combine(tr,tl,to),E((e,[t,n,r])=>{if(!ef(e.scrollHeight,n)){let o=n-(t+r)<1;return e.scrollTop!==t&&o?{scrollHeight:n,scrollTop:t,jump:e.scrollTop-t,changed:!0}:{scrollHeight:n,scrollTop:t,jump:0,changed:!0}}return{scrollTop:t,scrollHeight:n,jump:0,changed:!1}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),S(e=>e.changed),C(e=>e.jump)),eR)}),ez=g(eg,e=>{e.link(e.pipe(tr,E((t,n)=>{if(n<0)return{direction:"up",prevScrollTop:0};if(e.getValue(ek))return{direction:t.direction,prevScrollTop:n};let r=n===t.prevScrollTop&&0===n;return{direction:n<t.prevScrollTop||r?"up":eg,prevScrollTop:n}},{direction:eg,prevScrollTop:0}),C(e=>e.direction)),ez),e.link(e.pipe(tr,z(100),k("none")),ez)}),eM=g(0,e=>{e.link(e.pipe(eI,S(eh),k(0)),eM),e.link(e.pipe(tr,R(100),I(eI),S(([,e])=>!!e),E(([,e],[t])=>[e,t],[0,0]),C(([e,t])=>t-e)),eM)});function eH(e,t){if("number"==typeof e)return{index:e,offset:0,behavior:"auto",align:"start-no-overflow"};let n={index:NaN,align:e.align??"start-no-overflow",behavior:e.behavior??"auto",offset:e.offset??0};return"LAST"===e.index?n.index=t:e.index<0?n.index=t+e.index:n.index=e.index,n}function eP({location:e,sizeTree:t,offsetTree:n,totalHeight:r,totalCount:o,viewportHeight:i,headerHeight:l,stickyHeaderHeight:s,stickyFooterHeight:a}){let{align:u,behavior:c,offset:d,index:f}=eH(e,o-1);function p(){let e=_(t,f)[1];if(void 0===e)throw Error(`Item at index ${f} not found`);return e}i-=s+a;let h=ed(f,n)+l-s;"end"===u?h=h-i+p():"center"===u&&(h=h-i/2+p()/2),d&&(h+=d);let m=0;return"start"===u&&(m=Math.max(0,Math.min(h-(r-i)))),{top:h=Math.max(0,h),behavior:c,align:u,forceBottomSpace:m}}let ej=g(null),eB=g(!1),eO=g(!0),e_=v(e=>{e.link(e.pipe(e_,C(()=>!0)),eO),e.link(e.pipe(e_,C(()=>null)),ej)}),eF=v(e=>{e.link(e.pipe(eF,I(eD,ei,tS),C(([e,t,n,r])=>{let{align:o,behavior:i,offset:l,index:s}=eH(e,t-1),a="number"!=typeof e?e.done:void 0,[u,c]=ec(s,n);return u<-r.listOffset?(("number"==typeof e||void 0===e.align)&&(o="start-no-overflow"),{index:s,align:o,behavior:i,offset:l,done:a}):u+c>-r.listOffset+r.visibleListHeight?(("number"==typeof e||void 0===e.align)&&(o="end"),{index:s,align:o,behavior:i,offset:l,done:a}):null}),S(e=>null!==e)),eL)}),eL=v(e=>{let t=e.pipe(eL,I(en,ei,eD,to,tv,tu,td,eu),C(([e,t,n,r,o,i,l,s,a])=>{try{return eP({location:e,totalHeight:a,sizeTree:t,offsetTree:n,totalCount:r,viewportHeight:o,headerHeight:i,stickyHeaderHeight:l,stickyFooterHeight:s})}catch{return null}}),S(e=>null!==e));e.link(eL,ej),e.link(t,tI),e.link(e.pipe(eL,S(e=>"number"!=typeof e&&"LAST"===e.index),k(!0)),ey),e.link(e.pipe(t,k(!1)),eO),e.link(e.pipe(t,k(!1)),eB),e.link(e.pipe(en,z(0),I(eO,ej),S(([,e,t])=>!e&&null!==t),C(([,,e])=>e)),eL),e.sub(e.pipe(tn,z(10)),()=>{let t=e.getValue(ej);null!==t&&"number"!=typeof t&&void 0!==t.done&&t.done(),e.pubIn({[ej]:null,[eO]:!0})}),e.link(e.pipe(ta,M(),S(e=>0!==e)),tR),e.link(e.pipe(ta,H(tr),C(()=>0)),ta)}),eW=g(null),eA=g(null,e=>{e.link(e.pipe(eA,S(e=>null!==e)),eW);let t=e.pipe(e.combine(eA,en),I(eW),S(([[e,t],n])=>null!==e&&!O(t)&&null!==n),C(([[e]])=>e));e.link(e.pipe(t,M()),eL),e.link(e.pipe(t,H(e.pipe(eO,S(e=>e))),k(null)),eW)},!1),eD=g(0),eV=g(null),eN=g(null,e=>{e.link(e.pipe(eN,S(e=>null!==e),C(e=>e.length)),eD)}),e$=g(null),eq=v(e=>{function t(t,n){e.pubIn({[e6]:!0,[tR]:t,[tM]:t}),n?requestAnimationFrame(()=>{e.pubIn({[tz]:0,[tM]:0,[e$]:null,[e8]:!1,[e6]:!1})}):e.pubIn({[tz]:0,[tM]:0,[e$]:null,[e8]:!1,[e6]:!1})}e.link(e.pipe(eq,I(eo),C(([e,t])=>-(t*e.length))),tz),e.link(e.pipe(eq,k(!0)),e8),e.link(e.pipe(eq,M()),e$),e.sub(e.pipe(ei,I(e$),S(([,e])=>null!==e),C(([e,t])=>{if(null===t)throw Error("Unexpected null items");return ed(t.length,e)})),e=>{t(e,!1)}),e.sub(e.pipe(eq,em(2),I(ei,e$),S(([,,e])=>null!==e),C(([e,t])=>ed(e.length,t))),e=>{t(e,!0)}),e.changeWith(eN,eq,(e,t)=>e?[...t,...e]:t.slice()),e.link(e.pipe(eq,I(en,eo),C(([e,t,n])=>{let r=e.length;return L(t).reduce((e,{k:t,v:n})=>({ranges:[...e.ranges,{startIndex:e.prevIndex,endIndex:t+r-1,size:e.prevSize}],prevIndex:t+r,prevSize:n}),{ranges:[],prevIndex:0,prevSize:n}).ranges})),J)}),eU=v(e=>{let t=e.pipe(eU,I(tS,tt,eV,en),S(([,,,,e])=>!O(e)),C(([{data:e,scrollToBottom:t},n,r,o])=>{if(!1===t||void 0===t)return null;let i="auto",l=n.isAtBottom;if("function"==typeof t){let s=t({data:e,scrollLocation:n,scrollInProgress:r,context:o,atBottom:l});if(!s)return null;if("object"==typeof s)return s;if("number"==typeof s)return{index:s,align:"end",behavior:"auto"};i=s}else{if(!l)return null;i=t}return!0===i&&(i="auto"),{index:"LAST",align:"end",behavior:i}}));e.link(e.pipe(t,S(e=>null!==e),C(()=>!0)),ey),e.link(e.pipe(tn,I(ey),S(([e,t])=>t),C(()=>!1)),ey);let n=e.pipe(tj,I(ey),S(([e,t])=>"up"===e&&t));e.link(e.pipe(n,C(()=>!1)),ey),e.link(e.pipe(n,k(!0)),e_),e.link(e.pipe(t,S(e=>null!==e),z(20)),eL)}),eG=v(e=>{e.changeWith(eN,eG,(e,t)=>e?[...e,...t.data]:t.data.slice()),e.link(eG,eU)}),eK=v(e=>{e.changeWith(eN,eK,(e,t)=>e?[...e.slice(0,t.offset),...t.data,...e.slice(t.offset)]:t.data.slice()),e.changeWith(et,eK,([e],t)=>{let n=_(e,t.offset,"k")[0],r=t.data.length;return[function(e,t,n,r){if(O(e))return j;let o=j;for(let{k:i,v:l}of L(e))o=i>t&&i<=n?F(o,...r(i,l)):F(o,i,l);return o}(e,n,1/0,(e,t)=>[e+r,t]),n]}),e.link(eK,eU)}),eY=v(e=>{e.changeWith(eN,eY,(e,{offset:t,count:n})=>e?e.slice(0,t).concat(e.slice(t+n)):[]),e.changeWith(et,eY,([e],{offset:t,count:n})=>[function(e,t,n){let r=j,o=-1;for(let{start:i,end:l,value:s}of $(L(e)))i<t?(r=F(r,i,s),o=s):i>t+n?r=F(r,i-n,s):l>=t+n&&o!==s&&(r=F(r,t,s));return r}(e,t,n),t])}),eQ=g(null),eZ=v(e=>{e.sub(e.pipe(eZ,I(eN),S(([{purgeItemSizes:e},t])=>!!e||null===t||0===t.length)),([t,n])=>{null===n||0===n.length?e.pubIn({...t.initialLocation?{[eA]:t.initialLocation}:{},[eN]:t.data.slice()}):e.pubIn({...t.initialLocation?{[eA]:t.initialLocation}:{},[et]:X,[e5]:e3,[eQ]:t.data.slice()})}),e.sub(e.pipe(tO,I(eQ),em(),S(([,e])=>null!==e)),([,t])=>{e.pubIn({[eN]:t,[eQ]:null})}),e.link(e.pipe(eZ,S(({purgeItemSizes:e})=>!e),I(eo),S(([,e])=>e>0),C(([{data:e},t])=>[{size:t,startIndex:e.length,endIndex:1/0}])),J),e.sub(e.pipe(eZ,S(({purgeItemSizes:e})=>!e)),({data:t,initialLocation:n,suppressItemMeasure:r})=>{requestAnimationFrame(()=>{r||e.pub(tB),requestAnimationFrame(()=>{n&&e.pubIn({[eL]:n})})}),e.pubIn({[eN]:t.slice()})})}),eX=v(e=>{e.link(e.pipe(eX,I(ei),C(([e,t])=>-ed(e,t))),tR),e.changeWith(eN,e.pipe(eX,M()),(e,t)=>e?e.slice(t):[]),e.changeWith(et,e.pipe(eX,M()),([e],t)=>[L(e).reduce((e,{k:n,v:r})=>F(e,Math.max(0,n-t),r),j),0])}),eJ=v(e=>{e.changeWith(eN,eJ,(e,t)=>e?e.slice(0,e.length-t):[]),e.link(e.pipe(eJ,I(eD,eo),C(([,e,t])=>[{size:t,startIndex:e,endIndex:1/0}])),J)}),e0=v(e=>{let t=e.pipe(e0,I(eN),C(([e,t])=>{if(!t)return[];let n=[];return t.forEach((t,r)=>{e(t,r)&&n.push(r)}),n}));e.changeWith(eN,t,(e,t)=>e?e.filter((e,n)=>!t.includes(n)):[]),e.changeWith(et,t,([e],t)=>[function(e,t){var n,r;let o=t.slice(),i=0,l=[];for(let{k:t,v:s}of L(e)){for(;o.length&&o[0]<t;)o.shift(),i++;let e=Math.max(0,t-i);e===((null==(n=l.at(-1))?void 0:n.k)??-1)?((null==(r=l.at(-2))?void 0:r.v)??-1)===s?l.pop():l[l.length-1].v=s:l.push({k:e,v:s})}let s=j;for(let{k:e,v:t}of l)s=F(s,e,t);return s}(e,t),0])}),e1=v(e=>{e.changeWith(eN,e1,(e,{mapper:t})=>e?e.map(t):[]),e.link(e.pipe(e1,em(3),I(eS),S(([{autoscrollToBottomBehavior:e},t])=>t&&!!e),C(([{autoscrollToBottomBehavior:e}])=>"object"==typeof e?e.location():{index:"LAST",align:"end",behavior:e}),S(e=>!!e)),eL)}),e2=v(e=>{e.changeWith(eN,e2,(e,{newData:t})=>t),e.link(e.pipe(e2,em(3),I(eS),S(([{autoscrollToBottomBehavior:e},t])=>t&&!!e),C(([{autoscrollToBottomBehavior:e}])=>"object"==typeof e?e.location():{index:"LAST",align:"end",behavior:e}),S(e=>!!e)),eL)}),e3={items:[],listBottom:0,listTop:0,offsetTree:[],paddingBottom:0,paddingTop:0,totalCount:0,totalHeight:0,deviationDelta:0,data:null},e6=g(!1),e5=g(e3,e=>{e.link(e.pipe(e.combine(ts,tw,en,ei,eD,eu,eN,ta,eA,eW,tc,tu,td,tz,e6,ee,e4),S(e=>{let t=e.at(-1),n=e.at(-2),r=e.at(-3);return!n&&!t&&!r}),E((t,[n,r,o,i,l,s,a,u,c,d,f,p,h,m])=>{var g,v;if((null==a?void 0:a.length)===0)return e3;if(O(o)){let e=0;return null!==c&&(e=eH(c,l-1).index),{...e3,items:(v=e,[{data:null==a?void 0:a[v],prevData:(null==a?void 0:a[v-1])??null,nextData:(null==a?void 0:a[v+1])??null,height:0,index:v,offset:0,type:"flat"}]),offsetTree:i,totalCount:l,data:a}}let b=0;null!==d&&0===n&&(b=eP({totalHeight:s,location:d,sizeTree:o,offsetTree:i,totalCount:l,viewportHeight:e.getValue(to),headerHeight:e.getValue(tv),stickyHeaderHeight:p,stickyFooterHeight:h}).top??0);let x=0;0!==e.getValue(tr)&&!e.getValue(te)&&"up"===e.getValue(ez)&&t.totalCount===l&&t.items.length>0&&0!=(x=s-t.totalHeight)&&(x+=e.getValue(eR));let y=e.getValue(tm),w=Math.min(Math.max(n+b+u-m-f+x-y,0),s-r),T=w+r+2*y;if(t.offsetTree===i&&t.totalCount===l&&t.data===a&&w>=t.listTop&&T<=t.listBottom)return t;let C=[],I=l-1,k=function(e,t,n,r=0){return r>0&&(t=Math.max(t,e[G(e,r,K)].offset)),N(function(e,t,n,r){let o=G(e,t,r),i=G(e,n,r,o);return e.slice(o,i+1)}(e,t=Math.max(0,t),n,Y),Q)}(i,w,T,0),S=0,E=0,R=!1;for(let e of k){let{value:{offset:t,height:n}}=e,r=e.start;S=t,t<w&&(r+=Math.floor((w-t)/n),S+=(r-e.start)*n),r<0&&(S+=(0-r)*n,r=0);let o=Math.min(e.end,I);for(let e=r;e<=o&&!(S>=T);e++){let t={data:null==a?void 0:a[e],prevData:(null==a?void 0:a[e-1])??null,nextData:(null==a?void 0:a[e+1])??null,height:n,index:e,offset:S,type:"flat"};R||(R=!0,E=S),C.push(t),S+=n}}0===C.length&&(E=S=0);let z=s-S,M=(null==(g=C[0])?void 0:g.offset)||0;return{items:C,listBottom:S,listTop:E,offsetTree:i,paddingBottom:z,paddingTop:M,totalCount:l,totalHeight:s,data:a,deviationDelta:x}},e3)),e5)}),e9=P([],e=>e.pipe(e.combine(e5,tr),C(([e,t])=>{let n=e.items.slice();for(;n.length>0&&n[0].offset+n[0].height<t;)n.shift();return n.map(e=>e.data)}))),e4=g(!1),e8=g(!1),e7=v(e=>{e.link(e.pipe(e5,C(e=>e.deviationDelta),S(e=>0!==e)),e7),ep()?(e.sub(e.pipe(e7,I(tz,tr)),([t,n])=>{e.pub(tz,n-t)}),e.sub(e.pipe(e.combine(tr,tz,ee,e8)),([t,n,r,o])=>{r||o||(n>0&&t<n?(e.pub(e4,!0),e.pub(tI,{top:0,behavior:"instant"}),setTimeout(()=>{e.pubIn({[e4]:!1,[tz]:0})})):n<0&&t<=0&&(e.pubIn({[e4]:!0,[tz]:0}),setTimeout(()=>{e.pub(tI,{top:0,behavior:"instant"}),e.pub(e4,!1)})))}),e.sub(e.pipe(e.combine(eI,tz,e4,ee,e8),S(([e,t,n,r,o])=>!e&&0!==t&&!n&&!r&&!o),R(100)),([,t])=>{e.pub(e4,!0),t<0?requestAnimationFrame(()=>{e.pub(tR,-t),e.pub(tz,0),requestAnimationFrame(()=>{e.pub(e4,!1)})}):requestAnimationFrame(()=>{e.pub(tR,-t),e.pub(tz,0),requestAnimationFrame(()=>{e.pub(e4,!1)})})})):e.link(e7,tR)}),te=v(),tt=g(!1),tn=v(e=>{e.link(e.pipe(tn,k(!1)),te)},!1),tr=g(0),to=g(0),ti=g(0),tl=g(0),ts=tr,ta=g(0),tu=g(0),tc=g(0),td=g(0),tf=g(0),tp=g(null),th=b(),tm=g(0),tg=function(e){return 1===e?1:1-2**(-10*e)},tv=P(0,e=>e.pipe(e.combine(tu,tc),C(([e,t])=>e+t))),tb=P(0,e=>e.pipe(e.combine(td,tf),C(([e,t])=>e+t))),tx=P(0,e=>e.pipe(e.combine(tu,tc,tr),C(([e,t,n])=>e+Math.max(t-n,0)))),ty=P(0,e=>e.pipe(e.combine(td,tf,tr,to,tl),C(([e,t,n,r,o])=>(n=Math.min(n,o-r),e+Math.max(t-(o-(n+r)),0))))),tw=P(0,e=>e.pipe(e.combine(to,tx,ty),C(([e,t,n])=>Math.max(0,e-t-n)))),tT=g(0),tC=g(0,e=>{e.link(e.pipe(e.combine(tC,eu,to,tv,tu),C(([e,t,n,r,o])=>0===e?0:Math.max(0,Math.min(e-(t+r+o-n))))),tT)}),tI=v(e=>{e.link(e.pipe(tI,C(e=>"start"===e.align?e.top??0:0)),tC),e.link(e.pipe(tI,I(tr),S(([e,t])=>e.top!==t),k(!0)),te)}),tk=v(e=>{e.link(e.pipe(tI,I(tL),C(([e,t])=>("top"in e&&"u">typeof e.top&&(e={...e,top:e.top+t}),e))),tk)}),tS=P({listOffset:0,visibleListHeight:0,scrollHeight:0,bottomOffset:0,isAtBottom:!1},e=>e.pipe(e.combine(tr,tv,tb,tc,tw,tl,tT,ee,eW,e4,ey),S(([,,,,,,,e,t,n])=>!e&&null===t&&!n),C(([t,n,r,o,i,l,s,a,u,c,d])=>{let f=e.getValue(eT),p=l-n-r,h=-t+o,m=p+Math.min(0,h)-i-s;return{scrollHeight:p,listOffset:h,visibleListHeight:i,bottomOffset:m,isAtBottom:d||m<=f}}))),tE=v(e=>{e.link(e.pipe(tr,z(0),I(tS,eW,ee),S(([,e,t,n])=>e.scrollHeight>0&&null==t&&!n),C(([,e])=>e)),tE)}),tR=v(),tz=g(0),tM=g(0),tH=g(0),tP=g(""),tj=v(),tB=b(),tO=b(),t_=g(!1),tF=g(null);g(0);let tL=g(0,e=>{e.link(e.pipe(e.combine(tA,tW,tL),C(([e,t,n])=>e-Math.max(0,n-t))),to)}),tW=g(0,e=>{e.link(e.pipe(e.combine(tW,tL),C(([e,t])=>Math.max(0,e-t))),tr)}),tA=g(0),tD=g(null),tV=g(null),tN=g(null),t$=g(null),tq=g(null),tU=g("div"),tG={position:"sticky",top:0,zIndex:1},tK={overflowAnchor:"none"},tY={position:"sticky",bottom:0},tQ=o.forwardRef((e,t)=>(0,l.jsx)("div",{style:{zIndex:1},...e,ref:t})),tZ=o.forwardRef((e,t)=>(0,l.jsx)("div",{...e,ref:t})),tX=o.forwardRef(({style:e,...t},n)=>(0,l.jsx)("div",{...t,style:{...tG,...e},ref:n})),tJ=o.forwardRef(({style:e,...t},n)=>(0,l.jsx)("div",{...t,style:{...tY,...e},ref:n})),t0=g(tQ),t1=g(tX),t2=g(tZ),t3=g(tJ),t6=({index:e})=>(0,l.jsxs)("div",{children:["Item ",e]}),t5=({index:e})=>e,t9=g(t6),t4=g(t5),t8=e=>e,t7=g(t8),ne=g(null,e=>{e.sub(e.pipe(ne,I(eN,t7,ei,et)),([t,n,r,o,i])=>{if(void 0===t)return;if(!t||!t.data||!t.data.length)return void e.pubIn({[eN]:[],[et]:X,[e5]:e3});let l=t.data,s=t.scrollModifier;if("prepend"===s){if(null===n||!n.length)return void e.pub(eN,l);let t=n[0],o=l.findIndex(e=>r(e)===r(t)),i=-1===o?l:l.slice(0,o),s=-1===o?[]:l.slice(o);return e.pubIn({[eN]:s}),void e.pubIn({[eq]:i})}if("remove-from-start"===s){let t=l[0],s=(null==n?void 0:n.findIndex(e=>r(e)===r(t)))??-1;if(-1===s)return void e.pub(eN,l);let a=ed(s,o);return e.pub(tR,-a),void queueMicrotask(()=>{e.pub(eN,l);let t=L(i[0]).reduce((e,{k:t,v:n})=>F(e,Math.max(0,t-s),n),j);e.pub(et,[t,0])})}if("remove-from-end"===s){e.pub(eN,l),e.pub(J,[{size:e.getValue(eo),startIndex:l.length,endIndex:1/0}]);return}if((null==s?void 0:s.type)==="item-location"){l!==n&&e.pubIn({[eZ]:{data:l,initialLocation:s.location,purgeItemSizes:s.purgeItemSizes}});return}return(null==s?void 0:s.type)==="auto-scroll-to-bottom"?void e.pubIn({[eN]:l,[eU]:{data:l,scrollToBottom:s.autoScroll}}):(null==s?void 0:s.type)==="items-change"?void e.pub(e2,{newData:l,autoscrollToBottomBehavior:s.behavior}):void e.pub(eN,l)})},(e,t)=>!!e&&e.data===(null==t?void 0:t.data)),nt=({item:e,ItemContent:t,mount:n,unmount:r})=>{let i=T(eV),s=o.useRef(null),a=o.useCallback(e=>{e?(s.current=e,n(e)):s.current&&(r(s.current),s.current=null)},[n,r]);return(0,l.jsx)("div",{ref:a,"data-index":e.index,"data-known-size":e.height,style:{overflowAnchor:"none",position:"absolute",width:"100%",top:e.offset},children:(0,l.jsx)(t,{index:e.index,prevData:e.prevData,nextData:e.nextData,data:e.data,context:i})})},nn=g("top",e=>{e.link(e.pipe(e.combine(nn,eu,to,tv,tb),S(([e])=>"bottom"===e||"bottom-smooth"===e),C(([,e,t,n,r])=>Math.max(0,t-e-n-r))),tH),e.link(e.pipe(e.combine(tH,nn),S(([,e])=>"bottom-smooth"===e),E((e,[t])=>[e[1],t],[0,0]),C(([e,t])=>e>0&&t>0?"margin-top 0.2s ease-out":"")),tP)});function nr(e){let t=o.useRef(null);return[o.useCallback(n=>{n?(t.current=n,null==e||e.observe(n,{box:"border-box"})):t.current&&(null==e||e.unobserve(t.current),t.current=null)},[e]),t]}function no(e,t,n,r,o,i){var l,s;return nu((l=nu(nu(t,e),nu(r,i)),l<<(s=o)|l>>>32-s),n)}function ni(e,t,n,r,o,i,l){return no(t&n|~t&r,e,t,o,i,l)}function nl(e,t,n,r,o,i,l){return no(t&r|n&~r,e,t,o,i,l)}function ns(e,t,n,r,o,i,l){return no(t^n^r,e,t,o,i,l)}function na(e,t,n,r,o,i,l){return no(n^(t|~r),e,t,o,i,l)}function nu(e,t){let n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}let nc=Symbol("INVALID_KEY"),nd={valid:!1,consoleMessage:"Your VirtuosoMessageListLicense is missing a license key. Purchase one from https://virtuoso.dev/pricing/",watermarkMessage:"Your VirtuosoMessageListLicense is missing a license key. Purchase one from https://virtuoso.dev/pricing/"},nf={valid:!1,consoleMessage:"Your VirtuosoMessageListLicense component is missing a license key - this component will not work if deployed in production. Purchase a key from https://virtuoso.dev/pricing/ before you deploy to production."},np={valid:!0},nh={valid:!1,consoleMessage:"Your Virtuoso Message List license key is invalid. Ensure that you have copy-pasted the key from the purchase email correctly.",watermarkMessage:"Your Virtuoso Message List license key is invalid"},nm={valid:!1,consoleMessage:"Your annual license key to use Virtuoso Message List in non-production environments has expired. You can still use it in production. To keep using it in development, purchase a new key from https://virtuoso.dev/pricing/",watermarkMessage:"Your annual license key to use Virtuoso Message List in non-production environments has expired. You can still use it in production. To keep using it in development, purchase a new key from https://virtuoso.dev/pricing/"},ng={valid:!1,consoleMessage:"You have installed a version of `@virtuoso.dev/message-list` that is newer than the period of your license key. Either downgrade to a supported version, or purchase a new license from https://virtuoso.dev/pricing/",watermarkMessage:"You have installed a version of `@virtuoso.dev/message-list` that is newer than the period of your license key. Either downgrade to a supported version, or purchase a new license from https://virtuoso.dev/pricing/"},nv=/^(?:127\.0\.0\.1|localhost|0\.0\.0\.0|.+\.local)$/,nb=["virtuoso.dev","csb.app","codesandbox.io"],nx=o.createContext({valid:!1,consoleMessage:"The VirtuosoMessageList license wrapper component is missing. Enclose the VirtuosoMessageList with VirtuosoMessageListLicense and add your key at the lisenceKey property.",watermarkMessage:"The VirtuosoMessageList license wrapper component is missing. Enclose the VirtuosoMessageList with VirtuosoMessageListLicense and add your key at the lisenceKey property."}),ny=({licenseKey:e,children:t})=>{let n=function({licenseKey:e,now:t,hostname:n,packageTimestamp:r}){let o=n.match(nv),i=nb.some(e=>n.endsWith(e));if(!e)return i?np:o?nf:nd;let l=function(e){let t=e.slice(0,32),n=e.slice(32),r=atob(n);if(t!==(function(e){for(var t,n="0123456789ABCDEF",r="",o=0;o<e.length;o++)r+=n.charAt((t=e.charCodeAt(o))>>>4&15)+n.charAt(15&t);return r})(function(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t}(function(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=0x67452301,r=-0x10325477,o=-0x67452302,i=0x10325476,l=0;l<e.length;l+=16){let t=n,s=r,a=o,u=i;r=na(r=na(r=na(r=na(r=ns(r=ns(r=ns(r=ns(r=nl(r=nl(r=nl(r=nl(r=ni(r=ni(r=ni(r=ni(r,o=ni(o,i=ni(i,n=ni(n,r,o,i,e[l+0],7,-0x28955b88),r,o,e[l+1],12,-0x173848aa),n,r,e[l+2],17,0x242070db),i,n,e[l+3],22,-0x3e423112),o=ni(o,i=ni(i,n=ni(n,r,o,i,e[l+4],7,-0xa83f051),r,o,e[l+5],12,0x4787c62a),n,r,e[l+6],17,-0x57cfb9ed),i,n,e[l+7],22,-0x2b96aff),o=ni(o,i=ni(i,n=ni(n,r,o,i,e[l+8],7,0x698098d8),r,o,e[l+9],12,-0x74bb0851),n,r,e[l+10],17,-42063),i,n,e[l+11],22,-0x76a32842),o=ni(o,i=ni(i,n=ni(n,r,o,i,e[l+12],7,0x6b901122),r,o,e[l+13],12,-0x2678e6d),n,r,e[l+14],17,-0x5986bc72),i,n,e[l+15],22,0x49b40821),o=nl(o,i=nl(i,n=nl(n,r,o,i,e[l+1],5,-0x9e1da9e),r,o,e[l+6],9,-0x3fbf4cc0),n,r,e[l+11],14,0x265e5a51),i,n,e[l+0],20,-0x16493856),o=nl(o,i=nl(i,n=nl(n,r,o,i,e[l+5],5,-0x29d0efa3),r,o,e[l+10],9,0x2441453),n,r,e[l+15],14,-0x275e197f),i,n,e[l+4],20,-0x182c0438),o=nl(o,i=nl(i,n=nl(n,r,o,i,e[l+9],5,0x21e1cde6),r,o,e[l+14],9,-0x3cc8f82a),n,r,e[l+3],14,-0xb2af279),i,n,e[l+8],20,0x455a14ed),o=nl(o,i=nl(i,n=nl(n,r,o,i,e[l+13],5,-0x561c16fb),r,o,e[l+2],9,-0x3105c08),n,r,e[l+7],14,0x676f02d9),i,n,e[l+12],20,-0x72d5b376),o=ns(o,i=ns(i,n=ns(n,r,o,i,e[l+5],4,-378558),r,o,e[l+8],11,-0x788e097f),n,r,e[l+11],16,0x6d9d6122),i,n,e[l+14],23,-0x21ac7f4),o=ns(o,i=ns(i,n=ns(n,r,o,i,e[l+1],4,-0x5b4115bc),r,o,e[l+4],11,0x4bdecfa9),n,r,e[l+7],16,-0x944b4a0),i,n,e[l+10],23,-0x41404390),o=ns(o,i=ns(i,n=ns(n,r,o,i,e[l+13],4,0x289b7ec6),r,o,e[l+0],11,-0x155ed806),n,r,e[l+3],16,-0x2b10cf7b),i,n,e[l+6],23,0x4881d05),o=ns(o,i=ns(i,n=ns(n,r,o,i,e[l+9],4,-0x262b2fc7),r,o,e[l+12],11,-0x1924661b),n,r,e[l+15],16,0x1fa27cf8),i,n,e[l+2],23,-0x3b53a99b),o=na(o,i=na(i,n=na(n,r,o,i,e[l+0],6,-0xbd6ddbc),r,o,e[l+7],10,0x432aff97),n,r,e[l+14],15,-0x546bdc59),i,n,e[l+5],21,-0x36c5fc7),o=na(o,i=na(i,n=na(n,r,o,i,e[l+12],6,0x655b59c3),r,o,e[l+3],10,-0x70f3336e),n,r,e[l+10],15,-1051523),i,n,e[l+1],21,-0x7a7ba22f),o=na(o,i=na(i,n=na(n,r,o,i,e[l+8],6,0x6fa87e4f),r,o,e[l+15],10,-0x1d31920),n,r,e[l+6],15,-0x5cfebcec),i,n,e[l+13],21,0x4e0811a1),o=na(o,i=na(i,n=na(n,r,o,i,e[l+4],6,-0x8ac817e),r,o,e[l+11],10,-0x42c50dcb),n,r,e[l+2],15,0x2ad7d2bb),i,n,e[l+9],21,-0x14792c6f),n=nu(n,t),r=nu(r,s),o=nu(o,a),i=nu(i,u)}return[n,r,o,i]}(function(e){for(var t=Array(e.length>>2),n=0;n<t.length;n++)t[n]=0;for(n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t}(n),8*n.length))).toLowerCase())return nc;let[o,i]=r.split(";");return{orderNumber:o.slice(2),expiryDate:new Date(Number(i.slice(2)))}}(e);if(l===nc)return nh;if(l.expiryDate.getTime()<t.getTime()){if(o)return nm;if(l.expiryDate.getTime()<r)return ng}return np}({licenseKey:e,hostname:"u">typeof window?window.location.hostname:"localhost",now:new Date,packageTimestamp:0x198d05839b9});return(0,l.jsx)(nx.Provider,{value:n,children:t})};ny.displayName=Math.random().toString(36).slice(2,8);let nw=o.createContext(void 0),nT=!1,nC=o.forwardRef(({initialData:e=[],computeItemKey:t=t5,context:n=null,initialLocation:r=null,shortSizeAlign:i="top",onScroll:s,onRenderedDataChange:a,ItemContent:u=t6,Header:c=null,StickyHeader:d=null,Footer:f=null,StickyFooter:p=null,EmptyPlaceholder:h=null,HeaderWrapper:g=tQ,StickyHeaderWrapper:v=tX,FooterWrapper:b=tZ,StickyFooterWrapper:y=tJ,useWindowScroll:w=!1,customScrollParent:T=null,ScrollElement:C="div",increaseViewportBy:I=0,data:k,itemIdentity:S=t8,...E},R)=>{let z=o.useMemo(()=>{let o=new m;return o.register(e5),o.register(te),o.register(ez),o.register(e7),o.register(eE),o.register(eG),o.register(eq),o.register(eZ),o.pubIn({[eN]:e.slice(),[t7]:t8,[eV]:n,[t4]:t,[eA]:r,[t9]:u,[tD]:c,[tN]:f,[tV]:d,[t$]:p,[tq]:h,[tU]:C,[t3]:y,[t1]:v,[t2]:b,[t0]:g,[nn]:i,[t_]:w,[tF]:T,[tm]:I}),o.singletonSub(tE,s),o.singletonSub(e9,a),o},[]);o.useImperativeHandle(R,()=>({data:{prepend:e=>{z.pub(eq,e)},append:(e,t)=>{z.pub(eG,{data:e,scrollToBottom:t})},replace:(e,t)=>{z.pub(eZ,{...t,data:e})},map:(e,t)=>{z.pub(e1,{mapper:e,autoscrollToBottomBehavior:t})},findAndDelete:e=>{z.pub(e0,e)},findIndex:e=>z.getValue(eN).findIndex(e),find:e=>z.getValue(eN).find(e),insert:(e,t,n)=>{z.pub(eK,{data:e,offset:t,scrollToBottom:n})},deleteRange:(e,t)=>{z.pub(eY,{offset:e,count:t})},batch:(e,t)=>{z.pub(ee,!0),e(),z.pub(ee,!1),z.pub(eU,{data:[],scrollToBottom:t})},get:()=>z.getValue(eN).slice(),getCurrentlyRendered:()=>z.getValue(e9),removeFromStart:e=>{z.pub(eX,e)}},scrollToItem:e=>{z.pub(eL,e)},scrollIntoView:e=>{z.pub(eF,e)},scrollerElement:()=>z.getValue(tp),getScrollLocation:()=>z.getValue(tS),cancelSmoothScroll(){z.pub(th)},height:e=>{var t;let n=(null==(t=z.getValue(eN))?void 0:t.indexOf(e))??-1;return -1===n?0:_(z.getValue(en),n)[1]??0}}),[z]),o.useEffect(()=>{z.pubIn({[eV]:n,[t9]:u,[tF]:T,[ne]:k}),z.singletonSub(tE,s),z.singletonSub(e9,a)},[n,u,T,s,a,z,k]);let M=o.useContext(nx);return o.useEffect(()=>{M.consoleMessage&&(nT||(nT=!0,console.warn(M.consoleMessage)))},[M]),o.useEffect(()=>{let e=e=>{var t;null!=(t=e.message)&&t.includes("ResizeObserver loop")&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())};return window.addEventListener("error",e,{capture:!0}),()=>{window.removeEventListener("error",e)}},[]),"u">typeof window&&M.watermarkMessage?(0,l.jsx)("div",{style:{color:"red",pointerEvents:"none"},children:M.watermarkMessage}):(0,l.jsx)(x.Provider,{value:z,children:(0,l.jsx)(nI,{...E})})});nC.displayName="VirtuosoMessageList";let nI=({style:e,...t})=>{let n=w(),r=o.useContext(nw),[i,s,a,u,c,d,f,p,h,m,g]=function(...e){let t=w();return T(t.combineCells.apply(t,e))}(tD,tV,t0,t1,tN,t$,t2,t3,t9,tq,tF),[v]=o.useState(()=>{if("u">typeof window&&typeof ResizeObserver>"u")throw Error("ResizeObserver not found. Please ensure that you have a polyfill installed.");if(!(typeof ResizeObserver>"u"))return new ResizeObserver(e=>{var t,r,o,i;let l=e.length,s=[],a={};for(let n=0;n<l;n++){let l=e[n],u=l.target;if(u===k.current){a={...a,[tc]:l.contentRect.height,[tl]:null==(t=R.current)?void 0:t.scrollHeight};continue}if(u===E.current){a={...a,[tu]:l.contentRect.height,[tl]:null==(r=R.current)?void 0:r.scrollHeight};continue}if(u===x.current){a={...a,[tf]:l.contentRect.height,[tl]:null==(o=R.current)?void 0:o.scrollHeight};continue}if(u===C.current){a={...a,[td]:l.contentRect.height,[tl]:null==(i=R.current)?void 0:i.scrollHeight};continue}if(u===R.current){a={...a,[tr]:u.scrollTop,[tl]:u.scrollHeight,[to]:l.contentRect.height,[ti]:u.clientWidth};continue}if(u===M.current){R.current&&(a={...a,[tl]:R.current.scrollHeight});continue}if(u===z.current){let e=u.ownerDocument.defaultView;null!==e&&(a={...a,[tl]:l.contentRect.height,[tW]:e.scrollY,[tA]:e.innerHeight,[tL]:u.getBoundingClientRect().top+e.scrollY,[ti]:u.clientWidth});continue}if(u===g||u===H.current){let e=P.current,t=H.current;e&&t&&(a={...a,[tl]:t.getBoundingClientRect().height,[tW]:e.scrollTop,[tA]:e.clientHeight,[tL]:t.offsetTop,[ti]:t.clientWidth});continue}if(void 0===u.dataset.index)continue;let c=Number.parseInt(u.dataset.index),d=Number.parseFloat(u.dataset.knownSize??""),f=l.contentRect.height;if(f===d)continue;let p=s[s.length-1];0===s.length||p.size!==f||p.endIndex!==c-1?s.push({endIndex:c,size:f,startIndex:c}):s[s.length-1].endIndex++}s.length>0&&(a={...a,[J]:s}),n.pubIn(a)})}),[b,x]=nr(v),[y,C]=nr(v),[I,k]=nr(v),[S,E]=nr(v),R=o.useRef(null),z=o.useRef(null),M=o.useRef(null),H=o.useRef(null),P=o.useRef(null);(0,o.useEffect)(()=>{P.current=g},[g]);let j=o.useCallback(e=>{if(r){let t=Number.parseInt(e.dataset.index??"");n.pub(J,[{startIndex:t,endIndex:t,size:r.itemHeight}])}null==v||v.observe(e)},[v,n,r]),B=o.useCallback(e=>{null==v||v.unobserve(e)},[v]),O=o.useCallback(e=>{e?(M.current=e,null==v||v.observe(e,{box:"border-box"})):M.current&&(null==v||v.unobserve(M.current),M.current=null)},[v]),{items:_}=T(e5),F=o.useCallback(()=>{var e;let t=[];for(let n of(null==(e=M.current)?void 0:e.children)??[]){if(void 0===n.dataset.index)continue;let e=Number.parseInt(n.dataset.index),r=Number.parseFloat(n.dataset.knownSize??""),o=n.getBoundingClientRect().height;if(o===r)continue;let i=t[t.length-1];0===t.length||i.size!==o||i.endIndex!==e-1?t.push({endIndex:e,size:o,startIndex:e}):t[t.length-1].endIndex++}n.pub(J,t)},[n]);o.useLayoutEffect(()=>n.sub(tB,F),[F,n]);let L=T(tz),W=T(tM),A=T(tH),D=T(tT),V=T(tP),N=T(eV),$=T(t4),q=T(eD),U=T(eu),G=T(t_),K=T(eW);return o.useLayoutEffect(()=>{0===_.length&&n.pub(tO)},[_,n]),o.useLayoutEffect(()=>{var e;q>0&&null===K&&null!==m&&n.pub(tl,null==(e=R.current)?void 0:e.scrollHeight)},[n,q,K,m]),(0,l.jsxs)(g?nE:G?nS:nk,{...t,observer:v,scrollerRef:R,customScrollParentWrapperRef:H,listRef:M,style:e,windowScrollWrapperRef:z,children:[(0===q||K)&&m?(0,l.jsx)(m,{context:N}):null,s&&(0,l.jsx)(u,{ref:S,style:tK,children:(0,l.jsx)(s,{context:N})}),i&&(0,l.jsx)(a,{ref:I,style:tK,children:(0,l.jsx)(i,{context:N})}),q>0?(0,l.jsx)("div",{ref:O,"data-testid":"virtuoso-list",style:{boxSizing:"content-box",height:U,paddingBottom:D,overflowAnchor:"none",marginTop:A,transition:V,position:"relative",transform:`translateY(${L+W}px)`,visibility:K?"hidden":"visible"},children:_.map(e=>(0,l.jsx)(nt,{mount:j,unmount:B,item:e,ItemContent:h},$({index:e.index,data:e.data,context:N})))}):null,c&&(0,l.jsx)(f,{ref:b,style:tK,children:(0,l.jsx)(c,{context:N})}),d&&(0,l.jsx)(p,{ref:y,style:tK,children:(0,l.jsx)(d,{context:N})})]})},nk=({customScrollParentWrapperRef:e,windowScrollWrapperRef:t,observer:n,children:r,listRef:i,scrollerRef:s,style:a,...u})=>{let c=w(),d=o.useContext(nw),f=T(tU),{onScroll:p,onWheel:h}=nR({listRef:i,scrollTopCell$:tr,scrollToSignal$:tI,scrollableRef:s}),m=o.useCallback(e=>{e?(c.pub(tp,e),s.current=e,e.addEventListener("scroll",p),e.addEventListener("wheel",h),d&&c.pubIn({[to]:d.viewportHeight,[tl]:d.viewportHeight,[tr]:0}),null==n||n.observe(e,{box:"border-box"})):s.current&&(s.current.removeEventListener("scroll",p),s.current.removeEventListener("wheel",h),c.pub(tp,null),null==n||n.unobserve(s.current),s.current=null)},[n,c,p,h,d,s]);nz(()=>{var e;return null==(e=s.current)?void 0:e.scrollHeight});let g=T(e4),v=T(eV);return(0,l.jsx)(f,{...u,ref:m,"data-testid":"virtuoso-scroller",style:{overflowY:g?"hidden":"scroll",boxSizing:"border-box",...a},..."div"===f?{}:{context:v},children:r})},nS=({observer:e,children:t,windowScrollWrapperRef:n,customScrollParentWrapperRef:r,listRef:i,...s})=>{let a=o.useRef(null),u=w(),c=o.useContext(nw),{onScroll:d,onWheel:f}=nR({listRef:i,scrollTopCell$:tW,scrollToSignal$:tk,scrollableRef:a}),p=o.useCallback(()=>{var e;let t=a.current;null!==t&&u.pub(tA,null==(e=t.ownerDocument.defaultView)?void 0:e.innerHeight)},[u]),h=o.useCallback(t=>{if(t){u.pub(tp,t),n.current=t;let r=t.ownerDocument.defaultView;r&&(r.addEventListener("scroll",d),r.addEventListener("wheel",f),r.addEventListener("resize",p),c&&u.pubIn({[tA]:null==r?void 0:r.innerHeight,[tl]:t.getBoundingClientRect().height,[tW]:0}),a.current=t.ownerDocument.documentElement),null==e||e.observe(t,{box:"border-box"})}else{if(n.current){let t=n.current.ownerDocument.defaultView;t&&(t.removeEventListener("scroll",d),t.removeEventListener("wheel",f),t.removeEventListener("resize",p)),u.pub(tp,null),null==e||e.unobserve(n.current),n.current=null}a.current=null}},[e,u,d,f,p,c,n]);return nz(()=>{var e;return null==(e=n.current)?void 0:e.getBoundingClientRect().height}),(0,l.jsx)("div",{ref:h,...s,children:t})},nE=({scrollerRef:e,windowScrollWrapperRef:t,children:n,listRef:r,customScrollParentWrapperRef:i,observer:s,...a})=>{let u=w(),c=o.useContext(nw),d=T(tF),f=o.useRef(d);(0,o.useEffect)(()=>{f.current=d},[d]);let{onWheel:p,onScroll:h}=nR({listRef:r,scrollTopCell$:tW,scrollToSignal$:tk,scrollableRef:f}),m=o.useCallback(e=>{if(e){let t=f.current;u.pub(tp,t),i.current=e,t&&(t.addEventListener("scroll",h),t.addEventListener("wheel",p),c&&u.pubIn({[tA]:t.clientHeight,[tl]:e.getBoundingClientRect().height,[tW]:0}),null==s||s.observe(t,{box:"border-box"})),null==s||s.observe(e,{box:"border-box"})}else{let e=f.current;e&&(e.removeEventListener("scroll",h),e.removeEventListener("wheel",p),u.pub(tp,null),null==s||s.unobserve(e)),i.current&&(null==s||s.unobserve(i.current)),i.current=null}},[s,u,h,p,c,i]);return nz(()=>{var e;return null==(e=i.current)?void 0:e.getBoundingClientRect().height}),(0,l.jsx)("div",{ref:m,...a,children:n})};function nR({scrollToSignal$:e,scrollableRef:t,listRef:n,scrollTopCell$:r}){let i=w(),l=o.useRef(null),s=function(e,t,n){let r=w(),i=o.useRef(null),l=o.useRef(null),s=o.useCallback(()=>{i.current&&(cancelAnimationFrame(i.current),i.current=null,l.current=null)},[]);o.useEffect(()=>r.sub(tj,e=>{e!==l.current&&s()}),[r,s]),o.useEffect(()=>r.sub(th,s),[r,s]);let a=o.useCallback((t,n,r)=>{var o;i.current&&s();let a=(null==(o=e.current)?void 0:o.scrollTop)??0;l.current=a<t?"down":"up";let u=0,c=0;!function o(){var s,d;let f=a+(t-a)*n(u);null==(s=e.current)||s.scrollTo({top:f,behavior:"instant"}),u+=1/r,(c+=1)<r?i.current=requestAnimationFrame(o):(null==(d=e.current)||d.scrollTo({top:t,behavior:"instant"}),i.current=null,l.current=null)}()},[e,s]);return o.useCallback(o=>{var i,l;let u=e.current;if(!(!u||void 0===o.top)){if(.5>Math.abs(o.top-u.scrollTop))return void requestAnimationFrame(()=>{var t;r.pub(tn,null==(t=e.current)?void 0:t.scrollTop)});if(n.current=o.top,r.pub(tt,!0),void 0!==o.forceBottomSpace&&t.current&&(t.current.style.paddingBottom=`${o.forceBottomSpace}px`),"smooth"===o.behavior)a(o.top??0,tg,50);else if("auto"===o.behavior||"instant"===o.behavior||void 0===o.behavior)s(),null==(i=e.current)||i.scrollTo(o);else{let{easing:t,animationFrameCount:n}=o.behavior((null==(l=e.current)?void 0:l.scrollTop)??0,o.top??0);a(o.top??0,t,n)}}},[r,a,t,e,n,s])}(t,n,l),a=o.useCallback(e=>{t.current&&(t.current.scrollTop+=e)},[t]),u=o.useCallback(()=>{let e=t.current;if(null!==e&&(i.pub(r,e.scrollTop),null!==l.current)){let t=e.scrollHeight-e.clientHeight;ef(e.scrollTop,Math.min(t,l.current))&&(l.current=null,i.pub(tt,!1),i.pub(tn,e.scrollTop))}},[i,t,r]),c=o.useCallback(e=>{i.pub(tj,e.deltaY>0?"down":"up")},[i]);return o.useLayoutEffect(()=>i.sub(e,s),[s,i,e]),o.useLayoutEffect(()=>i.sub(tR,a),[a,i]),{onScroll:u,onWheel:c}}function nz(e){let t=function(e){let t=w();return t.register(e),o.useCallback(n=>{t.pub(e,n)},[t,e])}(tl);(0,o.useLayoutEffect)(()=>{if(!ep())return;let n=setInterval(()=>{t(e()??0)},1e3);return()=>{clearInterval(n)}},[t,e])}},67:function(e,t,n){"use strict";let r;n.d(t,{aY:()=>tL});var o=n(4848),i=n(6540),l=n(961);function s(e){e()}function a(e,t){return n=>e(t(n))}function u(e){return void 0!==e}function c(){}function d(e,t){return t(e)}function f(...e){return e}function p(e){e(2)}function h(e){return e(4)}function m(e,t){return e(1,e=>t(0,e))}function g(e,t){let n=e(1,e=>{n(),t(e)});return n}function v(e){let t,n;return r=>o=>{t=o,n&&clearTimeout(n),n=setTimeout(()=>{r(t)},e)}}function b(e,t){return e===t}function x(e=b){let t;return n=>r=>{e(t,r)||(t=r,n(r))}}function y(e){return t=>n=>{e(n)&&t(n)}}function w(e){return t=>a(t,e)}function T(e){return t=>()=>{t(e)}}function C(e,...t){let n=function(...e){return t=>e.reduceRight(d,t)}(...t);return(t,r)=>{switch(t){case 2:p(e);return;case 1:return e(1,n(r))}}}function I(e,t){return n=>r=>{n(t=e(t,r))}}function k(e){return t=>n=>{e>0?e--:t(n)}}function S(e){let t=null,n;return r=>o=>{t=o,n||(n=setTimeout(()=>{n=void 0,r(t)},e))}}function E(...e){let t=Array(e.length),n=0,r=null,o=Math.pow(2,e.length)-1;return e.forEach((e,i)=>{let l=Math.pow(2,i);e(1,e=>{let s=n;n|=l,t[i]=e,s!==o&&n===o&&r&&(r(),r=null)})}),e=>i=>{let l=()=>{e([i].concat(t))};n===o?l():r=l}}function R(e){let t=e,n=M();return(e,r)=>{switch(e){case 0:t=r;break;case 1:r(t);break;case 4:return t}return n(e,r)}}function z(e,t){var n;return n=R(t),m(e,n),n}function M(){let e=[];return(t,n)=>{switch(t){case 0:e.slice().forEach(e=>{e(n)});return;case 2:e.splice(0,e.length);return;case 1:return e.push(n),()=>{let t=e.indexOf(n);t>-1&&e.splice(t,1)}}}}function H(e){var t;return t=M(),m(e,t),t}function P(e,t=[],{singleton:n}={singleton:!0}){return{constructor:e,dependencies:t,id:j(),singleton:n}}let j=()=>Symbol();function B(...e){let t=M(),n=Array(e.length),r=0,o=Math.pow(2,e.length)-1;return e.forEach((e,i)=>{let l=Math.pow(2,i);e(1,e=>{n[i]=e,(r|=l)===o&&t(0,n)})}),function(e,i){switch(e){case 2:return void p(t);case 1:return r===o&&i(n),t(1,i)}}}function O(e,t=b){return C(e,x(t))}function _(...e){return function(t,n){switch(t){case 2:return;case 1:return function(...e){return()=>{e.map(s)}}(...e.map(e=>e(1,n)))}}}var F=((r=F||{})[r.DEBUG=0]="DEBUG",r[r.INFO=1]="INFO",r[r.WARN=2]="WARN",r[r.ERROR=3]="ERROR",r);let L={0:"debug",3:"error",1:"log",2:"warn"},W=P(()=>{let e=R(3);return{log:R((t,n,r=1)=>{var o;r>=(null!=(o=(typeof globalThis>"u"?window:globalThis).VIRTUOSO_LOG_LEVEL)?o:h(e))&&console[L[r]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,n)}),logLevel:e}},[],{singleton:!0});function A(e,t,n){return D(e,t,n).callbackRef}function D(e,t,n){let r=i.useRef(null),o=i.useMemo(()=>"u">typeof ResizeObserver?new ResizeObserver(t=>{let r=()=>{let n=t[0].target;null!==n.offsetParent&&e(n)};n?r():requestAnimationFrame(r)}):null,[e,n]);return{callbackRef:e=>{e&&t?(null==o||o.observe(e),r.current=e):(r.current&&(null==o||o.unobserve(r.current)),r.current=null)},ref:r}}function V(e,t,n,r,o,l,s,a,u){return D(i.useCallback(n=>{let i,u=function(e,t,n,r){let o=e.length;if(0===o)return null;let i=[];for(let l=0;l<o;l++){let o=e.item(l);if(void 0===o.dataset.index)continue;let s=parseInt(o.dataset.index),a=parseFloat(o.dataset.knownSize),u=t(o,n);if(0===u&&r("Zero-sized element, this should not happen",{child:o},F.ERROR),u===a)continue;let c=i[i.length-1];0===i.length||c.size!==u||c.endIndex!==s-1?i.push({endIndex:s,size:u,startIndex:s}):i[i.length-1].endIndex++}return i}(n.children,t,a?"offsetWidth":"offsetHeight",o),c=n.parentElement;for(;!c.dataset.virtuosoScroller;)c=c.parentElement;let d="window"===c.lastElementChild.dataset.viewportType;d&&(i=c.ownerDocument.defaultView);let f=s?a?s.scrollLeft:s.scrollTop:d?a?i.scrollX||i.document.documentElement.scrollLeft:i.scrollY||i.document.documentElement.scrollTop:a?c.scrollLeft:c.scrollTop;r({scrollHeight:s?a?s.scrollWidth:s.scrollHeight:d?a?i.document.documentElement.scrollWidth:i.document.documentElement.scrollHeight:a?c.scrollWidth:c.scrollHeight,scrollTop:Math.max(f,0),viewportHeight:s?a?s.offsetWidth:s.offsetHeight:d?a?i.innerWidth:i.innerHeight:a?c.offsetWidth:c.offsetHeight}),null==l||l(a?N("column-gap",getComputedStyle(n).columnGap,o):N("row-gap",getComputedStyle(n).rowGap,o)),null!==u&&e(u)},[e,t,o,l,s,r,a]),n,u)}function N(e,t,n){return"normal"===t||null!=t&&t.endsWith("px")||n(`${e} was not resolved to pixel value correctly`,t,F.WARN),"normal"===t?0:parseInt(null!=t?t:"0",10)}function $(e,t,n){let r=i.useRef(null),o=i.useCallback(n=>{let o,i;if(!(null!=n&&n.offsetParent))return;let l=n.getBoundingClientRect(),a=l.width;if(t){let e=t.getBoundingClientRect(),n=l.top-e.top;i=e.height-Math.max(0,n),o=n+t.scrollTop}else{let e=s.current.ownerDocument.defaultView;i=e.innerHeight-Math.max(0,l.top),o=l.top+e.scrollY}r.current={offsetTop:o,visibleHeight:i,visibleWidth:a},e(r.current)},[e,t]),{callbackRef:l,ref:s}=D(o,!0,n),a=i.useCallback(()=>{o(s.current)},[o,s]);return i.useEffect(()=>{var e;if(t){t.addEventListener("scroll",a);let e=new ResizeObserver(()=>{requestAnimationFrame(a)});return e.observe(t),()=>{t.removeEventListener("scroll",a),e.unobserve(t)}}{let t=null==(e=s.current)?void 0:e.ownerDocument.defaultView;return null==t||t.addEventListener("scroll",a),null==t||t.addEventListener("resize",a),()=>{null==t||t.removeEventListener("scroll",a),null==t||t.removeEventListener("resize",a)}}},[a,t,s]),l}let q=P(()=>{let e=M(),t=M(),n=R(0),r=M(),o=R(0),i=M(),l=M(),s=R(0),a=R(0),u=R(0),c=R(0),d=M(),f=M(),p=R(!1),h=R(!1),g=R(!1);return m(C(e,w(({scrollTop:e})=>e)),t),m(C(e,w(({scrollHeight:e})=>e)),l),m(t,o),{deviation:n,fixedFooterHeight:u,fixedHeaderHeight:a,footerHeight:c,headerHeight:s,horizontalDirection:h,scrollBy:f,scrollContainerState:e,scrollHeight:l,scrollingInProgress:p,scrollTo:d,scrollTop:t,skipAnimationFrameInResizeObserver:g,smoothScrollTargetReached:r,statefulScrollTop:o,viewportHeight:i}},[],{singleton:!0}),U={lvl:0};function G(e,t){let n=e.length;if(0===n)return[];let{index:r,value:o}=t(e[0]),i=[];for(let l=1;l<n;l++){let{index:n,value:s}=t(e[l]);i.push({end:n-1,start:r,value:o}),r=n,o=s}return i.push({end:1/0,start:r,value:o}),i}function K(e){return e===U}function Y(e,t){if(!K(e))return t===e.k?e.v:t<e.k?Y(e.l,t):Y(e.r,t)}function Q(e,t,n="k"){if(K(e))return[-1/0,void 0];if(Number(e[n])===t)return[e.k,e.v];if(Number(e[n])<t){let r=Q(e.r,t,n);return r[0]===-1/0?[e.k,e.v]:r}return Q(e.l,t,n)}function Z(e,t,n){return K(e)?er(t,n,1):t===e.k?et(e,{k:t,v:n}):t<e.k?ei(eo(et(e,{l:Z(e.l,t,n)}))):ei(eo(et(e,{r:Z(e.r,t,n)})))}function X(e,t,n){if(K(e))return[];let r=Q(e,t)[0];return G(function e(t,n,r){if(K(t))return[];let{k:o,l:i,r:l,v:s}=t,a=[];return o>n&&(a=a.concat(e(i,n,r))),o>=n&&o<=r&&a.push({k:o,v:s}),o<=r&&(a=a.concat(e(l,n,r))),a}(e,r,n),({k:e,v:t})=>({index:e,value:t}))}function J(e){return K(e)?[]:[...J(e.l),{k:e.k,v:e.v},...J(e.r)]}function ee(e){let{l:t,lvl:n,r:r}=e;if(r.lvl>=n-1&&t.lvl>=n-1)return e;if(n>r.lvl+1){if(en(t))return eo(et(e,{lvl:n-1}));if(!K(t)&&!K(t.r))return et(t.r,{l:et(t,{r:t.r.l}),lvl:n,r:et(e,{l:t.r.r,lvl:n-1})});throw Error("Unexpected empty nodes")}if(en(e))return ei(et(e,{lvl:n-1}));if(K(r)||K(r.l))throw Error("Unexpected empty nodes");{let t=r.l,o=en(t)?r.lvl-1:r.lvl;return et(t,{l:et(e,{lvl:n-1,r:t.l}),lvl:t.lvl+1,r:ei(et(r,{l:t.r,lvl:o}))})}}function et(e,t){return er(void 0!==t.k?t.k:e.k,void 0!==t.v?t.v:e.v,void 0!==t.lvl?t.lvl:e.lvl,void 0!==t.l?t.l:e.l,void 0!==t.r?t.r:e.r)}function en(e){return K(e)||e.lvl>e.r.lvl}function er(e,t,n,r=U,o=U){return{k:e,l:r,lvl:n,r:o,v:t}}function eo(e){let{l:t}=e;return K(t)||t.lvl!==e.lvl?e:et(t,{r:et(e,{l:t.r})})}function ei(e){let{lvl:t,r:n}=e;return K(n)||K(n.r)||n.lvl!==t||n.r.lvl!==t?e:et(n,{l:et(e,{r:n.l}),lvl:t+1})}function el(e,t){return!!(e&&e.startIndex===t.startIndex&&e.endIndex===t.endIndex)}function es(e,t){return!!(e&&e[0]===t[0]&&e[1]===t[1])}let ea=P(()=>({recalcInProgress:R(!1)}),[],{singleton:!0});function eu(e,t,n,r=0){let o=e.length-1;for(;r<=o;){let i=Math.floor((r+o)/2),l=n(e[i],t);if(0===l)return i;if(-1===l){if(o-r<2)return i-1;o=i-1}else{if(o===r)return i;r=i+1}}throw Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function ec(e,t){return Math.round(e.getBoundingClientRect()[t])}function ed(e){return!K(e.groupOffsetTree)}function ef({index:e},t){return t===e?0:t<e?-1:1}function ep({offset:e},t){return t===e?0:t<e?-1:1}function eh(e,t,n){if(0===t.length)return 0;let{index:r,offset:o,size:i}=t[eu(t,e,ef)],l=e-r,s=i*l+(l-1)*n+o;return s>0?s+n:s}function em(e,t){if(!ed(t))return e;let n=0;for(;t.groupIndices[n]<=e+n;)n++;return e+n}function eg(e,t,n){if("u">typeof e.groupIndex)return t.groupIndices[e.groupIndex]+1;{let r=em("LAST"===e.index?n:e.index,t);return Math.max(0,r,Math.min(n,r))}}function ev(e,[t,n,r,o]){t.length>0&&r("received item sizes",t,F.DEBUG);let i=e.sizeTree,l=i,s=0;if(n.length>0&&K(i)&&2===t.length){let e=t[0].size,r=t[1].size;l=n.reduce((t,n)=>Z(Z(t,n,e),n+1,r),l)}else[l,s]=function(e,t){let n=K(e)?0:1/0;for(let r of t){let{endIndex:t,size:o,startIndex:i}=r;if(n=Math.min(n,i),K(e)){e=Z(e,0,o);continue}let l=X(e,i-1,t+1);if(l.some(function(e){let{endIndex:t,size:n,startIndex:r}=e;return e=>e.start===r&&(e.end===t||e.end===1/0)&&e.value===n}(r)))continue;let s=!1,a=!1;for(let{end:n,start:r,value:i}of l)s?(t>=r||o===i)&&(e=function e(t,n){if(K(t))return U;let{k:r,l:o,r:i}=t;if(n!==r)return n<r?ee(et(t,{l:e(o,n)})):ee(et(t,{r:e(i,n)}));if(K(o))return i;if(K(i))return o;{let[e,n]=function e(t){return K(t.r)?[t.k,t.v]:e(t.r)}(o);return ee(et(t,{k:e,l:function e(t){return K(t.r)?t.l:ee(et(t,{r:e(t.r)}))}(o),v:n}))}}(e,r)):(a=i!==o,s=!0),n>t&&t>=r&&i!==o&&(e=Z(e,t+1,i));a&&(e=Z(e,i,o))}return[e,n]}(l,t);if(l===i)return e;let{lastIndex:a,lastOffset:u,lastSize:c,offsetTree:d}=ex(e.offsetTree,s,l,o);return{groupIndices:n,groupOffsetTree:n.reduce((e,t)=>Z(e,t,eh(t,d,o)),U),lastIndex:a,lastOffset:u,lastSize:c,offsetTree:d,sizeTree:l}}function eb(e,t){let n=0,r=0;for(;n<e;)n+=t[r+1]-t[r]-1,r++;return r-(n!==e)}function ex(e,t,n,r){let o=e,i=0,l=0,s=0,a=0;if(0!==t){a=eu(o,t-1,ef),s=o[a].offset;let e=Q(n,t-1);i=e[0],l=e[1],o.length&&o[a].size===Q(n,t)[1]&&(a-=1),o=o.slice(0,a+1)}else o=[];for(let{start:e,value:a}of X(n,t,1/0)){let t=e-i,n=t*l+s+t*r;o.push({index:e,offset:n,size:a}),i=e,s=n,l=a}return{lastIndex:i,lastOffset:s,lastSize:l,offsetTree:o}}function ey(e){return{index:e.index,value:e}}let ew={offsetHeight:"height",offsetWidth:"width"},eT=P(([{log:e},{recalcInProgress:t}])=>{let n=M(),r=M(),o=z(r,0),i=M(),l=M(),s=R(0),a=R([]),u=R(void 0),c=R(void 0),d=R((e,t)=>ec(e,ew[t])),f=R(void 0),p=R(0),g={groupIndices:[],groupOffsetTree:U,lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:U},v=z(C(n,E(a,e,p),I(ev,g),x()),g),b=z(C(a,x(),I((e,t)=>({current:t,prev:e.current}),{current:[],prev:[]}),w(({prev:e})=>e)),[]);m(C(a,y(e=>e.length>0),E(v,p),w(([e,t,n])=>{let r=e.reduce((e,r,o)=>Z(e,r,eh(r,t.offsetTree,n)||o),U);return{...t,groupIndices:e,groupOffsetTree:r}})),v),m(C(r,E(v),y(([e,{lastIndex:t}])=>e<t),w(([e,{lastIndex:t,lastSize:n}])=>[{endIndex:t,size:n,startIndex:e}])),n),m(u,c);let T=z(C(u,w(e=>void 0===e)),!0);m(C(c,y(e=>void 0!==e&&K(h(v).sizeTree)),w(e=>[{endIndex:0,size:e,startIndex:0}])),n);let k=H(C(n,E(v),I(({sizes:e},[t,n])=>({changed:n!==e,sizes:n}),{changed:!1,sizes:g}),w(e=>e.changed)));C(s,I((e,t)=>({diff:e.prev-t,prev:t}),{diff:0,prev:0}),w(e=>e.diff))(1,e=>{let{groupIndices:n}=h(v);if(e>0)t(0,!0),i(0,e+eb(e,n));else if(e<0){let t=h(b);t.length>0&&(e-=eb(-e,t)),l(0,e)}}),C(s,E(e))(1,([e,t])=>{e<0&&t("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:s},F.ERROR)});let S=H(i);m(C(i,E(v),w(([e,t])=>{let n=t.groupIndices.length>0,r=[],o=t.lastSize;if(n){let n=Y(t.sizeTree,0),i=0,l=0;for(;i<e;){let e=t.groupIndices[l],s=t.groupIndices.length===l+1?1/0:t.groupIndices[l+1]-e-1;r.push({endIndex:e,size:n,startIndex:e}),r.push({endIndex:e+1+s-1,size:o,startIndex:e+1}),l++,i+=s+1}let s=J(t.sizeTree);return i!==e&&s.shift(),s.reduce((t,{k:n,v:r})=>{let o=t.ranges;return 0!==t.prevSize&&(o=[...t.ranges,{endIndex:n+e-1,size:t.prevSize,startIndex:t.prevIndex}]),{prevIndex:n+e,prevSize:r,ranges:o}},{prevIndex:e,prevSize:0,ranges:r}).ranges}return J(t.sizeTree).reduce((t,{k:n,v:r})=>({prevIndex:n+e,prevSize:r,ranges:[...t.ranges,{endIndex:n+e-1,size:t.prevSize,startIndex:t.prevIndex}]}),{prevIndex:0,prevSize:o,ranges:[]}).ranges})),n);let P=H(C(l,E(v,p),w(([e,{offsetTree:t},n])=>eh(-e,t,n))));return m(C(l,E(v,p),w(([e,t,n])=>{if(t.groupIndices.length>0){if(K(t.sizeTree))return t;let r=U,o=h(b),i=0,l=0,s=0;for(;i<-e;){s=o[l];let e=o[l+1]-s-1;l++,i+=e+1}return r=J(t.sizeTree).reduce((t,{k:n,v:r})=>Z(t,Math.max(0,n+e),r),r),i!==-e&&(r=Z(r,0,Y(t.sizeTree,s)),r=Z(r,1,Q(t.sizeTree,-e+1)[1])),{...t,sizeTree:r,...ex(t.offsetTree,0,r,n)}}{let r=J(t.sizeTree).reduce((t,{k:n,v:r})=>Z(t,Math.max(0,n+e),r),U);return{...t,sizeTree:r,...ex(t.offsetTree,0,r,n)}}})),v),{beforeUnshiftWith:S,data:f,defaultItemSize:c,firstItemIndex:s,fixedItemSize:u,gap:p,groupIndices:a,itemSize:d,listRefresh:k,shiftWith:l,shiftWithOffset:P,sizeRanges:n,sizes:v,statefulTotalCount:o,totalCount:r,trackItemSizes:T,unshiftWith:i}},f(W,ea),{singleton:!0});function eC(e){return e.reduce((e,t)=>(e.groupIndices.push(e.totalCount),e.totalCount+=t+1,e),{groupIndices:[],totalCount:0})}let eI=P(([{groupIndices:e,sizes:t,totalCount:n},{headerHeight:r,scrollTop:o}])=>{let i=M(),l=M(),s=H(C(i,w(eC)));return m(C(s,w(e=>e.totalCount)),n),m(C(s,w(e=>e.groupIndices)),e),m(C(B(o,t,r),y(([e,t])=>ed(t)),w(([e,t,n])=>Q(t.groupOffsetTree,Math.max(e-n,0),"v")[0]),x(),w(e=>[e])),l),{groupCounts:i,topItemsIndexes:l}},f(eT,q)),ek=P(([{log:e}])=>{let t=R(!1),n=H(C(t,y(e=>e),x()));return t(1,t=>{t&&h(e)("props updated",{},F.DEBUG)}),{didMount:n,propsReady:t}},f(W),{singleton:!0}),eS="u">typeof document&&"scrollBehavior"in document.documentElement.style;function eE(e){let t="number"==typeof e?{index:e}:e;return t.align||(t.align="start"),t.behavior&&eS||(t.behavior="auto"),t.offset||(t.offset=0),t}let eR=P(([{gap:e,listRefresh:t,sizes:n,totalCount:r},{fixedFooterHeight:o,fixedHeaderHeight:i,footerHeight:l,headerHeight:s,scrollingInProgress:a,scrollTo:u,smoothScrollTargetReached:c,viewportHeight:d},{log:f}])=>{let p=M(),h=M(),v=R(0),b=null,x=null,y=null;function T(){b&&(b(),b=null),y&&(y(),y=null),x&&(clearTimeout(x),x=null),a(0,!1)}return m(C(p,E(n,d,r,v,s,l,f),E(e,i,o),w(([[e,n,r,o,i,l,s,u],d,f,m])=>{let v=eE(e),{align:w,behavior:I,offset:k}=v,S=o-1,E=eg(v,n,S),R=eh(E,n.offsetTree,d)+l;"end"===w?(R+=f+Q(n.sizeTree,E)[1]-r+m,E===S&&(R+=s)):"center"===w?R+=(f+Q(n.sizeTree,E)[1]-r+m)/2:R-=i,k&&(R+=k);let z=t=>{T(),t?(u("retrying to scroll to",{location:e},F.DEBUG),p(0,e)):(h(0,!0),u("list did not change, scroll successful",{},F.DEBUG))};if(T(),"smooth"===I){let e=!1;y=t(1,t=>{e=e||t}),b=g(c,()=>{z(e)})}else b=g(C(t,e=>{let t=setTimeout(()=>{e(!1)},150);return n=>{n&&(e(!0),clearTimeout(t))}}),z);return x=setTimeout(()=>{T()},1200),a(0,!0),u("scrolling from index to",{behavior:I,index:E,top:R},F.DEBUG),{behavior:I,top:R}})),u),{scrollTargetReached:h,scrollToIndex:p,topListHeight:v}},f(eT,q,W),{singleton:!0});function ez(e,t){0==e?t():requestAnimationFrame(()=>{ez(e-1,t)})}function eM(e,t){return"number"==typeof e?e:"LAST"===e.index?t-1:e.index}let eH=P(([{defaultItemSize:e,listRefresh:t,sizes:n},{scrollTop:r},{scrollTargetReached:o,scrollToIndex:i},{didMount:l}])=>{let s=R(!0),a=R(0),c=R(!0);return m(C(l,E(a),y(([e,t])=>!!t),T(!1)),s),m(C(l,E(a),y(([e,t])=>!!t),T(!1)),c),C(B(t,l),E(s,n,e,c),y(([[,e],t,{sizeTree:n},r,o])=>e&&(!K(n)||u(r))&&!t&&!o),E(a))(1,([,e])=>{g(o,()=>{c(0,!0)}),ez(4,()=>{g(r,()=>{s(0,!0)}),i(0,e)})}),{initialItemFinalLocationReached:c,initialTopMostItemIndex:a,scrolledToInitialItem:s}},f(eT,q,eR,ek),{singleton:!0});function eP(e,t){return 1.01>Math.abs(e-t)}let ej="down",eB={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},eO=P(([{footerHeight:e,headerHeight:t,scrollBy:n,scrollContainerState:r,scrollTop:o,viewportHeight:i}])=>{let l=R(!1),s=R(!0),a=M(),u=M(),c=R(4),d=R(0),f=z(C(_(C(O(o),k(1),T(!0)),C(O(o),k(1),T(!1),v(100))),x()),!1),p=z(C(_(C(n,T(!0)),C(n,T(!1),v(200))),x()),!1);m(C(B(O(o),O(d)),w(([e,t])=>e<=t),x()),s),m(C(s,S(50)),u);let g=H(C(B(r,O(i),O(t),O(e),O(c)),I((e,[{scrollHeight:t,scrollTop:n},r,o,i,l])=>{let s={scrollHeight:t,scrollTop:n,viewportHeight:r};if(n+r-t>-l){let t,r;return n>e.state.scrollTop?(t="SCROLLED_DOWN",r=e.state.scrollTop-n):(t="SIZE_DECREASED",r=e.state.scrollTop-n||e.scrollTopDelta),{atBottom:!0,atBottomBecause:t,scrollTopDelta:r,state:s}}return{atBottom:!1,notAtBottomBecause:s.scrollHeight>e.state.scrollHeight?"SIZE_INCREASED":r<e.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":n<e.state.scrollTop?"SCROLLING_UPWARDS":"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",state:s}},eB),x((e,t)=>e&&e.atBottom===t.atBottom))),b=z(C(r,I((e,{scrollHeight:t,scrollTop:n,viewportHeight:r})=>{if(eP(e.scrollHeight,t))return{changed:!1,jump:0,scrollHeight:t,scrollTop:n};{let o=t-(n+r)<1;return e.scrollTop!==n&&o?{changed:!0,jump:e.scrollTop-n,scrollHeight:t,scrollTop:n}:{changed:!0,jump:0,scrollHeight:t,scrollTop:n}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),y(e=>e.changed),w(e=>e.jump)),0);m(C(g,w(e=>e.atBottom)),l),m(C(l,S(50)),a);let P=R(ej);m(C(r,w(({scrollTop:e})=>e),x(),I((e,t)=>h(p)?{direction:e.direction,prevScrollTop:t}:{direction:t<e.prevScrollTop?"up":ej,prevScrollTop:t},{direction:ej,prevScrollTop:0}),w(e=>e.direction)),P),m(C(r,S(50),T("none")),P);let j=R(0);return m(C(f,y(e=>!e),T(0)),j),m(C(o,S(100),E(f),y(([e,t])=>!!t),I(([e,t],[n])=>[t,n],[0,0]),w(([e,t])=>t-e)),j),{atBottomState:g,atBottomStateChange:a,atBottomThreshold:c,atTopStateChange:u,atTopThreshold:d,isAtBottom:l,isAtTop:s,isScrolling:f,lastJumpDueToItemResize:b,scrollDirection:P,scrollVelocity:j}},f(q)),e_="bottom",eF="none";function eL(e,t,n){return"number"==typeof e?"up"===n&&"top"===t||n===ej&&t===e_?e:0:"up"===n?"top"===t?e.main:e.reverse:t===e_?e.main:e.reverse}function eW(e,t){var n;return"number"==typeof e?e:null!=(n=e[t])?n:0}let eA=P(([{deviation:e,fixedHeaderHeight:t,headerHeight:n,scrollTop:r,viewportHeight:o}])=>{let i=M(),l=R(0),s=R(0),a=R(0),u=z(C(B(O(r),O(o),O(n),O(i,es),O(a),O(l),O(t),O(e),O(s)),w(([e,t,n,[r,o],i,l,s,a,u])=>{let c=e-a,d=Math.max(n-c,0),f=eF,p=eW(u,"top"),h=eW(u,e_);return r-=a,r+=n+s,o+=n+s,r>e+(l+s)-p&&(f="up"),(o-=a)<e-d+t+h&&(f=ej),f!==eF?[Math.max(c-n-eL(i,"top",f)-p,0),c-d-s+t+eL(i,e_,f)+h]:null}),y(e=>null!=e),x(es)),[0,0]);return{increaseViewportBy:s,listBoundary:i,overscan:a,topListHeight:l,visibleRange:u}},f(q),{singleton:!0}),eD={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function eV(e,t,n,r,o,i){let{lastIndex:l,lastOffset:s,lastSize:a}=o,u=0,c=0;if(e.length>0){u=e[0].offset;let t=e[e.length-1];c=t.offset+t.size}let d=n-l,f=u,p=s+d*a+(d-1)*r-c;return{bottom:c,firstItemIndex:i,items:e$(e,o,i),offsetBottom:p,offsetTop:u,top:f,topItems:e$(t,o,i),topListHeight:t.reduce((e,t)=>t.size+e,0),totalCount:n}}function eN(e,t,n,r,o,i){let l=0;if(n.groupIndices.length>0)for(let t of n.groupIndices){if(t-l>=e)break;l++}let s=e+l,a=eM(t,s);return eV(Array.from({length:s}).map((e,t)=>({data:i[t+a],index:t+a,offset:0,size:0})),[],s,o,n,r)}function e$(e,t,n){if(0===e.length)return[];if(!ed(t))return e.map(e=>({...e,index:e.index+n,originalIndex:e.index}));let r=e[0].index,o=e[e.length-1].index,i=[],l=X(t.groupOffsetTree,r,o),s,a=0;for(let r of e){let e;(!s||s.end<r.index)&&(s=l.shift(),a=t.groupIndices.indexOf(s.start)),e=r.index===s.start?{index:a,type:"group"}:{groupIndex:a,index:r.index-(a+1)+n},i.push({...e,data:r.data,offset:r.offset,originalIndex:r.index,size:r.size})}return i}let eq=P(([{data:e,firstItemIndex:t,gap:n,sizes:r,totalCount:o},i,{listBoundary:l,topListHeight:s,visibleRange:a},{initialTopMostItemIndex:c,scrolledToInitialItem:d},{topListHeight:f},p,{didMount:g},{recalcInProgress:v}])=>{let b=R([]),T=R(0),I=M();m(i.topItemsIndexes,b);let k=z(C(B(g,v,O(a,es),O(o),O(r),O(c),d,O(b),O(t),O(n),e),y(([e,t,,n,,,,,,,r])=>{let o=r&&r.length!==n;return e&&!t&&!o}),w(([,,[e,t],n,r,o,i,l,s,a,u])=>{var c;let{offsetTree:d,sizeTree:f}=r,p=h(T);if(0===n)return{...eD,totalCount:n};if(0===e&&0===t)return 0===p?{...eD,totalCount:n}:eN(p,o,r,s,a,u||[]);if(K(f))return p>0?null:eV(function(e,t,n){if(ed(t)){let r=em(e,t);return[{index:Q(t.groupOffsetTree,r)[0],offset:0,size:0},{data:null==n?void 0:n[0],index:r,offset:0,size:0}]}return[{data:null==n?void 0:n[0],index:e,offset:0,size:0}]}(eM(o,n),r,u),[],n,a,r,s);let m=[];if(l.length>0){let e=l[0],t=l[l.length-1],n=0;for(let r of X(f,e,t)){let o=r.value,i=Math.max(r.start,e),l=Math.min(r.end,t);for(let e=i;e<=l;e++)m.push({data:null==u?void 0:u[e],index:e,offset:n,size:o}),n+=o}}if(!i)return eV([],m,n,a,r,s);let g=l.length>0?l[l.length-1]+1:0,v=function(e,t,n,r=0){return r>0&&(t=Math.max(t,e[eu(e,r,ef)].offset)),G(function(e,t,n,r){let o=eu(e,t,r),i=eu(e,n,r,o);return e.slice(o,i+1)}(e,t,n,ep),ey)}(d,e,t,g);if(0===v.length)return null;let b=n-1;return eV(((n=>{for(let r of v){let o=r.value,i=o.offset,l=r.start,s=o.size;if(o.offset<e){let t=(l+=Math.floor((e-o.offset+a)/(s+a)))-r.start;i+=t*s+t*a}l<g&&(i+=(g-l)*s,l=g);let c=Math.min(r.end,b);for(let e=l;e<=c&&!(i>=t);e++)n.push({data:null==u?void 0:u[e],index:e,offset:i,size:s}),i+=s+a}})(c=[]),c),m,n,a,r,s)}),y(e=>null!==e),x()),eD);m(C(e,y(u),w(e=>null==e?void 0:e.length)),o),m(C(k,w(e=>e.topListHeight)),f),m(f,s),m(C(k,w(e=>[e.top,e.bottom])),l),m(C(k,w(e=>e.items)),I);let P=H(C(k,y(({items:e})=>e.length>0),E(o,e),y(([{items:e},t])=>e[e.length-1].originalIndex===t-1),w(([,e,t])=>[e-1,t]),x(es),w(([e])=>e))),j=H(C(k,S(200),y(({items:e,topItems:t})=>e.length>0&&e[0].originalIndex===t.length),w(({items:e})=>e[0].index),x())),_=H(C(k,y(({items:e})=>e.length>0),w(({items:e})=>{let t=0,n=e.length-1;for(;"group"===e[t].type&&t<n;)t++;for(;"group"===e[n].type&&n>t;)n--;return{endIndex:e[n].index,startIndex:e[t].index}}),x(el)));return{endReached:P,initialItemCount:T,itemsRendered:I,listState:k,rangeChanged:_,startReached:j,topItemsIndexes:b,...p}},f(eT,eI,eA,eH,eR,eO,ek,ea),{singleton:!0}),eU=P(([{fixedFooterHeight:e,fixedHeaderHeight:t,footerHeight:n,headerHeight:r},{listState:o}])=>{let i=M(),l=z(C(B(n,e,r,t,o),w(([e,t,n,r,o])=>e+t+n+r+o.offsetBottom+o.bottom)),0);return m(O(l),i),{totalListHeight:l,totalListHeightChanged:i}},f(q,eq),{singleton:!0}),eG=P(([{viewportHeight:e},{totalListHeight:t}])=>{let n=R(!1),r=z(C(B(n,e,t),y(([e])=>e),w(([,e,t])=>Math.max(0,e-t)),S(0),x()),0);return{alignToBottom:n,paddingTopAddition:r}},f(q,eU),{singleton:!0}),eK=P(()=>({context:R(null)})),eY=({itemBottom:e,itemTop:t,locationParams:{align:n,behavior:r,...o},viewportBottom:i,viewportTop:l})=>t<l?{...o,align:null!=n?n:"start",behavior:r}:e>i?{...o,align:null!=n?n:"end",behavior:r}:null,eQ=P(([{gap:e,sizes:t,totalCount:n},{fixedFooterHeight:r,fixedHeaderHeight:o,headerHeight:i,scrollingInProgress:l,scrollTop:s,viewportHeight:a},{scrollToIndex:u}])=>{let c=M();return m(C(c,E(t,a,n,i,o,r,s),E(e),w(([[e,t,n,r,o,i,s,a],u])=>{let{align:c,behavior:d,calculateViewLocation:f=eY,done:p,...m}=e,v=eg(e,t,r-1),b=eh(v,t.offsetTree,u)+o+i,x=f({itemBottom:b+Q(t.sizeTree,v)[1],itemTop:b,locationParams:{align:c,behavior:d,...m},viewportBottom:a+n-s,viewportTop:a+i});return x?p&&g(C(l,y(e=>!e),k(h(l)?1:2)),p):p&&p(),x}),y(e=>null!==e)),u),{scrollIntoView:c}},f(eT,q,eR,eq,W),{singleton:!0});function eZ(e){return!!e&&("smooth"===e?"smooth":"auto")}let eX=P(([{listRefresh:e,totalCount:t,fixedItemSize:n,data:r},{atBottomState:o,isAtBottom:i},{scrollToIndex:l},{scrolledToInitialItem:s},{didMount:a,propsReady:u},{log:c},{scrollingInProgress:d},{context:f},{scrollIntoView:p}])=>{let v=R(!1),b=M(),x=null;function T(e){l(0,{align:"end",behavior:e,index:"LAST"})}function z(e){setTimeout(g(o,t=>{!e||t.atBottom||"SIZE_INCREASED"!==t.notAtBottomBecause||x||(h(c)("scrolling to bottom due to increased size",{},F.DEBUG),T("auto"))}),100)}C(B(C(O(t),k(1)),a),E(O(v),i,s,d),w(([[e,t],n,r,o,i])=>{let l,s=t&&o,a="auto";return s&&(l=r||i,a="function"==typeof n?eZ(n(l)):l&&eZ(n),s=s&&!!a),{followOutputBehavior:a,shouldFollow:s,totalCount:e}}),y(({shouldFollow:e})=>e))(1,({followOutputBehavior:t,totalCount:r})=>{x&&(x(),x=null),h(n)?requestAnimationFrame(()=>{h(c)("following output to ",{totalCount:r},F.DEBUG),T(t)}):x=g(e,()=>{h(c)("following output to ",{totalCount:r},F.DEBUG),T(t),x=null})}),C(B(O(v),t,u),y(([e,,t])=>e&&t),I(({value:e},[,t])=>({refreshed:e===t,value:t}),{refreshed:!1,value:0}),y(({refreshed:e})=>e),E(v,t))(1,([,e])=>{h(s)&&z(!1!==e)}),b(1,()=>{z(!1!==h(v))}),B(O(v),o)(1,([e,t])=>{e&&!t.atBottom&&"VIEWPORT_HEIGHT_DECREASING"===t.notAtBottomBecause&&T("auto")});let H=R(null),P=M();return m(_(C(O(r),w(e=>{var t;return null!=(t=null==e?void 0:e.length)?t:0})),C(O(t))),P),C(B(C(P,k(1)),a),E(O(H),s,d,f),w(([[e,t],n,r,o,i])=>t&&r&&(null==n?void 0:n({context:i,totalCount:e,scrollingInProgress:o}))),y(e=>!!e),S(0))(1,t=>{x&&(x(),x=null),h(n)?requestAnimationFrame(()=>{h(c)("scrolling into view",{}),p(0,t)}):x=g(e,()=>{h(c)("scrolling into view",{}),p(0,t),x=null})}),{autoscrollToBottom:b,followOutput:v,scrollIntoViewOnChange:H}},f(eT,eO,eR,eH,ek,W,q,eK,eQ)),eJ=P(([{data:e,firstItemIndex:t,gap:n,sizes:r},{initialTopMostItemIndex:o},{initialItemCount:i,listState:l},{didMount:s}])=>(m(C(s,E(i),y(([,e])=>0!==e),E(o,r,t,n,e),w(([[,e],t,n,r,o,i=[]])=>eN(e,t,n,r,o,i))),l),{}),f(eT,eH,eq,ek),{singleton:!0}),e0=P(([{didMount:e},{scrollTo:t},{listState:n}])=>{let r=R(0);return C(e,E(r),y(([,e])=>0!==e),w(([,e])=>({top:e})))(1,e=>{g(C(n,k(1),y(e=>e.items.length>1)),()=>{requestAnimationFrame(()=>{t(0,e)})})}),{initialScrollTop:r}},f(ek,q,eq),{singleton:!0}),e1=P(([{scrollVelocity:e}])=>{let t=R(!1),n=M(),r=R(!1);return m(C(e,E(r,t,n),y(([e,t])=>!!t),w(([e,t,n,r])=>{let{enter:o,exit:i}=t;if(n){if(i(e,r))return!1}else if(o(e,r))return!0;return n}),x()),t),C(B(t,e,n),E(r))(1,([[e,t,n],r])=>{e&&r&&r.change&&r.change(t,n)}),{isSeeking:t,scrollSeekConfiguration:r,scrollSeekRangeChanged:n,scrollVelocity:e}},f(eO),{singleton:!0}),e2=P(([{scrollContainerState:e,scrollTo:t}])=>{let n=M(),r=M(),o=M(),i=R(!1),l=R(void 0);return m(C(B(n,r),w(([{scrollHeight:e,scrollTop:t,viewportHeight:n},{offsetTop:r}])=>({scrollHeight:e,scrollTop:Math.max(0,t-r),viewportHeight:n}))),e),m(C(t,E(r),w(([e,{offsetTop:t}])=>({...e,top:e.top+t}))),o),{customScrollParent:l,useWindowScroll:i,windowScrollContainerState:n,windowScrollTo:o,windowViewportRect:r}},f(q)),e3=P(([{sizeRanges:e,sizes:t},{headerHeight:n,scrollTop:r},{initialTopMostItemIndex:o},{didMount:i},{useWindowScroll:l,windowScrollContainerState:s,windowViewportRect:a}])=>{let c=M(),d=R(void 0),f=R(null),p=R(null);return m(s,f),m(a,p),C(c,E(t,r,l,f,p,n))(1,([e,t,n,r,o,i,l])=>{let s=J(t.sizeTree).map(({k:e,v:t},n,r)=>{let o=r[n+1];return{endIndex:o?o.k-1:1/0,size:t,startIndex:e}});r&&null!==o&&null!==i&&(n=o.scrollTop-i.offsetTop),e({ranges:s,scrollTop:n-=l})}),m(C(d,y(u),w(e6)),o),m(C(i,E(d),y(([,e])=>void 0!==e),x(),w(([,e])=>e.ranges)),e),{getState:c,restoreStateFrom:d}},f(eT,q,eH,ek,e2));function e6(e){return{align:"start",index:0,offset:e.scrollTop}}let e5=P(([{topItemsIndexes:e}])=>{let t=R(0);return m(C(t,y(e=>e>=0),w(e=>Array.from({length:e}).map((e,t)=>t))),e),{topItemCount:t}},f(eq));function e9(e){let t=!1,n;return()=>(t||(t=!0,n=e()),n)}let e4=e9(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),e8=P(([{deviation:e,scrollBy:t,scrollingInProgress:n,scrollTop:r},{isAtBottom:o,isScrolling:i,lastJumpDueToItemResize:l,scrollDirection:s},{listState:a},{beforeUnshiftWith:u,gap:c,shiftWithOffset:d,sizes:f},{log:p},{recalcInProgress:h}])=>{let g=H(C(a,E(l),I(([,e,t,n],[{bottom:r,items:o,offsetBottom:i,totalCount:l},s])=>{let a=r+i,u=0;return t===l&&e.length>0&&o.length>0&&(0===o[0].originalIndex&&0===e[0].originalIndex||0!=(u=a-n)&&(u+=s)),[u,o,l,a]},[0,[],0,0]),y(([e])=>0!==e),E(r,s,n,o,p,h),y(([,e,t,n,,,r])=>!r&&!n&&0!==e&&"up"===t),w(([[e],,,,,t])=>(t("Upward scrolling compensation",{amount:e},F.DEBUG),e))));function v(n){n>0?(t(0,{behavior:"auto",top:-n}),e(0,0)):(e(0,0),t(0,{behavior:"auto",top:-n}))}return C(g,E(e,i))(1,([t,n,r])=>{r&&e4()?e(0,n-t):v(-t)}),C(B(z(i,!1),e,h),y(([e,t,n])=>!e&&!n&&0!==t),w(([e,t])=>t),S(1))(1,v),m(C(d,w(e=>({top:-e}))),t),C(u,E(f,c),w(([e,{groupIndices:t,lastSize:n,sizeTree:r},o])=>{if(0===t.length)return e*(n+o);{let i=0,l=Y(r,0),s=0,a=0;for(;s<e;){s++,i+=l;let r=t.length===a+1?1/0:t[a+1]-t[a]-1;s+r>e&&(i-=l,r=e-s+1),s+=r,i+=r*(n+o),a++}return i}}))(1,n=>{e(0,n),requestAnimationFrame(()=>{t(0,{top:n}),requestAnimationFrame(()=>{e(0,0),h(0,!1)})})}),{deviation:e}},f(q,eO,eq,eT,W,ea)),e7=P(([e,t,n,r,o,i,l,s,a,u,c])=>({...e,...t,...n,...r,...o,...i,...l,...s,...a,...u,...c}),f(eA,eJ,ek,e1,eU,e0,eG,e2,eQ,W,eK)),te=P(([{data:e,defaultItemSize:t,firstItemIndex:n,fixedItemSize:r,gap:o,groupIndices:i,itemSize:l,sizeRanges:s,sizes:a,statefulTotalCount:u,totalCount:c,trackItemSizes:d},{initialItemFinalLocationReached:f,initialTopMostItemIndex:p,scrolledToInitialItem:h},g,v,b,{listState:x,topItemsIndexes:y,...T},{scrollToIndex:I},k,{topItemCount:S},{groupCounts:E},R])=>(m(T.rangeChanged,R.scrollSeekRangeChanged),m(C(R.windowViewportRect,w(e=>e.visibleHeight)),g.viewportHeight),{data:e,defaultItemHeight:t,firstItemIndex:n,fixedItemHeight:r,gap:o,groupCounts:E,initialItemFinalLocationReached:f,initialTopMostItemIndex:p,scrolledToInitialItem:h,sizeRanges:s,topItemCount:S,topItemsIndexes:y,totalCount:c,...b,groupIndices:i,itemSize:l,listState:x,scrollToIndex:I,statefulTotalCount:u,trackItemSizes:d,...T,...R,...g,sizes:a,...v}),f(eT,eH,q,e3,eX,eq,eR,e8,e5,eI,e7)),tt="u">typeof document?i.useLayoutEffect:i.useEffect;function tn(e,t,n){let r=Object.keys(t.required||{}),l=Object.keys(t.optional||{}),s=Object.keys(t.methods||{}),a=Object.keys(t.events||{}),u=i.createContext({});function d(e,n){for(let o of(e.propsReady&&(0,e.propsReady)(0,!1),r))(0,e[t.required[o]])(0,n[o]);for(let r of l)r in n&&(0,e[t.optional[r]])(0,n[r]);e.propsReady&&(0,e.propsReady)(0,!0)}function f(e){return a.reduce((n,r)=>(n[r]=function(e){let t,n,r=()=>null==t?void 0:t();return function(o,i){switch(o){case 1:return i?n===i?void 0:(r(),n=i,t=e(1,i)):(r(),c);case 2:r(),n=null;return}}}(e[t.events[r]]),n),{})}return{Component:i.forwardRef((c,h)=>{var m;let{children:g,...v}=c,[b]=i.useState(()=>{var t;return d(t=function(e){let t=new Map,n=({constructor:e,dependencies:r,id:o,singleton:i})=>{if(i&&t.has(o))return t.get(o);let l=e(r.map(e=>n(e)));return i&&t.set(o,l),l};return n(e)}(e),v),t}),[x]=i.useState(()=>f(b));return tt(()=>{for(let e of a)e in v&&(0,x[e])(1,v[e]);return()=>{Object.values(x).map(p)}},[v,x,b]),tt(()=>{d(b,v)}),i.useImperativeHandle(h,(m=s.reduce((e,n)=>(e[n]=e=>{(0,b[t.methods[n]])(0,e)},e),{}),()=>m)),(0,o.jsx)(u.Provider,{value:b,children:n?(0,o.jsx)(n,{...function(e,t){let n={},r={},o=0,i=e.length;for(;o<i;)r[e[o]]=1,o+=1;for(let e in t)Object.hasOwn(r,e)||(n[e]=t[e]);return n}([...r,...l,...a],v),children:g}):g})}),useEmitter:(e,t)=>{let n=i.useContext(u)[e];tt(()=>n(1,t),[t,n])},useEmitterValue:i.version.startsWith("18")?e=>{let t=i.useContext(u)[e],n=i.useCallback(e=>t(1,e),[t]);return i.useSyncExternalStore(n,()=>h(t),()=>h(t))}:e=>{let t=i.useContext(u)[e],[n,r]=i.useState(()=>h(t));return tt(()=>t(1,e=>{e!==n&&r(()=>e)}),[t,n]),n},usePublisher:e=>{let t=i.useContext(u);return i.useCallback(n=>{(0,t[e])(0,n)},[t,e])}}}let tr=i.createContext(void 0),to=i.createContext(void 0),ti="u">typeof document?i.useLayoutEffect:i.useEffect;function tl(e){return"self"in e}function ts(e,t,n,r=c,o,s){let a=i.useRef(null),u=i.useRef(null),d=i.useRef(null),f=i.useCallback(n=>{let r,o,i,a=n.target;if("body"in a||tl(a)){let e=tl(a)?a:a.defaultView;i=s?e.scrollX:e.scrollY,r=s?e.document.documentElement.scrollWidth:e.document.documentElement.scrollHeight,o=s?e.innerWidth:e.innerHeight}else i=s?a.scrollLeft:a.scrollTop,r=s?a.scrollWidth:a.scrollHeight,o=s?a.offsetWidth:a.offsetHeight;let c=()=>{e({scrollHeight:r,scrollTop:Math.max(i,0),viewportHeight:o})};n.suppressFlushSync?c():l.flushSync(c),null!==u.current&&(i===u.current||i<=0||i===r-o)&&(u.current=null,t(!0),d.current&&(clearTimeout(d.current),d.current=null))},[e,t,s]);return i.useEffect(()=>{let e=o||a.current;return r(o||a.current),f({suppressFlushSync:!0,target:e}),e.addEventListener("scroll",f,{passive:!0}),()=>{r(null),e.removeEventListener("scroll",f)}},[a,f,n,r,o]),{scrollByCallback:function(e){s&&(e={behavior:e.behavior,left:e.top}),a.current.scrollBy(e)},scrollerRef:a,scrollToCallback:function(n){let r,o,i,l=a.current;if(!l||(s?"offsetWidth"in l&&0===l.offsetWidth:"offsetHeight"in l&&0===l.offsetHeight))return;let c="smooth"===n.behavior;tl(l)?(o=Math.max(ec(l.document.documentElement,s?"width":"height"),s?l.document.documentElement.scrollWidth:l.document.documentElement.scrollHeight),r=s?l.innerWidth:l.innerHeight,i=s?window.scrollX:window.scrollY):(o=l[s?"scrollWidth":"scrollHeight"],r=ec(l,s?"width":"height"),i=l[s?"scrollLeft":"scrollTop"]);let f=o-r;if(n.top=Math.ceil(Math.max(Math.min(f,n.top),0)),eP(r,o)||n.top===i){e({scrollHeight:o,scrollTop:i,viewportHeight:r}),c&&t(!0);return}c?(u.current=n.top,d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{d.current=null,u.current=null,t(!0)},1e3)):u.current=null,s&&(n={behavior:n.behavior,left:n.top}),l.scrollTo(n)}}}let ta="-webkit-sticky",tu="sticky",tc=e9(()=>{if(typeof document>"u")return tu;let e=document.createElement("div");return e.style.position=ta,e.style.position===ta?ta:tu});function td(e){return e}let tf=P(()=>{let e=R(e=>`Item ${e}`),t=R(e=>`Group ${e}`),n=R({}),r=R(td),o=R("div"),i=R(c),l=(e,t=null)=>z(C(n,w(t=>t[e]),x()),t);return{components:n,computeItemKey:r,EmptyPlaceholder:l("EmptyPlaceholder"),FooterComponent:l("Footer"),GroupComponent:l("Group","div"),groupContent:t,HeaderComponent:l("Header"),HeaderFooterTag:o,ItemComponent:l("Item","div"),itemContent:e,ListComponent:l("List","div"),ScrollerComponent:l("Scroller","div"),scrollerRef:i,ScrollSeekPlaceholder:l("ScrollSeekPlaceholder"),TopItemListComponent:l("TopItemList")}}),tp=P(([e,t])=>({...e,...t}),f(te,tf)),th=({height:e})=>(0,o.jsx)("div",{style:{height:e}}),tm={overflowAnchor:"none",position:tc(),zIndex:1},tg={overflowAnchor:"none"},tv={...tg,display:"inline-block",height:"100%"},tb=i.memo(function({showTopList:e=!1}){let t=tB("listState"),n=tO("sizeRanges"),r=tB("useWindowScroll"),l=tB("customScrollParent"),s=tO("windowScrollContainerState"),a=tO("scrollContainerState"),u=tB("itemContent"),d=tB("context"),f=tB("groupContent"),p=tB("trackItemSizes"),h=tB("itemSize"),m=tB("log"),g=tO("gap"),v=tB("horizontalDirection"),{callbackRef:b}=V(n,h,p,e?c:l||r?s:a,m,g,l,v,tB("skipAnimationFrameInResizeObserver")),[x,y]=i.useState(0);tj("deviation",e=>{x!==e&&y(e)});let w=tB("EmptyPlaceholder"),T=tB("ScrollSeekPlaceholder")||th,C=tB("ListComponent"),I=tB("ItemComponent"),k=tB("GroupComponent"),S=tB("computeItemKey"),E=tB("isSeeking"),R=tB("groupIndices").length>0,z=tB("alignToBottom"),M=tB("initialItemFinalLocationReached"),H=e?{}:{boxSizing:"border-box",...v?{display:"inline-block",height:"100%",marginLeft:0!==x?x:z?"auto":0,paddingLeft:t.offsetTop,paddingRight:t.offsetBottom,whiteSpace:"nowrap"}:{marginTop:0!==x?x:z?"auto":0,paddingBottom:t.offsetBottom,paddingTop:t.offsetTop},...M?{}:{visibility:"hidden"}};return!e&&0===t.totalCount&&w?(0,o.jsx)(w,{...tC(w,d)}):(0,o.jsx)(C,{...tC(C,d),"data-testid":e?"virtuoso-top-item-list":"virtuoso-item-list",ref:b,style:H,children:(e?t.topItems:t.items).map(e=>{let n=e.originalIndex,r=S(n+t.firstItemIndex,e.data,d);return E?(0,i.createElement)(T,{...tC(T,d),height:e.size,index:e.index,key:r,type:e.type||"item",..."group"===e.type?{}:{groupIndex:e.groupIndex}}):"group"===e.type?(0,i.createElement)(k,{...tC(k,d),"data-index":n,"data-item-index":e.index,"data-known-size":e.size,key:r,style:tm},f(e.index,d)):(0,i.createElement)(I,{...tC(I,d),...tI(I,e.data),"data-index":n,"data-item-group-index":e.groupIndex,"data-item-index":e.index,"data-known-size":e.size,key:r,style:v?tv:tg},R?u(e.index,e.groupIndex,e.data,d):u(e.index,e.data,d))})})}),tx={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},ty={outline:"none",overflowX:"auto",position:"relative"},tw=e=>({height:"100%",position:"absolute",top:0,width:"100%",...e?{display:"flex",flexDirection:"column"}:{}}),tT={position:tc(),top:0,width:"100%",zIndex:1};function tC(e,t){if("string"!=typeof e)return{context:t}}function tI(e,t){return{item:"string"==typeof e?void 0:t}}let tk=i.memo(function(){let e=tB("HeaderComponent"),t=tO("headerHeight"),n=tB("HeaderFooterTag"),r=A(i.useMemo(()=>e=>{t(ec(e,"height"))},[t]),!0,tB("skipAnimationFrameInResizeObserver")),l=tB("context");return e?(0,o.jsx)(n,{ref:r,children:(0,o.jsx)(e,{...tC(e,l)})}):null}),tS=i.memo(function(){let e=tB("FooterComponent"),t=tO("footerHeight"),n=tB("HeaderFooterTag"),r=A(i.useMemo(()=>e=>{t(ec(e,"height"))},[t]),!0,tB("skipAnimationFrameInResizeObserver")),l=tB("context");return e?(0,o.jsx)(n,{ref:r,children:(0,o.jsx)(e,{...tC(e,l)})}):null});function tE({useEmitter:e,useEmitterValue:t,usePublisher:n}){return i.memo(function({children:r,style:i,...l}){let s=n("scrollContainerState"),a=t("ScrollerComponent"),u=n("smoothScrollTargetReached"),c=t("scrollerRef"),d=t("context"),f=t("horizontalDirection")||!1,{scrollByCallback:p,scrollerRef:h,scrollToCallback:m}=ts(s,u,a,c,void 0,f);return e("scrollTo",m),e("scrollBy",p),(0,o.jsx)(a,{"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,ref:h,style:{...f?ty:tx,...i},tabIndex:0,...l,...tC(a,d),children:r})})}function tR({useEmitter:e,useEmitterValue:t,usePublisher:n}){return i.memo(function({children:r,style:l,...s}){let a=n("windowScrollContainerState"),u=t("ScrollerComponent"),c=n("smoothScrollTargetReached"),d=t("totalListHeight"),f=t("deviation"),p=t("customScrollParent"),h=t("context"),m=i.useRef(null),{scrollByCallback:g,scrollerRef:v,scrollToCallback:b}=ts(a,c,u,t("scrollerRef"),p);return ti(()=>{var e;return v.current=p||(null==(e=m.current)?void 0:e.ownerDocument.defaultView),()=>{v.current=null}},[v,p]),e("windowScrollTo",b),e("scrollBy",g),(0,o.jsx)(u,{ref:m,"data-virtuoso-scroller":!0,style:{position:"relative",...l,...0!==d?{height:d+f}:{}},...s,...tC(u,h),children:r})})}let tz=({children:e})=>{let t=i.useContext(tr),n=tO("viewportHeight"),r=tO("fixedItemHeight"),l=tB("alignToBottom"),s=tB("horizontalDirection"),u=A(i.useMemo(()=>a(n,e=>ec(e,s?"width":"height")),[n,s]),!0,tB("skipAnimationFrameInResizeObserver"));return i.useEffect(()=>{t&&(n(t.viewportHeight),r(t.itemHeight))},[t,n,r]),(0,o.jsx)("div",{"data-viewport-type":"element",ref:u,style:tw(l),children:e})},tM=({children:e})=>{let t=i.useContext(tr),n=tO("windowViewportRect"),r=tO("fixedItemHeight"),l=$(n,tB("customScrollParent"),tB("skipAnimationFrameInResizeObserver")),s=tB("alignToBottom");return i.useEffect(()=>{t&&(r(t.itemHeight),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,n,r]),(0,o.jsx)("div",{"data-viewport-type":"window",ref:l,style:tw(s),children:e})},tH=({children:e})=>{let t=tB("TopItemListComponent")||"div",n=tB("headerHeight"),r={...tT,marginTop:`${n}px`},i=tB("context");return(0,o.jsx)(t,{style:r,...tC(t,i),children:e})},{Component:tP,useEmitter:tj,useEmitterValue:tB,usePublisher:tO}=tn(tp,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",scrollIntoViewOnChange:"scrollIntoViewOnChange",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},i.memo(function(e){let t=tB("useWindowScroll"),n=tB("topItemsIndexes").length>0,r=tB("customScrollParent"),i=tB("context"),l=r||t?tF:t_,s=r||t?tM:tz;return(0,o.jsxs)(l,{...e,...tC(l,i),children:[n&&(0,o.jsx)(tH,{children:(0,o.jsx)(tb,{showTopList:!0})}),(0,o.jsxs)(s,{children:[(0,o.jsx)(tk,{}),(0,o.jsx)(tb,{}),(0,o.jsx)(tS,{})]})]})})),t_=tE({useEmitter:tj,useEmitterValue:tB,usePublisher:tO}),tF=tR({useEmitter:tj,useEmitterValue:tB,usePublisher:tO}),tL=tP,tW=P(()=>{let e=R(e=>(0,o.jsxs)("td",{children:["Item $",e]})),t=R(null),n=R(e=>(0,o.jsxs)("td",{colSpan:1e3,children:["Group ",e]})),r=R(null),i=R(null),l=R({}),s=R(td),a=R(c),u=(e,t=null)=>z(C(l,w(t=>t[e]),x()),t);return{components:l,computeItemKey:s,context:t,EmptyPlaceholder:u("EmptyPlaceholder"),FillerRow:u("FillerRow"),fixedFooterContent:i,fixedHeaderContent:r,itemContent:e,groupContent:n,ScrollerComponent:u("Scroller","div"),scrollerRef:a,ScrollSeekPlaceholder:u("ScrollSeekPlaceholder"),TableBodyComponent:u("TableBody","tbody"),TableComponent:u("Table","table"),TableFooterComponent:u("TableFoot","tfoot"),TableHeadComponent:u("TableHead","thead"),TableRowComponent:u("TableRow","tr"),GroupComponent:u("Group","tr")}}),tA=P(([e,t])=>({...e,...t}),f(te,tW)),tD=({height:e})=>(0,o.jsx)("tr",{children:(0,o.jsx)("td",{style:{height:e}})}),tV=({height:e})=>(0,o.jsx)("tr",{children:(0,o.jsx)("td",{style:{border:0,height:e,padding:0}})}),tN={overflowAnchor:"none"},t$={position:tc(),zIndex:2,overflowAnchor:"none"},tq=i.memo(function({showTopList:e=!1}){let t=tQ("listState"),n=tQ("computeItemKey"),r=tQ("firstItemIndex"),l=tQ("context"),s=tQ("isSeeking"),a=tQ("fixedHeaderHeight"),u=tQ("groupIndices").length>0,c=tQ("itemContent"),d=tQ("groupContent"),f=tQ("ScrollSeekPlaceholder")||tD,p=tQ("GroupComponent"),h=tQ("TableRowComponent"),m=(e?t.topItems:[]).reduce((e,t,n)=>(0===n?e.push(t.size):e.push(e[n-1]+t.size),e),[]),g=(e?t.topItems:t.items).map(t=>{let o=t.originalIndex,g=n(o+r,t.data,l),v=e?0===o?0:m[o-1]:0;return s?(0,i.createElement)(f,{...tC(f,l),height:t.size,index:t.index,key:g,type:t.type||"item"}):"group"===t.type?(0,i.createElement)(p,{...tC(p,l),"data-index":o,"data-item-index":t.index,"data-known-size":t.size,key:g,style:{...t$,top:a}},d(t.index,l)):(0,i.createElement)(h,{...tC(h,l),...tI(h,t.data),"data-index":o,"data-item-index":t.index,"data-known-size":t.size,"data-item-group-index":t.groupIndex,key:g,style:e?{...t$,top:a+v}:tN},u?c(t.index,t.groupIndex,t.data,l):c(t.index,t.data,l))});return(0,o.jsx)(o.Fragment,{children:g})}),tU=i.memo(function(){let e=tQ("listState"),t=tQ("topItemsIndexes").length>0,n=tZ("sizeRanges"),r=tQ("useWindowScroll"),l=tQ("customScrollParent"),s=tZ("windowScrollContainerState"),a=tZ("scrollContainerState"),u=tQ("trackItemSizes"),{callbackRef:c,ref:d}=V(n,tQ("itemSize"),u,l||r?s:a,tQ("log"),void 0,l,!1,tQ("skipAnimationFrameInResizeObserver")),[f,p]=i.useState(0);tY("deviation",e=>{f!==e&&(d.current.style.marginTop=`${e}px`,p(e))});let h=tQ("EmptyPlaceholder"),m=tQ("FillerRow")||tV,g=tQ("TableBodyComponent"),v=tQ("paddingTopAddition"),b=tQ("statefulTotalCount"),x=tQ("context");if(0===b&&h)return(0,o.jsx)(h,{...tC(h,x)});let y=(t?e.topItems:[]).reduce((e,t)=>e+t.size,0),w=e.offsetTop+v+f-y,T=e.offsetBottom,C=w>0?(0,o.jsx)(m,{context:x,height:w},"padding-top"):null,I=T>0?(0,o.jsx)(m,{context:x,height:T},"padding-bottom"):null;return(0,o.jsxs)(g,{"data-testid":"virtuoso-item-list",ref:c,...tC(g,x),children:[C,t&&(0,o.jsx)(tq,{showTopList:!0}),(0,o.jsx)(tq,{}),I]})}),tG=({children:e})=>{let t=i.useContext(tr),n=tZ("viewportHeight"),r=tZ("fixedItemHeight"),l=A(i.useMemo(()=>a(n,e=>ec(e,"height")),[n]),!0,tQ("skipAnimationFrameInResizeObserver"));return i.useEffect(()=>{t&&(n(t.viewportHeight),r(t.itemHeight))},[t,n,r]),(0,o.jsx)("div",{"data-viewport-type":"element",ref:l,style:tw(!1),children:e})},tK=({children:e})=>{let t=i.useContext(tr),n=tZ("windowViewportRect"),r=tZ("fixedItemHeight"),l=$(n,tQ("customScrollParent"),tQ("skipAnimationFrameInResizeObserver"));return i.useEffect(()=>{t&&(r(t.itemHeight),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,n,r]),(0,o.jsx)("div",{"data-viewport-type":"window",ref:l,style:tw(!1),children:e})},{useEmitter:tY,useEmitterValue:tQ,usePublisher:tZ}=tn(tA,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",groupContent:"groupContent",fixedHeaderContent:"fixedHeaderContent",fixedFooterContent:"fixedFooterContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},i.memo(function(e){let t=tQ("useWindowScroll"),n=tQ("customScrollParent"),r=tZ("fixedHeaderHeight"),l=tZ("fixedFooterHeight"),s=tQ("fixedHeaderContent"),u=tQ("fixedFooterContent"),c=tQ("context"),d=A(i.useMemo(()=>a(r,e=>ec(e,"height")),[r]),!0,tQ("skipAnimationFrameInResizeObserver")),f=A(i.useMemo(()=>a(l,e=>ec(e,"height")),[l]),!0,tQ("skipAnimationFrameInResizeObserver")),p=n||t?tJ:tX,h=n||t?tK:tG,m=tQ("TableComponent"),g=tQ("TableHeadComponent"),v=tQ("TableFooterComponent"),b=s?(0,o.jsx)(g,{ref:d,style:{position:"sticky",top:0,zIndex:2},...tC(g,c),children:s()},"TableHead"):null,x=u?(0,o.jsx)(v,{ref:f,style:{bottom:0,position:"sticky",zIndex:1},...tC(v,c),children:u()},"TableFoot"):null;return(0,o.jsx)(p,{...e,...tC(p,c),children:(0,o.jsx)(h,{children:(0,o.jsxs)(m,{style:{borderSpacing:0,overflowAnchor:"none"},...tC(m,c),children:[b,(0,o.jsx)(tU,{},"TableBody"),x]})})})})),tX=tE({useEmitter:tY,useEmitterValue:tQ,usePublisher:tZ}),tJ=tR({useEmitter:tY,useEmitterValue:tQ,usePublisher:tZ}),t0={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},t1={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:t2,floor:t3,max:t6,min:t5,round:t9}=Math;function t4(e,t,n){return Array.from({length:t-e+1}).map((t,r)=>({data:null===n?null:n[r+e],index:r+e}))}function t8(e,t){return e&&e.width===t.width&&e.height===t.height}function t7(e,t){return e&&e.column===t.column&&e.row===t.row}let ne=P(([{increaseViewportBy:e,listBoundary:t,overscan:n,visibleRange:r},{footerHeight:o,headerHeight:i,scrollBy:l,scrollContainerState:s,scrollTo:a,scrollTop:u,smoothScrollTargetReached:c,viewportHeight:d},f,p,{didMount:h,propsReady:v},{customScrollParent:b,useWindowScroll:I,windowScrollContainerState:P,windowScrollTo:j,windowViewportRect:_},F])=>{let L=R(0),W=R(0),A=R(t0),D=R({height:0,width:0}),V=R({height:0,width:0}),N=M(),$=M(),q=R(0),U=R(null),G=R({column:0,row:0}),K=M(),Y=M(),Q=R(!1),Z=R(0),X=R(!0),J=R(!1),ee=R(!1);C(h,E(Z),y(([e,t])=>!!t))(1,()=>{X(0,!1)}),C(B(h,X,V,D,Z,J),y(([e,t,n,r,,o])=>e&&!t&&0!==n.height&&0!==r.height&&!o))(1,([,,,,e])=>{J(0,!0),ez(1,()=>{N(0,e)}),g(C(u),()=>{t(0,[0,0]),X(0,!0)})}),m(C(Y,y(e=>null!=e&&e.scrollTop>0),T(0)),W),C(h,E(Y),y(([,e])=>null!=e))(1,([,e])=>{e&&(D(0,e.viewport),V(0,e.item),G(0,e.gap),e.scrollTop>0&&(Q(0,!0),g(C(u,k(1)),e=>{Q(0,!1)}),a(0,{top:e.scrollTop})))}),m(C(D,w(({height:e})=>e)),d),m(C(B(O(D,t8),O(V,t8),O(G,(e,t)=>e&&e.column===t.column&&e.row===t.row),O(u)),w(([e,t,n,r])=>({gap:n,item:t,scrollTop:r,viewport:e}))),K),m(C(B(O(L),r,O(G,t7),O(V,t8),O(D,t8),O(U),O(W),O(Q),O(X),O(Z)),y(([,,,,,,,e])=>!e),w(([e,[t,n],r,o,i,l,s,,a,u])=>{let c,d,{column:f,row:p}=r,{height:h,width:m}=o,{width:g}=i;if(0===s&&(0===e||0===g))return t0;if(0===m){var v;let t=eM(u,e),n=t+Math.max(s-1,0);return v=t4(t,n,l),{...t1,items:v}}let b=nt(g,m,f);a?0===t&&0===n&&s>0?(c=0,d=s-1):(c=b*t3((t+p)/(h+p)),d=t5(e-1,t6(d=b*t2((n+p)/(h+p))-1,b-1)),c=t5(d,t6(0,c))):(c=0,d=-1);let x=t4(c,d,l),{bottom:y,top:w}=nn(i,r,o,x),T=t2(e/b);return{bottom:y,itemHeight:h,items:x,itemWidth:m,offsetBottom:T*h+(T-1)*p-y,offsetTop:w,top:w}})),A),m(C(U,y(e=>null!==e),w(e=>e.length)),L),m(C(B(D,V,A,G),y(([e,t,{items:n}])=>n.length>0&&0!==t.height&&0!==e.height),w(([e,t,{items:n},r])=>{let{bottom:o,top:i}=nn(e,r,t,n);return[i,o]}),x(es)),t);let et=R(!1);m(C(u,E(et),w(([e,t])=>t||0!==e)),et);let en=H(C(B(A,L),y(([{items:e}])=>e.length>0),E(et),y(([[e,t],n])=>{let r=e.items[e.items.length-1].index===t-1;return(n||e.bottom>0&&e.itemHeight>0&&0===e.offsetBottom&&e.items.length===t)&&r}),w(([[,e]])=>e-1),x())),er=H(C(O(A),y(({items:e})=>e.length>0&&0===e[0].index),T(0),x())),eo=H(C(O(A),E(Q),y(([{items:e},t])=>e.length>0&&!t),w(([{items:e}])=>({endIndex:e[e.length-1].index,startIndex:e[0].index})),x(el),S(0)));m(eo,p.scrollSeekRangeChanged),m(C(N,E(D,V,L,G),w(([e,t,n,r,o])=>{let i=eE(e),{align:l,behavior:s,offset:a}=i,u=i.index;"LAST"===u&&(u=r-1);let c=nr(t,o,n,u=t6(0,u,t5(r-1,u)));return"end"===l?c=t9(c-t.height+n.height):"center"===l&&(c=t9(c-t.height/2+n.height/2)),a&&(c+=a),{behavior:s,top:c}})),a);let ei=z(C(A,w(e=>e.offsetBottom+e.bottom)),0);return m(C(_,w(e=>({height:e.visibleHeight,width:e.visibleWidth}))),D),{customScrollParent:b,data:U,deviation:q,footerHeight:o,gap:G,headerHeight:i,increaseViewportBy:e,initialItemCount:W,itemDimensions:V,overscan:n,restoreStateFrom:Y,scrollBy:l,scrollContainerState:s,scrollHeight:$,scrollTo:a,scrollToIndex:N,scrollTop:u,smoothScrollTargetReached:c,totalCount:L,useWindowScroll:I,viewportDimensions:D,windowScrollContainerState:P,windowScrollTo:j,windowViewportRect:_,...p,gridState:A,horizontalDirection:ee,initialTopMostItemIndex:Z,totalListHeight:ei,...f,endReached:en,propsReady:v,rangeChanged:eo,startReached:er,stateChanged:K,stateRestoreInProgress:Q,...F}},f(eA,q,eO,e1,ek,e2,W));function nt(e,t,n){return t6(1,t3((e+n)/(t3(t)+n)))}function nn(e,t,n,r){let{height:o}=n;if(void 0===o||0===r.length)return{bottom:0,top:0};let i=nr(e,t,n,r[0].index);return{bottom:nr(e,t,n,r[r.length-1].index)+o,top:i}}function nr(e,t,n,r){let o=t3(r/nt(e.width,n.width,t.column)),i=o*n.height+t6(0,o-1)*t.row;return i>0?i+t.row:i}let no=P(()=>{let e=R(e=>`Item ${e}`),t=R({}),n=R(null),r=R("virtuoso-grid-item"),o=R("virtuoso-grid-list"),i=R(td),l=R("div"),s=R(c),a=(e,n=null)=>z(C(t,w(t=>t[e]),x()),n),u=R(!1),d=R(!1);return m(O(d),u),{components:t,computeItemKey:i,context:n,FooterComponent:a("Footer"),HeaderComponent:a("Header"),headerFooterTag:l,itemClassName:r,ItemComponent:a("Item","div"),itemContent:e,listClassName:o,ListComponent:a("List","div"),readyStateChanged:u,reportReadyState:d,ScrollerComponent:a("Scroller","div"),scrollerRef:s,ScrollSeekPlaceholder:a("ScrollSeekPlaceholder","div")}}),ni=P(([e,t])=>({...e,...t}),f(ne,no)),nl=i.memo(function(){let e=nf("gridState"),t=nf("listClassName"),n=nf("itemClassName"),r=nf("itemContent"),l=nf("computeItemKey"),s=nf("isSeeking"),a=np("scrollHeight"),u=nf("ItemComponent"),c=nf("ListComponent"),d=nf("ScrollSeekPlaceholder"),f=nf("context"),p=np("itemDimensions"),h=np("gap"),m=nf("log"),g=nf("stateRestoreInProgress"),v=np("reportReadyState"),b=A(i.useMemo(()=>e=>{a(e.parentElement.parentElement.scrollHeight);let t=e.firstChild;if(t){let{height:e,width:n}=t.getBoundingClientRect();p({height:e,width:n})}h({column:ng("column-gap",getComputedStyle(e).columnGap,m),row:ng("row-gap",getComputedStyle(e).rowGap,m)})},[a,p,h,m]),!0,!1);return ti(()=>{e.itemHeight>0&&e.itemWidth>0&&v(!0)},[e]),g?null:(0,o.jsx)(c,{className:t,ref:b,...tC(c,f),"data-testid":"virtuoso-item-list",style:{paddingBottom:e.offsetBottom,paddingTop:e.offsetTop},children:e.items.map(t=>{let a=l(t.index,t.data,f);return s?(0,o.jsx)(d,{...tC(d,f),height:e.itemHeight,index:t.index,width:e.itemWidth},a):(0,i.createElement)(u,{...tC(u,f),className:n,"data-index":t.index,key:a},r(t.index,t.data,f))})})}),ns=i.memo(function(){let e=nf("HeaderComponent"),t=np("headerHeight"),n=nf("headerFooterTag"),r=A(i.useMemo(()=>e=>{t(ec(e,"height"))},[t]),!0,!1),l=nf("context");return e?(0,o.jsx)(n,{ref:r,children:(0,o.jsx)(e,{...tC(e,l)})}):null}),na=i.memo(function(){let e=nf("FooterComponent"),t=np("footerHeight"),n=nf("headerFooterTag"),r=A(i.useMemo(()=>e=>{t(ec(e,"height"))},[t]),!0,!1),l=nf("context");return e?(0,o.jsx)(n,{ref:r,children:(0,o.jsx)(e,{...tC(e,l)})}):null}),nu=({children:e})=>{let t=i.useContext(to),n=np("itemDimensions"),r=np("viewportDimensions"),l=A(i.useMemo(()=>e=>{r(e.getBoundingClientRect())},[r]),!0,!1);return i.useEffect(()=>{t&&(r({height:t.viewportHeight,width:t.viewportWidth}),n({height:t.itemHeight,width:t.itemWidth}))},[t,r,n]),(0,o.jsx)("div",{ref:l,style:tw(!1),children:e})},nc=({children:e})=>{let t=i.useContext(to),n=np("windowViewportRect"),r=np("itemDimensions"),l=$(n,nf("customScrollParent"),!1);return i.useEffect(()=>{t&&(r({height:t.itemHeight,width:t.itemWidth}),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,n,r]),(0,o.jsx)("div",{ref:l,style:tw(!1),children:e})},{useEmitter:nd,useEmitterValue:nf,usePublisher:np}=tn(ni,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},i.memo(function({...e}){let t=nf("useWindowScroll"),n=nf("customScrollParent"),r=n||t?nm:nh,i=n||t?nc:nu,l=nf("context");return(0,o.jsx)(r,{...e,...tC(r,l),children:(0,o.jsxs)(i,{children:[(0,o.jsx)(ns,{}),(0,o.jsx)(nl,{}),(0,o.jsx)(na,{})]})})})),nh=tE({useEmitter:nd,useEmitterValue:nf,usePublisher:np}),nm=tR({useEmitter:nd,useEmitterValue:nf,usePublisher:np});function ng(e,t,n){return"normal"===t||null!=t&&t.endsWith("px")||n(`${e} was not resolved to pixel value correctly`,t,F.WARN),"normal"===t?0:parseInt(null!=t?t:"0",10)}},816:function(e,t,n){"use strict";n.d(t,{TK:()=>l,cH:()=>o,jV:()=>i});var r=n(447);r.registerSerializer;let o=r.spawn;r.BlobWorker,r.DefaultSerializer,r.Pool;let i=r.Thread;r.Transfer;let l=r.Worker}}]);