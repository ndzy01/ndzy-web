(self.webpackChunkndzy_web=self.webpackChunkndzy_web||[]).push([["170"],{7:function(e,t,n){"use strict";n.d(t,{AcM:()=>d});var r=n(391);let i=n.n(r)()();function o(e,t){let n=e;if(Array.isArray(e)){let r=e;t?.maxCharCount&&"string"==typeof e[0]&&(r=e.filter(e=>e.length<=t.maxCharCount)),n=()=>l(r)}return void 0===t?.length?n(0):Array.from({length:t.length},(e,t)=>n(t))}function l(e){return e[Math.floor(i()*e.length)]}function u({min:e=1,max:t=9999.99,fraction:n=0}={}){if(t<e)throw Error("Max must be bigger than min");return Number((i()*(t-e)+e).toFixed(n))}let s="abcdefghijklmnopqrstuvwxyz";function a(e){return o(s.split(""),e)}s.toUpperCase();var c=["est","voluptatem","non","aut","aliquid","quaerat","quos","vel","tenetur","consectetur","ipsum","voluptate","numquam","nulla","asperiores","in","laborum","quas","et","ullam","consequuntur","enim","dicta","quia","facilis","voluptatibus","at","hic","sunt","excepturi","maiores","vitae","fugit","possimus","unde","repellat","sit","necessitatibus","nemo","qui","exercitationem","dolores","esse","reiciendis","nihil","commodi","id","sequi","consequatur","occaecati","deserunt","quae","eos","sapiente","fugiat","neque","quasi","nostrum","magnam","sed","omnis","doloribus","error","ducimus","rerum","beatae","cupiditate","blanditiis","labore"];function p(e){return o(()=>{var t;let n=l(c);return e?.capitalize&&(n=(t=n).charAt(0).toUpperCase()+t.slice(1)),n},e)}function f(e){return o(()=>{let e=p({capitalize:!0}),t=1;for(;t<50;){let n=p(),r="";if(++t>3&&(r=function(e){let t=u({min:1,max:10,fraction:0});return 1===t||50===e?".":2===t?",":""}(t)),e+=` ${n}${r}`,"."===r)break}return e},e)}function d(e){let t=e.min,n=e.max;if(t>=n)throw Error("Min must be less than max");return o(()=>(function(e){let t=e?.charCount??10;if(t<1||isNaN(t))throw"Character count must be greater than 0";return o(()=>{let e=f();if(1===t)return a();for(;e.length<t;)e+=` ${f()}`;return e.substring(0,t-2)+`${a()}.`},e)})({charCount:u({min:t,max:n})}),e)}},391:function(e,t,n){var r=n(180),i=n(181),o=n(31),l=n(67),u=n(833),s=n(717),a=n(801);a.alea=r,a.xor128=i,a.xorwow=o,a.xorshift7=l,a.xor4096=u,a.tychei=s,e.exports=a},180:function(e,t,n){!function(e,t,n){function r(e){var t,n=this,r=(t=0xefc8249d,function(e){e=String(e);for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));t=r>>>0,r-=t,r*=t,t=r>>>0,r-=t,t+=0x100000000*r}return(t>>>0)*23283064365386963e-26});n.next=function(){var e=2091639*n.s0+23283064365386963e-26*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1)}function i(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function o(e,t){var n=new r(e),o=t&&t.state,l=n.next;return l.int32=function(){return 0x100000000*n.next()|0},l.double=function(){return l()+(2097152*l()|0)*11102230246251565e-32},l.quick=l,o&&("object"==typeof o&&i(o,n),l.state=function(){return i(n,{})}),l}t&&t.exports?t.exports=o:n&&n.amd?n(function(){return o}):this.alea=o}(0,e=n.nmd(e),"function"==typeof define&&define)},717:function(e,t,n){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-0x61c88647,t.d=0x517cc1b7,e===Math.floor(e)?(t.a=e/0x100000000|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=n.charCodeAt(r),t.next()}function i(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function o(e,t){var n=new r(e),o=t&&t.state,l=function(){return(n.next()>>>0)/0x100000000};return l.double=function(){do var e=((n.next()>>>11)+(n.next()>>>0)/0x100000000)/2097152;while(0===e);return e},l.int32=n.next,l.quick=l,o&&("object"==typeof o&&i(o,n),l.state=function(){return i(n,{})}),l}t&&t.exports?t.exports=o:n&&n.amd?n(function(){return o}):this.tychei=o}(0,e=n.nmd(e),"function"==typeof define&&define)},181:function(e,t,n){!function(e,t,n){function r(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=n.charCodeAt(r),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function o(e,t){var n=new r(e),o=t&&t.state,l=function(){return(n.next()>>>0)/0x100000000};return l.double=function(){do var e=((n.next()>>>11)+(n.next()>>>0)/0x100000000)/2097152;while(0===e);return e},l.int32=n.next,l.quick=l,o&&("object"==typeof o&&i(o,n),l.state=function(){return i(n,{})}),l}t&&t.exports?t.exports=o:n&&n.amd?n(function(){return o}):this.xor128=o}(0,e=n.nmd(e),"function"==typeof define&&define)},833:function(e,t,n){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.w,i=t.X,o=t.i;return t.w=r=r+0x61c88647|0,n=i[o+34&127],e=i[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[o]=n^e,t.i=o,n+(r^r>>>16)|0},!function(e,t){var n,r,i,o,l,u=[],s=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,s=Math.max(s,t.length)),i=0,o=-32;o<s;++o)t&&(r^=t.charCodeAt((o+32)%t.length)),0===o&&(l=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(l=l+0x61c88647|0,i=0==(n=u[127&o]^=r+l)?i+1:0);for(i>=128&&(u[127&(t&&t.length||0)]=-1),i=127,o=512;o>0;--o)r=u[i+34&127],n=u[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,u[i]=r^n;e.w=l,e.X=u,e.i=i}(t,e)}function i(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function o(e,t){null==e&&(e=+new Date);var n=new r(e),o=t&&t.state,l=function(){return(n.next()>>>0)/0x100000000};return l.double=function(){do var e=((n.next()>>>11)+(n.next()>>>0)/0x100000000)/2097152;while(0===e);return e},l.int32=n.next,l.quick=l,o&&(o.X&&i(o,n),l.state=function(){return i(n,{})}),l}t&&t.exports?t.exports=o:n&&n.amd?n(function(){return o}):this.xor4096=o}(0,e=n.nmd(e),"function"==typeof define&&define)},67:function(e,t,n){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.x,i=t.i;return e=r[i],e^=e>>>7,n=e^e<<24^((e=r[i+1&7])^e>>>10)^((e=r[i+3&7])^e>>>3)^((e=r[i+4&7])^e<<7),e=r[i+7&7],e^=e<<13,n^=e^e<<9,r[i]=n,t.i=i+1&7,n};var n,r=e,i=[];if(r===(0|r))i[0]=r;else for(n=0,r=""+r;n<r.length;++n)i[7&n]=i[7&n]<<15^r.charCodeAt(n)+i[n+1&7]<<13;for(;i.length<8;)i.push(0);for(n=0;n<8&&0===i[n];++n);for(8==n?i[7]=-1:i[n],t.x=i,t.i=0,n=256;n>0;--n)t.next()}function i(e,t){return t.x=e.x.slice(),t.i=e.i,t}function o(e,t){null==e&&(e=+new Date);var n=new r(e),o=t&&t.state,l=function(){return(n.next()>>>0)/0x100000000};return l.double=function(){do var e=((n.next()>>>11)+(n.next()>>>0)/0x100000000)/2097152;while(0===e);return e},l.int32=n.next,l.quick=l,o&&(o.x&&i(o,n),l.state=function(){return i(n,{})}),l}t&&t.exports?t.exports=o:n&&n.amd?n(function(){return o}):this.xorshift7=o}(0,e=n.nmd(e),"function"==typeof define&&define)},31:function(e,t,n){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^(e^e<<1))|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function o(e,t){var n=new r(e),o=t&&t.state,l=function(){return(n.next()>>>0)/0x100000000};return l.double=function(){do var e=((n.next()>>>11)+(n.next()>>>0)/0x100000000)/2097152;while(0===e);return e},l.int32=n.next,l.quick=l,o&&("object"==typeof o&&i(o,n),l.state=function(){return i(n,{})}),l}t&&t.exports?t.exports=o:n&&n.amd?n(function(){return o}):this.xorwow=o}(0,e=n.nmd(e),"function"==typeof define&&define)},801:function(e,t,n){!function(t,r,i){var o,l="random",u=i.pow(256,6),s=i.pow(2,52),a=2*s;function c(e,n,c){var g=[],v=d(function e(t,n){var r,i=[],o=typeof t;if(n&&"object"==o)for(r in t)try{i.push(e(t[r],n-1))}catch(e){}return i.length?i:"string"==o?t:t+"\0"}((n=!0==n?{entropy:!0}:n||{}).entropy?[e,h(r)]:null==e?function(){try{var e;return o&&(e=o.randomBytes)?e=e(256):(e=new Uint8Array(256),(t.crypto||t.msCrypto).getRandomValues(e)),h(e)}catch(e){var n=t.navigator,i=n&&n.plugins;return[+new Date,t,i,t.screen,h(r)]}}():e,3),g),m=new p(g),b=function(){for(var e=m.g(6),t=u,n=0;e<s;)e=(e+n)*256,t*=256,n=m.g(1);for(;e>=a;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|m.g(4)},b.quick=function(){return m.g(4)/0x100000000},b.double=b,d(h(m.S),r),(n.pass||c||function(e,t,n,r){return(r&&(r.S&&f(r,m),e.state=function(){return f(m,{})}),n)?(i[l]=e,t):e})(b,v,"global"in n?n.global:this==i,n.state)}function p(e){var t,n=e.length,r=this,i=0,o=r.i=r.j=0,l=r.S=[];for(n||(e=[n++]);i<256;)l[i]=i++;for(i=0;i<256;i++)l[i]=l[o=255&o+e[i%n]+(t=l[i])],l[o]=t;(r.g=function(e){for(var t,n=0,i=r.i,o=r.j,l=r.S;e--;)t=l[i=255&i+1],n=256*n+l[255&(l[i]=l[o=255&o+t])+(l[o]=t)];return r.i=i,r.j=o,n})(256)}function f(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function d(e,t){for(var n,r=e+"",i=0;i<r.length;)t[255&i]=255&(n^=19*t[255&i])+r.charCodeAt(i++);return h(t)}function h(e){return String.fromCharCode.apply(0,e)}if(d(i.random(),r),e.exports){e.exports=c;try{o=n(747)}catch(e){}}else"function"==typeof define&&define.amd?define(function(){return c}):i["seed"+l]=c}("undefined"!=typeof self?self:this,[],Math)},107:function(e,t,n){"use strict";let r;n.d(t,{t9:()=>nI,wK:()=>nk});var i=n(540),o=n.t(i,2),l=n(848),u=Object.defineProperty,s=(e,t,n)=>{let r;return(r="symbol"!=typeof t?t+"":t)in e?u(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n};class a{constructor(e=new Map){this.map=e}clone(){return new a(new Map(this.map))}decrement(e,t){let n=this.map.get(e);void 0!==n&&(n-=1,this.map.set(e,n),0===n&&t())}increment(e){let t=this.map.get(e)??0;this.map.set(e,t+1)}}class c{constructor(){s(this,"map",new Map)}delete(e){return this.map.delete(e)}get(e){return this.map.get(e)}getOrCreate(e){let t=this.map.get(e);return void 0===t&&(t=new Set,this.map.set(e,t)),t}use(e,t){let n=this.get(e);void 0!==n&&t(n)}}function p(){}let f="cell";function d(e,t){return e===t}let h=new Map;class g{constructor(e={}){for(let t of(s(this,"definitionRegistry",new Set),s(this,"distinctNodes",new Map),s(this,"executionMaps",new Map),s(this,"graph",new c),s(this,"pipeMap",new Map),s(this,"singletonSubscriptions",new Map),s(this,"state",new Map),s(this,"subscriptions",new c),Object.getOwnPropertySymbols(e)))this.state.set(t,e[t])}cellInstance(e,t=!0,n=Symbol()){return this.state.has(n)||this.state.set(n,e),!1===t||this.distinctNodes.has(n)||this.distinctNodes.set(n,!0===t?d:t),n}changeWith(e,t,n){this.connect({map:e=>(t,r)=>{e(n(r,t))},pulls:[e],sink:e,sources:[t]})}combine(...e){var t,n;return n=t=this.signalInstance(),this.connect({map:e=>(...t)=>{e(t)},sink:n,sources:e}),t}combineCells(...e){var t,n;return n=t=this.cellInstance(e.map(e=>this.getValue(e)),!0),this.connect({map:e=>(...t)=>{e(t)},sink:n,sources:e}),t}connect({map:e,pulls:t=[],sink:n,sources:r}){let i={map:e,pulls:new Set(t),sink:this.register(n),sources:new Set(r)};for(let e of[...r,...t])this.register(e),this.graph.getOrCreate(e).add(i);this.executionMaps.clear()}getValue(e){return this.register(e),this.state.get(e)}getValues(e){return e.map(e=>this.getValue(e))}inContext(e){let t=r;r=this;let n=e();return r=t,n}link(e,t){this.connect({map:e=>t=>{e(t)},sink:t,sources:[e]})}pipe(e,...t){return this.combineOperators(...t)(e)}pub(e,t){this.pubIn({[e]:t})}pubIn(e){var t;let n=Reflect.ownKeys(e).map(e=>this.pipeMap.get(e)??e),r=Reflect.ownKeys(e).reduce((t,n)=>{let r=e[n];return t[this.pipeMap.get(n)??n]=r,t},{}),i=this.getExecutionMap(n),o=i.refCount.clone(),l=i.participatingNodes.slice(),u=new Map(this.state),s=e=>{this.graph.use(e,t=>{for(let{sink:n,sources:r}of t)r.has(e)&&o.decrement(n,()=>{l.splice(l.indexOf(n),1),s(n)})})};for(;;){let e=l.shift();if(void 0===e)break;let n=!1,o=t=>{let r=this.distinctNodes.get(e);if(null!=r&&r(u.get(e),t)){n=!1;return}n=!0,u.set(e,t),this.state.has(e)&&this.state.set(e,t)};if(Object.hasOwn(r,e)?o(r[e]):i.projections.use(e,e=>{for(let t of e){let e=[...Array.from(t.sources),...Array.from(t.pulls)].map(e=>u.get(e));t.map(o)(...e)}}),n){let n=u.get(e);this.inContext(()=>{this.subscriptions.use(e,e=>{for(let t of e)t(n)})}),null==(t=this.singletonSubscriptions.get(e))||t(n)}else s(e)}}register(e){let t=h.get(e);if(void 0===t)return e;if(!this.definitionRegistry.has(e)){var n,r,i,o;if(this.definitionRegistry.add(e),t.type===f){return i=n=this.cellInstance(t.initial,t.distinct,e),this.inContext(()=>{t.init(this,i)}),n}if("signal"===t.type){return o=r=this.signalInstance(t.distinct,e),this.inContext(()=>{t.init(this,o)}),r}let l=this.signalInstance(t.distinct),u=this.cellInstance(t.initial,!0),s=this.cellInstance(t.initial,t.distinct,e);return this.link(u,s),this.pipeMap.set(s,l),this.inContext(()=>{t.init(this,l,u)}),s}return e}resetSingletonSubs(){this.singletonSubscriptions.clear()}signalInstance(e=!0,t=Symbol()){return!1!==e&&this.distinctNodes.set(t,!0===e?d:e),t}singletonSub(e,t){return this.register(e),void 0===t?this.singletonSubscriptions.delete(e):this.singletonSubscriptions.set(e,t),()=>this.singletonSubscriptions.delete(e)}sub(e,t){this.register(e);let n=this.subscriptions.getOrCreate(e);return n.add(t),()=>n.delete(t)}subMultiple(e,t){let n=this.signalInstance();return this.connect({map:e=>(...t)=>{e(t)},sink:n,sources:e}),this.sub(n,t)}transformer(...e){return t=>{var n;let r;return n=this.signalInstance(),r=n,this.link(this.pipe(r,...e),t),n}}calculateExecutionMap(e){let t=[],n=new Set,r=new c,i=new a,o=new c,l=(e,u=0)=>{i.increment(e),n.has(e)||(this.register(e),r.use(e,e=>{u=Math.max(...Array.from(e).map(e=>t.indexOf(e)))+1}),this.graph.use(e,t=>{for(let n of t)n.sources.has(e)?(o.getOrCreate(n.sink).add(n),l(n.sink,u)):r.getOrCreate(n.sink).add(e)}),n.add(e),t.splice(u,0,e))};return e.forEach(l),{participatingNodes:t,pendingPulls:r,projections:o,refCount:i}}combineOperators(...e){return t=>{for(let n of e)t=n(t,this);return t}}getExecutionMap(e){let t=e;if(1===e.length){t=e[0];let n=this.executionMaps.get(t);if(void 0!==n)return n}else for(let[t,n]of this.executionMaps.entries())if(Array.isArray(t)&&t.length===e.length&&t.every(t=>e.includes(t)))return n;let n=this.calculateExecutionMap(e);return this.executionMaps.set(t,n),n}}function v(e,t=p,n=!0){var r,i;return i=r=Symbol(),h.set(i,{distinct:n,init:t,initial:e,type:f}),r}function m(e=p,t=!1){var n,r;return r=n=Symbol(),h.set(r,{distinct:t,init:e,type:"signal"}),n}function b(e=p){var t,n;return n=t=Symbol(),h.set(n,{distinct:!1,init:e,type:"signal"}),t}let x=i.createContext(null),k="u">typeof document?i.useLayoutEffect:i.useEffect;function w(){let e=i.useContext(x);if(null===e)throw Error("useRealm must be used within a RealmContextProvider");return e}let y="useSyncExternalStore"in o?function(e){let t=w();t.register(e);let n=i.useCallback(n=>t.sub(e,n),[t,e]);return i.useSyncExternalStore(n,()=>t.getValue(e),()=>t.getValue(e))}:function(e){let t=w();t.register(e);let[n,r]=i.useState(()=>t.getValue(e));return k(()=>{let n=t.sub(e,()=>{r(()=>t.getValue(e))});return()=>{n()}},[t,e]),n};function I(e){return(t,n)=>{let r=n.signalInstance();return n.connect({map:t=>n=>{t(e(n))},sink:r,sources:[t]}),r}}function S(...e){return(t,n)=>{let r=n.signalInstance();return n.connect({map:e=>(...t)=>{e(t)},pulls:e,sink:r,sources:[t]}),r}}function T(e){return(t,n)=>{let r=n.signalInstance();return n.connect({map:t=>()=>{t(e)},sink:r,sources:[t]}),r}}function C(e){return(t,n)=>{let r=n.signalInstance();return n.connect({map:t=>n=>{e(n)&&t(n)},sink:r,sources:[t]}),r}}function M(e,t){return(n,r)=>{let i=r.signalInstance();return r.connect({map:n=>r=>{n(t=e(t,r))},sink:i,sources:[n]}),i}}function E(e){return(t,n)=>{let r=n.signalInstance(),i,o=null;return n.sub(t,t=>{i=t,null===o&&(o=setTimeout(()=>{o=null,n.pub(r,i)},e))}),r}}function R(e){return(t,n)=>{let r=n.signalInstance(),i,o=null;return n.sub(t,t=>{i=t,null!==o&&clearTimeout(o),o=setTimeout(()=>{n.pub(r,i)},e)}),r}}function B(){return(e,t)=>{let n=t.signalInstance();return t.sub(e,e=>{queueMicrotask(()=>{t.pub(n,e)})}),n}}function H(e){return(t,n)=>{let r=n.signalInstance(),i=Symbol(),o=i;return n.connect({map:e=>t=>{o!==i&&(e([o,t]),o=i)},sink:r,sources:[e]}),n.sub(t,e=>{o=e}),r}}function L(e,t){let n=v(e,e=>{e.link(t(e),n)});return n}let A={lvl:0};function z(e,t,n,r=A,i=A){return{k:e,l:r,lvl:n,r:i,v:t}}function V(e){return e===A}function j(e,t,n="k"){if(V(e))return[-1/0,void 0];if(e[n]===t)return[e.k,e.v];if(e[n]<t){let r=j(e.r,t,n);return r[0]===-1/0?[e.k,e.v]:r}return j(e.l,t,n)}function D(e,t,n){return V(e)?z(t,n,1):t===e.k?O(e,{k:t,v:n}):t<e.k?Y($(O(e,{l:D(e.l,t,n)}))):Y($(O(e,{r:D(e.r,t,n)})))}function W(e){return V(e)?[]:[...W(e.l),{k:e.k,v:e.v},...W(e.r)]}function O(e,t){return z(t.k??e.k,t.v??e.v,t.lvl??e.lvl,t.l??e.l,t.r??e.r)}function N(e){return V(e)||e.lvl>e.r.lvl}function q(e){let{l:t,r:n,lvl:r}=e;if(n.lvl>=r-1&&t.lvl>=r-1)return e;if(r>n.lvl+1){if(N(t))return $(O(e,{lvl:r-1}));if(!V(t)&&!V(t.r))return O(t.r,{l:O(t,{r:t.r.l}),lvl:r,r:O(e,{l:t.r.r,lvl:r-1})});throw Error("Unexpected empty nodes")}if(N(e))return Y(O(e,{lvl:r-1}));if(!V(n)&&!V(n.l)){let t=n.l,i=N(t)?n.lvl-1:n.lvl;return O(t,{l:O(e,{lvl:r-1,r:t.l}),lvl:t.lvl+1,r:Y(O(n,{l:t.r,lvl:i}))})}throw Error("Unexpected empty nodes")}function F(e,t,n){if(V(e))return[];let r=j(e,t)[0];return _(function e(t,n,r){if(V(t))return[];let{k:i,v:o,l:l,r:u}=t,s=[];return i>n&&(s=s.concat(e(l,n,r))),i>=n&&i<=r&&s.push({k:i,v:o}),i<=r&&(s=s.concat(e(u,n,r))),s}(e,r,n))}function P(e,t){let n=e.length;if(0===n)return[];let{index:r,value:i}=t(e[0]),o=[];for(let l=1;l<n;l++){let{index:n,value:u}=t(e[l]);o.push({end:n-1,start:r,value:i}),r=n,i=u}return o.push({end:1/0,start:r,value:i}),o}function _(e){return P(e,({k:e,v:t})=>({index:e,value:t}))}function Y(e){let{r:t,lvl:n}=e;return V(t)||V(t.r)||t.lvl!==n||t.r.lvl!==n?e:O(t,{l:O(e,{r:t.l}),lvl:n+1})}function $(e){let{l:t}=e;return V(t)||t.lvl!==e.lvl?e:O(t,{r:O(e,{l:t.r})})}function K(e,t,n,r=0){let i=e.length-1;for(;r<=i;){let o=Math.floor((r+i)/2),l=n(e[o],t);if(0===l)return o;if(-1===l){if(i-r<2)return o-1;i=o-1}else{if(i===r)return o;r=o+1}}throw Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function U({index:e},t){return t===e?0:t<e?-1:1}function G({offset:e},t){return t===e?0:t<e?-1:1}function X(e){return{index:e.index,value:e}}let Z=[[],0,0,0],J=[A,0],Q=m();v([]),v([]),v(0),v(null),v(NaN);let ee=v(!1),et=v(J,e=>{e.link(e.pipe(Q,C(e=>e.length>0),S(en),I(([e,t])=>(function(e,[t,n]){if(n.length>0&&V(e)&&2===t.length){let e=t[0].size,r=t[1].size;return[n.reduce((t,n)=>D(D(t,n,e),n+1,r),A),0]}return function(e,t){let n=V(e)?0:1/0;for(let r of t){let{size:t,startIndex:i,endIndex:o}=r;if(n=Math.min(n,i),V(e)){e=D(e,0,t);continue}let l=F(e,i-1,o+1);if(l.some(function(e){let{size:t,startIndex:n,endIndex:r}=e;return e=>e.start===n&&(e.end===r||e.end===1/0)&&e.value===t}(r)))continue;let u=!1,s=!1;for(let{start:n,end:r,value:i}of l)u?(o>=n||t===i)&&(e=function e(t,n){if(V(t))return A;let{k:r,l:i,r:o}=t;if(n===r){if(V(i))return o;if(V(o))return i;let[e,n]=function e(t){return V(t.r)?[t.k,t.v]:e(t.r)}(i);return q(O(t,{k:e,l:function e(t){return V(t.r)?t.l:q(O(t,{r:e(t.r)}))}(i),v:n}))}return n<r?q(O(t,{l:e(i,n)})):q(O(t,{r:e(o,n)}))}(e,n)):(s=i!==t,u=!0),r>o&&o>=n&&i!==t&&(e=D(e,o+1,i));s&&(e=D(e,i,t))}return[e,n]}(e,t)})(t,[e,[]]))),et)}),en=v(J[0],e=>{e.link(e.pipe(et,I(([e])=>e)),en)}),er=v(J[1],e=>{e.link(e.pipe(et,I(([,e])=>e)),er)}),ei=v(Z[1]),eo=v(Z[0]),el=v(Z,e=>{e.link(e.pipe(en,S(er),M(([e],[t,n])=>(function(e,[t,n]){let r=0,i=0,o=0,l=0;if(0!==n){l=K(e,n-1,U),o=e[l].offset;let u=j(t,n-1);r=u[0],i=u[1],e.length&&e[l].height===j(t,n)[1]&&(l-=1),e=e.slice(0,l+1)}else e=[];for(let{start:l,value:u}of F(t,n,1/0)){let t=(l-r)*i+o;e.push({height:u,index:l,offset:t}),r=l,o=t,i=u}return[e,i,o,r]})(e,[t,n]),Z)),el),e.link(e.pipe(el,I(([,e])=>e)),ei),e.link(e.pipe(el,I(([e])=>e)),eo)}),eu=v(Z[2],e=>{e.link(e.pipe(el,I(([,,e])=>e)),eu)}),es=v(Z[3],e=>{e.link(e.pipe(el,I(([,,,e])=>e)),es)}),ea=v(0,e=>{e.link(e.pipe(e.combine(eq,es,eu,ei),I(([e,t,n,r])=>n+(e-t)*r)),ea)});function ec(e,t){if(0===t.length)return[0,0];let{offset:n,index:r,height:i}=t[K(t,e,U)];return[i*(e-r)+n,i]}function ep(e,t){return ec(e,t)[0]}function ef(e,t){return 1.01>Math.abs(e-t)}function ed(){return!(typeof navigator>"u")&&(/Macintosh/i.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1||/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent))}function eh(e){return!e}function eg(e=1){return(t,n)=>{let r=n.signalInstance();return n.sub(t,t=>{let i=e;!function e(){i>0?(i--,requestAnimationFrame(e)):n.pub(r,t)}()}),r}}let ev="down",em={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,viewportWidth:0,scrollHeight:0}};function eb(e){return(t,n)=>{let r=n.signalInstance();return n.sub(t,t=>{e>0?e--:n.pub(r,t)}),r}}v(!1);let ex=v(!0);m();let ek=v(!1),ew=m(e=>{e.link(e.pipe(ex,E(50)),ew)}),ey=v(4),eI=v(0,e=>{e.link(e.pipe(e.combine(tr,eI),I(([e,t])=>e<=t)),ex)}),eS=v(!1,e=>{e.link(e.pipe(tr,eb(1),T(!0)),eS),e.link(e.pipe(tr,eb(1),T(!1),R(100)),eS)}),eT=v(!1,e=>{e.link(e.pipe(tE,T(!0)),eT),e.link(e.pipe(tE,T(!1),R(200)),eT)}),eC=v(!1),eM=v(null,e=>{e.link(e.pipe(e.combine(tl,tr,ti,to,ey,tH,ty,en),C(([,,,,,,,e])=>!V(e)),M((e,[t,n,r,i,o,l])=>{let u={viewportWidth:i,viewportHeight:r,scrollTop:n,scrollHeight:t,listMarginTop:l};if(n+r-t+l>-o){let i,o;return n>e.state.scrollTop?(i="SCROLLED_DOWN",o=e.state.scrollTop-n):(i=t===r?"LIST_TOO_SHORT":"SIZE_DECREASED",o=e.state.scrollTop-n||e.scrollTopDelta),{atBottom:!0,state:u,atBottomBecause:i,scrollTopDelta:o}}return{atBottom:!1,notAtBottomBecause:r<e.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":i<e.state.viewportWidth?"VIEWPORT_WIDTH_DECREASING":n<e.state.scrollTop?"SCROLLING_UPWARDS":u.scrollHeight>e.state.scrollHeight||u.listMarginTop<e.state.listMarginTop?e.atBottom?"SIZE_INCREASED":e.notAtBottomBecause:e.atBottom?"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM":e.notAtBottomBecause,state:u}},em)),eM),e.link(e.pipe(eM,M(({prev:e},t)=>{let n=!!(e&&t&&e.atBottom&&!t.atBottom&&"SIZE_INCREASED"===t.notAtBottomBecause);return{prev:t,shouldScroll:n}},{prev:null,shouldScroll:!1}),I(({shouldScroll:e})=>e)),eC),e.sub(e.pipe(ti,S(eM,tj,tD),C(([,,e,t])=>!e&&!t),M((e,[t,n])=>{let r=0;return e.viewportHeight>t&&n&&!n.atBottom&&"VIEWPORT_HEIGHT_DECREASING"===n.notAtBottomBecause&&(r=e.viewportHeight-t),{viewportHeight:t,delta:r}},{viewportHeight:0,delta:0})),t=>{t.delta&&e.pub(tE,t.delta)})},(e,t)=>!!e&&e.atBottom===(null==t?void 0:t.atBottom)&&(!!e.atBottom||!!t.atBottom||e.notAtBottomBecause===t.notAtBottomBecause)),eE=v(0,e=>{e.link(e.pipe(e.combine(tr,tl,ti),M((e,[t,n,r])=>{if(!ef(e.scrollHeight,n)){let i=n-(t+r)<1;return e.scrollTop!==t&&i?{scrollHeight:n,scrollTop:t,jump:e.scrollTop-t,changed:!0}:{scrollHeight:n,scrollTop:t,jump:0,changed:!0}}return{scrollTop:t,scrollHeight:n,jump:0,changed:!1}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),C(e=>e.changed),I(e=>e.jump)),eE)}),eR=v(ev,e=>{e.link(e.pipe(tr,M((t,n)=>{if(n<0)return{direction:"up",prevScrollTop:0};if(e.getValue(eT))return{direction:t.direction,prevScrollTop:n};let r=n===t.prevScrollTop&&0===n;return{direction:n<t.prevScrollTop||r?"up":ev,prevScrollTop:n}},{direction:ev,prevScrollTop:0}),I(e=>e.direction)),eR),e.link(e.pipe(tr,R(100),T("none")),eR)}),eB=v(0,e=>{e.link(e.pipe(eS,C(eh),T(0)),eB),e.link(e.pipe(tr,E(100),S(eS),C(([,e])=>!!e),M(([,e],[t])=>[e,t],[0,0]),I(([e,t])=>t-e)),eB)});function eH(e,t){if("number"==typeof e)return{index:e,offset:0,behavior:"auto",align:"start-no-overflow"};let n={index:NaN,align:e.align??"start-no-overflow",behavior:e.behavior??"auto",offset:e.offset??0};return"LAST"===e.index?n.index=t:e.index<0?n.index=t+e.index:n.index=e.index,n}function eL({location:e,sizeTree:t,offsetTree:n,totalHeight:r,totalCount:i,viewportHeight:o,headerHeight:l,stickyHeaderHeight:u,stickyFooterHeight:s}){let{align:a,behavior:c,offset:p,index:f}=eH(e,i-1);function d(){let e=j(t,f)[1];if(void 0===e)throw Error(`Item at index ${f} not found`);return e}o-=u+s;let h=ep(f,n)+l-u;"end"===a?h=h-o+d():"center"===a&&(h=h-o/2+d()/2),p&&(h+=p);let g=0;return"start"===a&&(g=Math.max(0,Math.min(h-(r-o)))),{top:h=Math.max(0,h),behavior:c,align:a,forceBottomSpace:g}}let eA=v(null),ez=v(!1),eV=v(!0),ej=m(e=>{e.link(e.pipe(ej,I(()=>!0)),eV),e.link(e.pipe(ej,I(()=>null)),eA)}),eD=m(e=>{e.link(e.pipe(eD,S(eq,eo,tC),I(([e,t,n,r])=>{let{align:i,behavior:o,offset:l,index:u}=eH(e,t-1),s="number"!=typeof e?e.done:void 0,[a,c]=ec(u,n);return a<-r.listOffset?(("number"==typeof e||void 0===e.align)&&(i="start-no-overflow"),{index:u,align:i,behavior:o,offset:l,done:s}):a+c>-r.listOffset+r.visibleListHeight?(("number"==typeof e||void 0===e.align)&&(i="end"),{index:u,align:i,behavior:o,offset:l,done:s}):null}),C(e=>null!==e)),eW)}),eW=m(e=>{let t=e.pipe(eW,S(en,eo,eq,ti,tm,ta,tp,ea),I(([e,t,n,r,i,o,l,u,s])=>{try{return eL({location:e,totalHeight:s,sizeTree:t,offsetTree:n,totalCount:r,viewportHeight:i,headerHeight:o,stickyHeaderHeight:l,stickyFooterHeight:u})}catch{return null}}),C(e=>null!==e));e.link(eW,eA),e.link(t,tS),e.link(e.pipe(eW,C(e=>"number"!=typeof e&&"LAST"===e.index),T(!0)),ek),e.link(e.pipe(t,T(!1)),eV),e.link(e.pipe(t,T(!1)),ez),e.link(e.pipe(en,R(0),S(eV,eA),C(([,e,t])=>!e&&null!==t),I(([,,e])=>e)),eW),e.sub(e.pipe(tn,R(10)),()=>{let t=e.getValue(eA);null!==t&&"number"!=typeof t&&void 0!==t.done&&t.done(),e.pubIn({[eA]:null,[eV]:!0})}),e.link(e.pipe(ts,B(),C(e=>0!==e)),tE),e.link(e.pipe(ts,H(tr),I(()=>0)),ts)}),eO=v(null),eN=v(null,e=>{e.link(e.pipe(eN,C(e=>null!==e)),eO);let t=e.pipe(e.combine(eN,en),S(eO),C(([[e,t],n])=>null!==e&&!V(t)&&null!==n),I(([[e]])=>e));e.link(e.pipe(t,B()),eW),e.link(e.pipe(t,H(e.pipe(eV,C(e=>e))),T(null)),eO)},!1),eq=v(0),eF=v(null),eP=v(null,e=>{e.link(e.pipe(eP,C(e=>null!==e),I(e=>e.length)),eq)}),e_=v(null),eY=m(e=>{function t(t,n){e.pubIn({[e3]:!0,[tE]:t,[tB]:t}),n?requestAnimationFrame(()=>{e.pubIn({[tR]:0,[tB]:0,[e_]:null,[e8]:!1,[e3]:!1})}):e.pubIn({[tR]:0,[tB]:0,[e_]:null,[e8]:!1,[e3]:!1})}e.link(e.pipe(eY,S(ei),I(([e,t])=>-(t*e.length))),tR),e.link(e.pipe(eY,T(!0)),e8),e.link(e.pipe(eY,B()),e_),e.sub(e.pipe(eo,S(e_),C(([,e])=>null!==e),I(([e,t])=>{if(null===t)throw Error("Unexpected null items");return ep(t.length,e)})),e=>{t(e,!1)}),e.sub(e.pipe(eY,eg(2),S(eo,e_),C(([,,e])=>null!==e),I(([e,t])=>ep(e.length,t))),e=>{t(e,!0)}),e.changeWith(eP,eY,(e,t)=>e?[...t,...e]:t.slice()),e.link(e.pipe(eY,S(en,ei),I(([e,t,n])=>{let r=e.length;return W(t).reduce((e,{k:t,v:n})=>({ranges:[...e.ranges,{startIndex:e.prevIndex,endIndex:t+r-1,size:e.prevSize}],prevIndex:t+r,prevSize:n}),{ranges:[],prevIndex:0,prevSize:n}).ranges})),Q)}),e$=m(e=>{let t=e.pipe(e$,S(tC,tt,eF,en),C(([,,,,e])=>!V(e)),I(([{data:e,scrollToBottom:t},n,r,i])=>{if(!1===t||void 0===t)return null;let o="auto",l=n.isAtBottom;if("function"==typeof t){let u=t({data:e,scrollLocation:n,scrollInProgress:r,context:i,atBottom:l});if(!u)return null;if("object"==typeof u)return u;if("number"==typeof u)return{index:u,align:"end",behavior:"auto"};o=u}else{if(!l)return null;o=t}return!0===o&&(o="auto"),{index:"LAST",align:"end",behavior:o}}));e.link(e.pipe(t,C(e=>null!==e),I(()=>!0)),ek),e.link(e.pipe(tn,S(ek),C(([e,t])=>t),I(()=>!1)),ek);let n=e.pipe(tA,S(ek),C(([e,t])=>"up"===e&&t));e.link(e.pipe(n,I(()=>!1)),ek),e.link(e.pipe(n,T(!0)),ej),e.link(e.pipe(t,C(e=>null!==e),R(20)),eW)}),eK=m(e=>{e.changeWith(eP,eK,(e,t)=>e?[...e,...t.data]:t.data.slice()),e.link(eK,e$)}),eU=m(e=>{e.changeWith(eP,eU,(e,t)=>e?[...e.slice(0,t.offset),...t.data,...e.slice(t.offset)]:t.data.slice()),e.changeWith(et,eU,([e],t)=>{let n=j(e,t.offset,"k")[0],r=t.data.length;return[function(e,t,n,r){if(V(e))return A;let i=A;for(let{k:o,v:l}of W(e))i=o>t&&o<=n?D(i,...r(o,l)):D(i,o,l);return i}(e,n,1/0,(e,t)=>[e+r,t]),n]}),e.link(eU,e$)}),eG=m(e=>{e.changeWith(eP,eG,(e,{offset:t,count:n})=>e?e.slice(0,t).concat(e.slice(t+n)):[]),e.changeWith(et,eG,([e],{offset:t,count:n})=>[function(e,t,n){let r=A,i=-1;for(let{start:o,end:l,value:u}of _(W(e)))o<t?(r=D(r,o,u),i=u):o>t+n?r=D(r,o-n,u):l>=t+n&&i!==u&&(r=D(r,t,u));return r}(e,t,n),t])}),eX=v(null),eZ=m(e=>{e.sub(e.pipe(eZ,S(eP),C(([{purgeItemSizes:e},t])=>!!e||null===t||0===t.length)),([t,n])=>{null===n||0===n.length?e.pubIn({...t.initialLocation?{[eN]:t.initialLocation}:{},[eP]:t.data.slice()}):e.pubIn({...t.initialLocation?{[eN]:t.initialLocation}:{},[et]:J,[e6]:e5,[eX]:t.data.slice()})}),e.sub(e.pipe(tV,S(eX),eg(),C(([,e])=>null!==e)),([,t])=>{e.pubIn({[eP]:t,[eX]:null})}),e.link(e.pipe(eZ,C(({purgeItemSizes:e})=>!e),S(ei),C(([,e])=>e>0),I(([{data:e},t])=>[{size:t,startIndex:e.length,endIndex:1/0}])),Q),e.sub(e.pipe(eZ,C(({purgeItemSizes:e})=>!e)),({data:t,initialLocation:n,suppressItemMeasure:r})=>{requestAnimationFrame(()=>{r||e.pub(tz),requestAnimationFrame(()=>{n&&e.pubIn({[eW]:n})})}),e.pubIn({[eP]:t.slice()})})}),eJ=m(e=>{e.link(e.pipe(eJ,S(eo),I(([e,t])=>-ep(e,t))),tE),e.changeWith(eP,e.pipe(eJ,B()),(e,t)=>e?e.slice(t):[]),e.changeWith(et,e.pipe(eJ,B()),([e],t)=>[W(e).reduce((e,{k:n,v:r})=>D(e,Math.max(0,n-t),r),A),0])}),eQ=m(e=>{e.changeWith(eP,eQ,(e,t)=>e?e.slice(0,e.length-t):[]),e.link(e.pipe(eQ,S(eq,ei),I(([,e,t])=>[{size:t,startIndex:e,endIndex:1/0}])),Q)}),e0=m(e=>{let t=e.pipe(e0,S(eP),I(([e,t])=>{if(!t)return[];let n=[];return t.forEach((t,r)=>{e(t,r)&&n.push(r)}),n}));e.changeWith(eP,t,(e,t)=>e?e.filter((e,n)=>!t.includes(n)):[]),e.changeWith(et,t,([e],t)=>[function(e,t){var n,r;let i=t.slice(),o=0,l=[];for(let{k:t,v:u}of W(e)){for(;i.length&&i[0]<t;)i.shift(),o++;let e=Math.max(0,t-o);e===((null==(n=l.at(-1))?void 0:n.k)??-1)?((null==(r=l.at(-2))?void 0:r.v)??-1)===u?l.pop():l[l.length-1].v=u:l.push({k:e,v:u})}let u=A;for(let{k:e,v:t}of l)u=D(u,e,t);return u}(e,t),0])}),e1=m(e=>{e.changeWith(eP,e1,(e,{mapper:t})=>e?e.map(t):[]),e.link(e.pipe(e1,eg(3),S(eC),C(([{autoscrollToBottomBehavior:e},t])=>t&&!!e),I(([{autoscrollToBottomBehavior:e}])=>"object"==typeof e?e.location():{index:"LAST",align:"end",behavior:e}),C(e=>!!e)),eW)}),e2=m(e=>{e.changeWith(eP,e2,(e,{newData:t})=>t),e.link(e.pipe(e2,eg(3),S(eC),C(([{autoscrollToBottomBehavior:e},t])=>t&&!!e),I(([{autoscrollToBottomBehavior:e}])=>"object"==typeof e?e.location():{index:"LAST",align:"end",behavior:e}),C(e=>!!e)),eW)}),e5={items:[],listBottom:0,listTop:0,offsetTree:[],paddingBottom:0,paddingTop:0,totalCount:0,totalHeight:0,deviationDelta:0,data:null},e3=v(!1),e6=v(e5,e=>{e.link(e.pipe(e.combine(tu,tw,en,eo,eq,ea,eP,ts,eN,eO,tc,ta,tp,tR,e3,ee,e4),C(e=>{let t=e.at(-1),n=e.at(-2),r=e.at(-3);return!n&&!t&&!r}),M((t,[n,r,i,o,l,u,s,a,c,p,f,d,h,g])=>{var v,m;if((null==s?void 0:s.length)===0)return e5;if(V(i)){let e=0;return null!==c&&(e=eH(c,l-1).index),{...e5,items:(m=e,[{data:null==s?void 0:s[m],prevData:(null==s?void 0:s[m-1])??null,nextData:(null==s?void 0:s[m+1])??null,height:0,index:m,offset:0,type:"flat"}]),offsetTree:o,totalCount:l,data:s}}let b=0;null!==p&&0===n&&(b=eL({totalHeight:u,location:p,sizeTree:i,offsetTree:o,totalCount:l,viewportHeight:e.getValue(ti),headerHeight:e.getValue(tm),stickyHeaderHeight:d,stickyFooterHeight:h}).top??0);let x=0;0!==e.getValue(tr)&&!e.getValue(te)&&"up"===e.getValue(eR)&&t.totalCount===l&&t.items.length>0&&0!=(x=u-t.totalHeight)&&(x+=e.getValue(eE));let k=e.getValue(tg),w=Math.min(Math.max(n+b+a-g-f+x-k,0),u-r),y=w+r+2*k;if(t.offsetTree===o&&t.totalCount===l&&t.data===s&&w>=t.listTop&&y<=t.listBottom)return t;let I=[],S=l-1,T=function(e,t,n,r=0){return r>0&&(t=Math.max(t,e[K(e,r,U)].offset)),P(function(e,t,n,r){let i=K(e,t,r),o=K(e,n,r,i);return e.slice(i,o+1)}(e,t=Math.max(0,t),n,G),X)}(o,w,y,0),C=0,M=0,E=!1;for(let e of T){let{value:{offset:t,height:n}}=e,r=e.start;C=t,t<w&&(r+=Math.floor((w-t)/n),C+=(r-e.start)*n),r<0&&(C+=(0-r)*n,r=0);let i=Math.min(e.end,S);for(let e=r;e<=i&&!(C>=y);e++){let t={data:null==s?void 0:s[e],prevData:(null==s?void 0:s[e-1])??null,nextData:(null==s?void 0:s[e+1])??null,height:n,index:e,offset:C,type:"flat"};E||(E=!0,M=C),I.push(t),C+=n}}0===I.length&&(M=C=0);let R=u-C,B=(null==(v=I[0])?void 0:v.offset)||0;return{items:I,listBottom:C,listTop:M,offsetTree:o,paddingBottom:R,paddingTop:B,totalCount:l,totalHeight:u,data:s,deviationDelta:x}},e5)),e6)}),e7=L([],e=>e.pipe(e.combine(e6,tr),I(([e,t])=>{let n=e.items.slice();for(;n.length>0&&n[0].offset+n[0].height<t;)n.shift();return n.map(e=>e.data)}))),e4=v(!1),e8=v(!1),e9=m(e=>{e.link(e.pipe(e6,I(e=>e.deviationDelta),C(e=>0!==e)),e9),ed()?(e.sub(e.pipe(e9,S(tR,tr)),([t,n])=>{e.pub(tR,n-t)}),e.sub(e.pipe(e.combine(tr,tR,ee,e8)),([t,n,r,i])=>{r||i||(n>0&&t<n?(e.pub(e4,!0),e.pub(tS,{top:0,behavior:"instant"}),setTimeout(()=>{e.pubIn({[e4]:!1,[tR]:0})})):n<0&&t<=0&&(e.pubIn({[e4]:!0,[tR]:0}),setTimeout(()=>{e.pub(tS,{top:0,behavior:"instant"}),e.pub(e4,!1)})))}),e.sub(e.pipe(e.combine(eS,tR,e4,ee,e8),C(([e,t,n,r,i])=>!e&&0!==t&&!n&&!r&&!i),E(100)),([,t])=>{e.pub(e4,!0),t<0?requestAnimationFrame(()=>{e.pub(tE,-t),e.pub(tR,0),requestAnimationFrame(()=>{e.pub(e4,!1)})}):requestAnimationFrame(()=>{e.pub(tE,-t),e.pub(tR,0),requestAnimationFrame(()=>{e.pub(e4,!1)})})})):e.link(e9,tE)}),te=m(),tt=v(!1),tn=m(e=>{e.link(e.pipe(tn,T(!1)),te)},!1),tr=v(0),ti=v(0),to=v(0),tl=v(0),tu=tr,ts=v(0),ta=v(0),tc=v(0),tp=v(0),tf=v(0),td=v(null),th=b(),tg=v(0),tv=function(e){return 1===e?1:1-2**(-10*e)},tm=L(0,e=>e.pipe(e.combine(ta,tc),I(([e,t])=>e+t))),tb=L(0,e=>e.pipe(e.combine(tp,tf),I(([e,t])=>e+t))),tx=L(0,e=>e.pipe(e.combine(ta,tc,tr),I(([e,t,n])=>e+Math.max(t-n,0)))),tk=L(0,e=>e.pipe(e.combine(tp,tf,tr,ti,tl),I(([e,t,n,r,i])=>(n=Math.min(n,i-r),e+Math.max(t-(i-(n+r)),0))))),tw=L(0,e=>e.pipe(e.combine(ti,tx,tk),I(([e,t,n])=>Math.max(0,e-t-n)))),ty=v(0),tI=v(0,e=>{e.link(e.pipe(e.combine(tI,ea,ti,tm,ta),I(([e,t,n,r,i])=>0===e?0:Math.max(0,Math.min(e-(t+r+i-n))))),ty)}),tS=m(e=>{e.link(e.pipe(tS,I(e=>"start"===e.align?e.top??0:0)),tI),e.link(e.pipe(tS,S(tr),C(([e,t])=>e.top!==t),T(!0)),te)}),tT=m(e=>{e.link(e.pipe(tS,S(tW),I(([e,t])=>("top"in e&&"u">typeof e.top&&(e={...e,top:e.top+t}),e))),tT)}),tC=L({listOffset:0,visibleListHeight:0,scrollHeight:0,bottomOffset:0,isAtBottom:!1},e=>e.pipe(e.combine(tr,tm,tb,tc,tw,tl,ty,ee,eO,e4,ek),C(([,,,,,,,e,t,n])=>!e&&null===t&&!n),I(([t,n,r,i,o,l,u,s,a,c,p])=>{let f=e.getValue(ey),d=l-n-r,h=-t+i,g=d+Math.min(0,h)-o-u;return{scrollHeight:d,listOffset:h,visibleListHeight:o,bottomOffset:g,isAtBottom:p||g<=f}}))),tM=m(e=>{e.link(e.pipe(tr,R(0),S(tC,eO,ee),C(([,e,t,n])=>e.scrollHeight>0&&null==t&&!n),I(([,e])=>e)),tM)}),tE=m(),tR=v(0),tB=v(0),tH=v(0),tL=v(""),tA=m(),tz=b(),tV=b(),tj=v(!1),tD=v(null);v(0);let tW=v(0,e=>{e.link(e.pipe(e.combine(tN,tO,tW),I(([e,t,n])=>e-Math.max(0,n-t))),ti)}),tO=v(0,e=>{e.link(e.pipe(e.combine(tO,tW),I(([e,t])=>Math.max(0,e-t))),tr)}),tN=v(0),tq=v(null),tF=v(null),tP=v(null),t_=v(null),tY=v(null),t$=v("div"),tK={position:"sticky",top:0,zIndex:1},tU={overflowAnchor:"none"},tG={position:"sticky",bottom:0},tX=i.forwardRef((e,t)=>(0,l.jsx)("div",{style:{zIndex:1},...e,ref:t})),tZ=i.forwardRef((e,t)=>(0,l.jsx)("div",{...e,ref:t})),tJ=i.forwardRef(({style:e,...t},n)=>(0,l.jsx)("div",{...t,style:{...tK,...e},ref:n})),tQ=i.forwardRef(({style:e,...t},n)=>(0,l.jsx)("div",{...t,style:{...tG,...e},ref:n})),t0=v(tX),t1=v(tJ),t2=v(tZ),t5=v(tQ),t3=({index:e})=>(0,l.jsxs)("div",{children:["Item ",e]}),t6=({index:e})=>e,t7=v(t3),t4=v(t6),t8=e=>e,t9=v(t8),ne=v(null,e=>{e.sub(e.pipe(ne,S(eP,t9,eo,et)),([t,n,r,i,o])=>{if(void 0===t)return;if(!t||!t.data||!t.data.length)return void e.pubIn({[eP]:[],[et]:J,[e6]:e5});let l=t.data,u=t.scrollModifier;if("prepend"===u){if(null===n||!n.length)return void e.pub(eP,l);let t=n[0],i=l.findIndex(e=>r(e)===r(t)),o=-1===i?l:l.slice(0,i),u=-1===i?[]:l.slice(i);return e.pubIn({[eP]:u}),void e.pubIn({[eY]:o})}if("remove-from-start"===u){let t=l[0],u=(null==n?void 0:n.findIndex(e=>r(e)===r(t)))??-1;if(-1===u)return void e.pub(eP,l);let s=ep(u,i);return e.pub(tE,-s),void queueMicrotask(()=>{e.pub(eP,l);let t=W(o[0]).reduce((e,{k:t,v:n})=>D(e,Math.max(0,t-u),n),A);e.pub(et,[t,0])})}if("remove-from-end"===u){e.pub(eP,l),e.pub(Q,[{size:e.getValue(ei),startIndex:l.length,endIndex:1/0}]);return}if((null==u?void 0:u.type)==="item-location"){l!==n&&e.pubIn({[eZ]:{data:l,initialLocation:u.location,purgeItemSizes:u.purgeItemSizes}});return}return(null==u?void 0:u.type)==="auto-scroll-to-bottom"?void e.pubIn({[eP]:l,[e$]:{data:l,scrollToBottom:u.autoScroll}}):(null==u?void 0:u.type)==="items-change"?void e.pub(e2,{newData:l,autoscrollToBottomBehavior:u.behavior}):void e.pub(eP,l)})},(e,t)=>!!e&&e.data===(null==t?void 0:t.data)),nt=({item:e,ItemContent:t,mount:n,unmount:r})=>{let o=y(eF),u=i.useRef(null),s=i.useCallback(e=>{e?(u.current=e,n(e)):u.current&&(r(u.current),u.current=null)},[n,r]);return(0,l.jsx)("div",{ref:s,"data-index":e.index,"data-known-size":e.height,style:{overflowAnchor:"none",position:"absolute",width:"100%",top:e.offset},children:(0,l.jsx)(t,{index:e.index,prevData:e.prevData,nextData:e.nextData,data:e.data,context:o})})},nn=v("top",e=>{e.link(e.pipe(e.combine(nn,ea,ti,tm,tb),C(([e])=>"bottom"===e||"bottom-smooth"===e),I(([,e,t,n,r])=>Math.max(0,t-e-n-r))),tH),e.link(e.pipe(e.combine(tH,nn),C(([,e])=>"bottom-smooth"===e),M((e,[t])=>[e[1],t],[0,0]),I(([e,t])=>e>0&&t>0?"margin-top 0.2s ease-out":"")),tL)});function nr(e){let t=i.useRef(null);return[i.useCallback(n=>{n?(t.current=n,null==e||e.observe(n,{box:"border-box"})):t.current&&(null==e||e.unobserve(t.current),t.current=null)},[e]),t]}function ni(e,t,n,r,i,o){var l,u;return na((l=na(na(t,e),na(r,o)),l<<(u=i)|l>>>32-u),n)}function no(e,t,n,r,i,o,l){return ni(t&n|~t&r,e,t,i,o,l)}function nl(e,t,n,r,i,o,l){return ni(t&r|n&~r,e,t,i,o,l)}function nu(e,t,n,r,i,o,l){return ni(t^n^r,e,t,i,o,l)}function ns(e,t,n,r,i,o,l){return ni(n^(t|~r),e,t,i,o,l)}function na(e,t){let n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}let nc=Symbol("INVALID_KEY"),np={valid:!1,consoleMessage:"Your VirtuosoMessageListLicense is missing a license key. Purchase one from https://virtuoso.dev/pricing/",watermarkMessage:"Your VirtuosoMessageListLicense is missing a license key. Purchase one from https://virtuoso.dev/pricing/"},nf={valid:!1,consoleMessage:"Your VirtuosoMessageListLicense component is missing a license key - this component will not work if deployed in production. Purchase a key from https://virtuoso.dev/pricing/ before you deploy to production."},nd={valid:!0},nh={valid:!1,consoleMessage:"Your Virtuoso Message List license key is invalid. Ensure that you have copy-pasted the key from the purchase email correctly.",watermarkMessage:"Your Virtuoso Message List license key is invalid"},ng={valid:!1,consoleMessage:"Your annual license key to use Virtuoso Message List in non-production environments has expired. You can still use it in production. To keep using it in development, purchase a new key from https://virtuoso.dev/pricing/",watermarkMessage:"Your annual license key to use Virtuoso Message List in non-production environments has expired. You can still use it in production. To keep using it in development, purchase a new key from https://virtuoso.dev/pricing/"},nv={valid:!1,consoleMessage:"You have installed a version of `@virtuoso.dev/message-list` that is newer than the period of your license key. Either downgrade to a supported version, or purchase a new license from https://virtuoso.dev/pricing/",watermarkMessage:"You have installed a version of `@virtuoso.dev/message-list` that is newer than the period of your license key. Either downgrade to a supported version, or purchase a new license from https://virtuoso.dev/pricing/"},nm=/^(?:127\.0\.0\.1|localhost|0\.0\.0\.0|.+\.local)$/,nb=["virtuoso.dev","csb.app","codesandbox.io"],nx=i.createContext({valid:!1,consoleMessage:"The VirtuosoMessageList license wrapper component is missing. Enclose the VirtuosoMessageList with VirtuosoMessageListLicense and add your key at the lisenceKey property.",watermarkMessage:"The VirtuosoMessageList license wrapper component is missing. Enclose the VirtuosoMessageList with VirtuosoMessageListLicense and add your key at the lisenceKey property."}),nk=({licenseKey:e,children:t})=>{let n=function({licenseKey:e,now:t,hostname:n,packageTimestamp:r}){let i=n.match(nm),o=nb.some(e=>n.endsWith(e));if(!e)return o?nd:i?nf:np;let l=function(e){let t=e.slice(0,32),n=e.slice(32),r=atob(n);if(t!==(function(e){for(var t,n="0123456789ABCDEF",r="",i=0;i<e.length;i++)r+=n.charAt((t=e.charCodeAt(i))>>>4&15)+n.charAt(15&t);return r})(function(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t}(function(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=0x67452301,r=-0x10325477,i=-0x67452302,o=0x10325476,l=0;l<e.length;l+=16){let t=n,u=r,s=i,a=o;r=ns(r=ns(r=ns(r=ns(r=nu(r=nu(r=nu(r=nu(r=nl(r=nl(r=nl(r=nl(r=no(r=no(r=no(r=no(r,i=no(i,o=no(o,n=no(n,r,i,o,e[l+0],7,-0x28955b88),r,i,e[l+1],12,-0x173848aa),n,r,e[l+2],17,0x242070db),o,n,e[l+3],22,-0x3e423112),i=no(i,o=no(o,n=no(n,r,i,o,e[l+4],7,-0xa83f051),r,i,e[l+5],12,0x4787c62a),n,r,e[l+6],17,-0x57cfb9ed),o,n,e[l+7],22,-0x2b96aff),i=no(i,o=no(o,n=no(n,r,i,o,e[l+8],7,0x698098d8),r,i,e[l+9],12,-0x74bb0851),n,r,e[l+10],17,-42063),o,n,e[l+11],22,-0x76a32842),i=no(i,o=no(o,n=no(n,r,i,o,e[l+12],7,0x6b901122),r,i,e[l+13],12,-0x2678e6d),n,r,e[l+14],17,-0x5986bc72),o,n,e[l+15],22,0x49b40821),i=nl(i,o=nl(o,n=nl(n,r,i,o,e[l+1],5,-0x9e1da9e),r,i,e[l+6],9,-0x3fbf4cc0),n,r,e[l+11],14,0x265e5a51),o,n,e[l+0],20,-0x16493856),i=nl(i,o=nl(o,n=nl(n,r,i,o,e[l+5],5,-0x29d0efa3),r,i,e[l+10],9,0x2441453),n,r,e[l+15],14,-0x275e197f),o,n,e[l+4],20,-0x182c0438),i=nl(i,o=nl(o,n=nl(n,r,i,o,e[l+9],5,0x21e1cde6),r,i,e[l+14],9,-0x3cc8f82a),n,r,e[l+3],14,-0xb2af279),o,n,e[l+8],20,0x455a14ed),i=nl(i,o=nl(o,n=nl(n,r,i,o,e[l+13],5,-0x561c16fb),r,i,e[l+2],9,-0x3105c08),n,r,e[l+7],14,0x676f02d9),o,n,e[l+12],20,-0x72d5b376),i=nu(i,o=nu(o,n=nu(n,r,i,o,e[l+5],4,-378558),r,i,e[l+8],11,-0x788e097f),n,r,e[l+11],16,0x6d9d6122),o,n,e[l+14],23,-0x21ac7f4),i=nu(i,o=nu(o,n=nu(n,r,i,o,e[l+1],4,-0x5b4115bc),r,i,e[l+4],11,0x4bdecfa9),n,r,e[l+7],16,-0x944b4a0),o,n,e[l+10],23,-0x41404390),i=nu(i,o=nu(o,n=nu(n,r,i,o,e[l+13],4,0x289b7ec6),r,i,e[l+0],11,-0x155ed806),n,r,e[l+3],16,-0x2b10cf7b),o,n,e[l+6],23,0x4881d05),i=nu(i,o=nu(o,n=nu(n,r,i,o,e[l+9],4,-0x262b2fc7),r,i,e[l+12],11,-0x1924661b),n,r,e[l+15],16,0x1fa27cf8),o,n,e[l+2],23,-0x3b53a99b),i=ns(i,o=ns(o,n=ns(n,r,i,o,e[l+0],6,-0xbd6ddbc),r,i,e[l+7],10,0x432aff97),n,r,e[l+14],15,-0x546bdc59),o,n,e[l+5],21,-0x36c5fc7),i=ns(i,o=ns(o,n=ns(n,r,i,o,e[l+12],6,0x655b59c3),r,i,e[l+3],10,-0x70f3336e),n,r,e[l+10],15,-1051523),o,n,e[l+1],21,-0x7a7ba22f),i=ns(i,o=ns(o,n=ns(n,r,i,o,e[l+8],6,0x6fa87e4f),r,i,e[l+15],10,-0x1d31920),n,r,e[l+6],15,-0x5cfebcec),o,n,e[l+13],21,0x4e0811a1),i=ns(i,o=ns(o,n=ns(n,r,i,o,e[l+4],6,-0x8ac817e),r,i,e[l+11],10,-0x42c50dcb),n,r,e[l+2],15,0x2ad7d2bb),o,n,e[l+9],21,-0x14792c6f),n=na(n,t),r=na(r,u),i=na(i,s),o=na(o,a)}return[n,r,i,o]}(function(e){for(var t=Array(e.length>>2),n=0;n<t.length;n++)t[n]=0;for(n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t}(n),8*n.length))).toLowerCase())return nc;let[i,o]=r.split(";");return{orderNumber:i.slice(2),expiryDate:new Date(Number(o.slice(2)))}}(e);if(l===nc)return nh;if(l.expiryDate.getTime()<t.getTime()){if(i)return ng;if(l.expiryDate.getTime()<r)return nv}return nd}({licenseKey:e,hostname:"u">typeof window?window.location.hostname:"localhost",now:new Date,packageTimestamp:0x198d05839b9});return(0,l.jsx)(nx.Provider,{value:n,children:t})};nk.displayName=Math.random().toString(36).slice(2,8);let nw=i.createContext(void 0),ny=!1,nI=i.forwardRef(({initialData:e=[],computeItemKey:t=t6,context:n=null,initialLocation:r=null,shortSizeAlign:o="top",onScroll:u,onRenderedDataChange:s,ItemContent:a=t3,Header:c=null,StickyHeader:p=null,Footer:f=null,StickyFooter:d=null,EmptyPlaceholder:h=null,HeaderWrapper:v=tX,StickyHeaderWrapper:m=tJ,FooterWrapper:b=tZ,StickyFooterWrapper:k=tQ,useWindowScroll:w=!1,customScrollParent:y=null,ScrollElement:I="div",increaseViewportBy:S=0,data:T,itemIdentity:C=t8,...M},E)=>{let R=i.useMemo(()=>{let i=new g;return i.register(e6),i.register(te),i.register(eR),i.register(e9),i.register(eM),i.register(eK),i.register(eY),i.register(eZ),i.pubIn({[eP]:e.slice(),[t9]:t8,[eF]:n,[t4]:t,[eN]:r,[t7]:a,[tq]:c,[tP]:f,[tF]:p,[t_]:d,[tY]:h,[t$]:I,[t5]:k,[t1]:m,[t2]:b,[t0]:v,[nn]:o,[tj]:w,[tD]:y,[tg]:S}),i.singletonSub(tM,u),i.singletonSub(e7,s),i},[]);i.useImperativeHandle(E,()=>({data:{prepend:e=>{R.pub(eY,e)},append:(e,t)=>{R.pub(eK,{data:e,scrollToBottom:t})},replace:(e,t)=>{R.pub(eZ,{...t,data:e})},map:(e,t)=>{R.pub(e1,{mapper:e,autoscrollToBottomBehavior:t})},findAndDelete:e=>{R.pub(e0,e)},findIndex:e=>R.getValue(eP).findIndex(e),find:e=>R.getValue(eP).find(e),insert:(e,t,n)=>{R.pub(eU,{data:e,offset:t,scrollToBottom:n})},deleteRange:(e,t)=>{R.pub(eG,{offset:e,count:t})},batch:(e,t)=>{R.pub(ee,!0),e(),R.pub(ee,!1),R.pub(e$,{data:[],scrollToBottom:t})},get:()=>R.getValue(eP).slice(),getCurrentlyRendered:()=>R.getValue(e7),removeFromStart:e=>{R.pub(eJ,e)}},scrollToItem:e=>{R.pub(eW,e)},scrollIntoView:e=>{R.pub(eD,e)},scrollerElement:()=>R.getValue(td),getScrollLocation:()=>R.getValue(tC),cancelSmoothScroll(){R.pub(th)},height:e=>{var t;let n=(null==(t=R.getValue(eP))?void 0:t.indexOf(e))??-1;return -1===n?0:j(R.getValue(en),n)[1]??0}}),[R]),i.useEffect(()=>{R.pubIn({[eF]:n,[t7]:a,[tD]:y,[ne]:T}),R.singletonSub(tM,u),R.singletonSub(e7,s)},[n,a,y,u,s,R,T]);let B=i.useContext(nx);return i.useEffect(()=>{B.consoleMessage&&(ny||(ny=!0,console.warn(B.consoleMessage)))},[B]),i.useEffect(()=>{let e=e=>{var t;null!=(t=e.message)&&t.includes("ResizeObserver loop")&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())};return window.addEventListener("error",e,{capture:!0}),()=>{window.removeEventListener("error",e)}},[]),"u">typeof window&&B.watermarkMessage?(0,l.jsx)("div",{style:{color:"red",pointerEvents:"none"},children:B.watermarkMessage}):(0,l.jsx)(x.Provider,{value:R,children:(0,l.jsx)(nS,{...M})})});nI.displayName="VirtuosoMessageList";let nS=({style:e,...t})=>{let n=w(),r=i.useContext(nw),[o,u,s,a,c,p,f,d,h,g,v]=function(...e){let t=w();return y(t.combineCells.apply(t,e))}(tq,tF,t0,t1,tP,t_,t2,t5,t7,tY,tD),[m]=i.useState(()=>{if("u">typeof window&&typeof ResizeObserver>"u")throw Error("ResizeObserver not found. Please ensure that you have a polyfill installed.");if(!(typeof ResizeObserver>"u"))return new ResizeObserver(e=>{var t,r,i,o;let l=e.length,u=[],s={};for(let n=0;n<l;n++){let l=e[n],a=l.target;if(a===T.current){s={...s,[tc]:l.contentRect.height,[tl]:null==(t=E.current)?void 0:t.scrollHeight};continue}if(a===M.current){s={...s,[ta]:l.contentRect.height,[tl]:null==(r=E.current)?void 0:r.scrollHeight};continue}if(a===x.current){s={...s,[tf]:l.contentRect.height,[tl]:null==(i=E.current)?void 0:i.scrollHeight};continue}if(a===I.current){s={...s,[tp]:l.contentRect.height,[tl]:null==(o=E.current)?void 0:o.scrollHeight};continue}if(a===E.current){s={...s,[tr]:a.scrollTop,[tl]:a.scrollHeight,[ti]:l.contentRect.height,[to]:a.clientWidth};continue}if(a===B.current){E.current&&(s={...s,[tl]:E.current.scrollHeight});continue}if(a===R.current){let e=a.ownerDocument.defaultView;null!==e&&(s={...s,[tl]:l.contentRect.height,[tO]:e.scrollY,[tN]:e.innerHeight,[tW]:a.getBoundingClientRect().top+e.scrollY,[to]:a.clientWidth});continue}if(a===v||a===H.current){let e=L.current,t=H.current;e&&t&&(s={...s,[tl]:t.getBoundingClientRect().height,[tO]:e.scrollTop,[tN]:e.clientHeight,[tW]:t.offsetTop,[to]:t.clientWidth});continue}if(void 0===a.dataset.index)continue;let c=Number.parseInt(a.dataset.index),p=Number.parseFloat(a.dataset.knownSize??""),f=l.contentRect.height;if(f===p)continue;let d=u[u.length-1];0===u.length||d.size!==f||d.endIndex!==c-1?u.push({endIndex:c,size:f,startIndex:c}):u[u.length-1].endIndex++}u.length>0&&(s={...s,[Q]:u}),n.pubIn(s)})}),[b,x]=nr(m),[k,I]=nr(m),[S,T]=nr(m),[C,M]=nr(m),E=i.useRef(null),R=i.useRef(null),B=i.useRef(null),H=i.useRef(null),L=i.useRef(null);(0,i.useEffect)(()=>{L.current=v},[v]);let A=i.useCallback(e=>{if(r){let t=Number.parseInt(e.dataset.index??"");n.pub(Q,[{startIndex:t,endIndex:t,size:r.itemHeight}])}null==m||m.observe(e)},[m,n,r]),z=i.useCallback(e=>{null==m||m.unobserve(e)},[m]),V=i.useCallback(e=>{e?(B.current=e,null==m||m.observe(e,{box:"border-box"})):B.current&&(null==m||m.unobserve(B.current),B.current=null)},[m]),{items:j}=y(e6),D=i.useCallback(()=>{var e;let t=[];for(let n of(null==(e=B.current)?void 0:e.children)??[]){if(void 0===n.dataset.index)continue;let e=Number.parseInt(n.dataset.index),r=Number.parseFloat(n.dataset.knownSize??""),i=n.getBoundingClientRect().height;if(i===r)continue;let o=t[t.length-1];0===t.length||o.size!==i||o.endIndex!==e-1?t.push({endIndex:e,size:i,startIndex:e}):t[t.length-1].endIndex++}n.pub(Q,t)},[n]);i.useLayoutEffect(()=>n.sub(tz,D),[D,n]);let W=y(tR),O=y(tB),N=y(tH),q=y(ty),F=y(tL),P=y(eF),_=y(t4),Y=y(eq),$=y(ea),K=y(tj),U=y(eO);return i.useLayoutEffect(()=>{0===j.length&&n.pub(tV)},[j,n]),i.useLayoutEffect(()=>{var e;Y>0&&null===U&&null!==g&&n.pub(tl,null==(e=E.current)?void 0:e.scrollHeight)},[n,Y,U,g]),(0,l.jsxs)(v?nM:K?nC:nT,{...t,observer:m,scrollerRef:E,customScrollParentWrapperRef:H,listRef:B,style:e,windowScrollWrapperRef:R,children:[(0===Y||U)&&g?(0,l.jsx)(g,{context:P}):null,u&&(0,l.jsx)(a,{ref:C,style:tU,children:(0,l.jsx)(u,{context:P})}),o&&(0,l.jsx)(s,{ref:S,style:tU,children:(0,l.jsx)(o,{context:P})}),Y>0?(0,l.jsx)("div",{ref:V,"data-testid":"virtuoso-list",style:{boxSizing:"content-box",height:$,paddingBottom:q,overflowAnchor:"none",marginTop:N,transition:F,position:"relative",transform:`translateY(${W+O}px)`,visibility:U?"hidden":"visible"},children:j.map(e=>(0,l.jsx)(nt,{mount:A,unmount:z,item:e,ItemContent:h},_({index:e.index,data:e.data,context:P})))}):null,c&&(0,l.jsx)(f,{ref:b,style:tU,children:(0,l.jsx)(c,{context:P})}),p&&(0,l.jsx)(d,{ref:k,style:tU,children:(0,l.jsx)(p,{context:P})})]})},nT=({customScrollParentWrapperRef:e,windowScrollWrapperRef:t,observer:n,children:r,listRef:o,scrollerRef:u,style:s,...a})=>{let c=w(),p=i.useContext(nw),f=y(t$),{onScroll:d,onWheel:h}=nE({listRef:o,scrollTopCell$:tr,scrollToSignal$:tS,scrollableRef:u}),g=i.useCallback(e=>{e?(c.pub(td,e),u.current=e,e.addEventListener("scroll",d),e.addEventListener("wheel",h),p&&c.pubIn({[ti]:p.viewportHeight,[tl]:p.viewportHeight,[tr]:0}),null==n||n.observe(e,{box:"border-box"})):u.current&&(u.current.removeEventListener("scroll",d),u.current.removeEventListener("wheel",h),c.pub(td,null),null==n||n.unobserve(u.current),u.current=null)},[n,c,d,h,p,u]);nR(()=>{var e;return null==(e=u.current)?void 0:e.scrollHeight});let v=y(e4),m=y(eF);return(0,l.jsx)(f,{...a,ref:g,"data-testid":"virtuoso-scroller",style:{overflowY:v?"hidden":"scroll",boxSizing:"border-box",...s},..."div"===f?{}:{context:m},children:r})},nC=({observer:e,children:t,windowScrollWrapperRef:n,customScrollParentWrapperRef:r,listRef:o,...u})=>{let s=i.useRef(null),a=w(),c=i.useContext(nw),{onScroll:p,onWheel:f}=nE({listRef:o,scrollTopCell$:tO,scrollToSignal$:tT,scrollableRef:s}),d=i.useCallback(()=>{var e;let t=s.current;null!==t&&a.pub(tN,null==(e=t.ownerDocument.defaultView)?void 0:e.innerHeight)},[a]),h=i.useCallback(t=>{if(t){a.pub(td,t),n.current=t;let r=t.ownerDocument.defaultView;r&&(r.addEventListener("scroll",p),r.addEventListener("wheel",f),r.addEventListener("resize",d),c&&a.pubIn({[tN]:null==r?void 0:r.innerHeight,[tl]:t.getBoundingClientRect().height,[tO]:0}),s.current=t.ownerDocument.documentElement),null==e||e.observe(t,{box:"border-box"})}else{if(n.current){let t=n.current.ownerDocument.defaultView;t&&(t.removeEventListener("scroll",p),t.removeEventListener("wheel",f),t.removeEventListener("resize",d)),a.pub(td,null),null==e||e.unobserve(n.current),n.current=null}s.current=null}},[e,a,p,f,d,c,n]);return nR(()=>{var e;return null==(e=n.current)?void 0:e.getBoundingClientRect().height}),(0,l.jsx)("div",{ref:h,...u,children:t})},nM=({scrollerRef:e,windowScrollWrapperRef:t,children:n,listRef:r,customScrollParentWrapperRef:o,observer:u,...s})=>{let a=w(),c=i.useContext(nw),p=y(tD),f=i.useRef(p);(0,i.useEffect)(()=>{f.current=p},[p]);let{onWheel:d,onScroll:h}=nE({listRef:r,scrollTopCell$:tO,scrollToSignal$:tT,scrollableRef:f}),g=i.useCallback(e=>{if(e){let t=f.current;a.pub(td,t),o.current=e,t&&(t.addEventListener("scroll",h),t.addEventListener("wheel",d),c&&a.pubIn({[tN]:t.clientHeight,[tl]:e.getBoundingClientRect().height,[tO]:0}),null==u||u.observe(t,{box:"border-box"})),null==u||u.observe(e,{box:"border-box"})}else{let e=f.current;e&&(e.removeEventListener("scroll",h),e.removeEventListener("wheel",d),a.pub(td,null),null==u||u.unobserve(e)),o.current&&(null==u||u.unobserve(o.current)),o.current=null}},[u,a,h,d,c,o]);return nR(()=>{var e;return null==(e=o.current)?void 0:e.getBoundingClientRect().height}),(0,l.jsx)("div",{ref:g,...s,children:n})};function nE({scrollToSignal$:e,scrollableRef:t,listRef:n,scrollTopCell$:r}){let o=w(),l=i.useRef(null),u=function(e,t,n){let r=w(),o=i.useRef(null),l=i.useRef(null),u=i.useCallback(()=>{o.current&&(cancelAnimationFrame(o.current),o.current=null,l.current=null)},[]);i.useEffect(()=>r.sub(tA,e=>{e!==l.current&&u()}),[r,u]),i.useEffect(()=>r.sub(th,u),[r,u]);let s=i.useCallback((t,n,r)=>{var i;o.current&&u();let s=(null==(i=e.current)?void 0:i.scrollTop)??0;l.current=s<t?"down":"up";let a=0,c=0;!function i(){var u,p;let f=s+(t-s)*n(a);null==(u=e.current)||u.scrollTo({top:f,behavior:"instant"}),a+=1/r,(c+=1)<r?o.current=requestAnimationFrame(i):(null==(p=e.current)||p.scrollTo({top:t,behavior:"instant"}),o.current=null,l.current=null)}()},[e,u]);return i.useCallback(i=>{var o,l;let a=e.current;if(!(!a||void 0===i.top)){if(.5>Math.abs(i.top-a.scrollTop))return void requestAnimationFrame(()=>{var t;r.pub(tn,null==(t=e.current)?void 0:t.scrollTop)});if(n.current=i.top,r.pub(tt,!0),void 0!==i.forceBottomSpace&&t.current&&(t.current.style.paddingBottom=`${i.forceBottomSpace}px`),"smooth"===i.behavior)s(i.top??0,tv,50);else if("auto"===i.behavior||"instant"===i.behavior||void 0===i.behavior)u(),null==(o=e.current)||o.scrollTo(i);else{let{easing:t,animationFrameCount:n}=i.behavior((null==(l=e.current)?void 0:l.scrollTop)??0,i.top??0);s(i.top??0,t,n)}}},[r,s,t,e,n,u])}(t,n,l),s=i.useCallback(e=>{t.current&&(t.current.scrollTop+=e)},[t]),a=i.useCallback(()=>{let e=t.current;if(null!==e&&(o.pub(r,e.scrollTop),null!==l.current)){let t=e.scrollHeight-e.clientHeight;ef(e.scrollTop,Math.min(t,l.current))&&(l.current=null,o.pub(tt,!1),o.pub(tn,e.scrollTop))}},[o,t,r]),c=i.useCallback(e=>{o.pub(tA,e.deltaY>0?"down":"up")},[o]);return i.useLayoutEffect(()=>o.sub(e,u),[u,o,e]),i.useLayoutEffect(()=>o.sub(tE,s),[s,o]),{onScroll:a,onWheel:c}}function nR(e){let t=function(e){let t=w();return t.register(e),i.useCallback(n=>{t.pub(e,n)},[t,e])}(tl);(0,i.useLayoutEffect)(()=>{if(!ed())return;let n=setInterval(()=>{t(e()??0)},1e3);return()=>{clearInterval(n)}},[t,e])}}}]);