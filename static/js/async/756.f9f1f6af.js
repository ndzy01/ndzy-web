(()=>{"use strict";var e={5409:function(e){e.exports=e=>!!e&&("symbol"==typeof Symbol.observable&&"function"==typeof e[Symbol.observable]?e===e[Symbol.observable]():"function"==typeof e["@@observable"]&&e===e["@@observable"]())},9278:function(e,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.serialize=r.deserialize=r.registerSerializer=void 0;let s=t(5914),o=s.DefaultSerializer;r.registerSerializer=function(e){o=s.extendSerializer(o,e)},r.deserialize=function(e){return o.deserialize(e)},r.serialize=function(e){return o.serialize(e)}},5914:function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DefaultSerializer=r.extendSerializer=void 0,r.extendSerializer=function(e,r){let t=e.deserialize.bind(e),s=e.serialize.bind(e);return{deserialize:e=>r.deserialize(e,t),serialize:e=>r.serialize(e,s)}};r.DefaultSerializer={deserialize(e){let r;return e&&"object"==typeof e&&"__error_marker"in e&&"$$error"===e.__error_marker?Object.assign(Error((r=e).message),{name:r.name,stack:r.stack}):e},serialize:e=>{let r;return e instanceof Error?{__error_marker:"$$error",message:(r=e).message,name:r.name,stack:r.stack}:e}}},3682:function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.$worker=r.$transferable=r.$terminate=r.$events=r.$errors=void 0,r.$errors=Symbol("thread.errors"),r.$events=Symbol("thread.events"),r.$terminate=Symbol("thread.terminate"),r.$transferable=Symbol("thread.transferable"),r.$worker=Symbol("thread.worker")},6712:function(e,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.Transfer=r.isTransferDescriptor=void 0;let s=t(3682);r.isTransferDescriptor=function(e){return e&&"object"==typeof e&&e[s.$transferable]},r.Transfer=function(e,r){if(!r){if(!(e&&"object"==typeof e&&1))throw Error();r=[e]}return{[s.$transferable]:!0,send:e,transferables:r}}},2781:function(e,r){var t,s;Object.defineProperty(r,"__esModule",{value:!0}),r.WorkerMessageType=r.MasterMessageType=void 0,(t=r.MasterMessageType||(r.MasterMessageType={})).cancel="cancel",t.run="run",(s=r.WorkerMessageType||(r.WorkerMessageType={})).error="error",s.init="init",s.result="result",s.running="running",s.uncaughtError="uncaughtError"},4304:function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default={isWorkerRuntime:function(){let e="undefined"!=typeof self&&"undefined"!=typeof Window&&self instanceof Window;return"undefined"!=typeof self&&!!self.postMessage&&!e},postMessageToMaster:function(e,r){self.postMessage(e,r)},subscribeToMasterMessages:function(e){let r=r=>{e(r.data)};return self.addEventListener("message",r),()=>{self.removeEventListener("message",r)}}}},1854:function(e,r,t){var s=this&&this.__awaiter||function(e,r,t,s){return new(t||(t=Promise))(function(o,n){function a(e){try{u(s.next(e))}catch(e){n(e)}}function i(e){try{u(s.throw(e))}catch(e){n(e)}}function u(e){var r;e.done?o(e.value):((r=e.value)instanceof t?r:new t(function(e){e(r)})).then(a,i)}u((s=s.apply(e,r||[])).next())})},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.expose=r.isWorkerRuntime=r.Transfer=r.registerSerializer=void 0;let n=o(t(5409)),a=t(9278),i=t(6712),u=t(2781),l=o(t(4304));var f=t(9278);Object.defineProperty(r,"registerSerializer",{enumerable:!0,get:function(){return f.registerSerializer}});var c=t(6712);Object.defineProperty(r,"Transfer",{enumerable:!0,get:function(){return c.Transfer}}),r.isWorkerRuntime=l.default.isWorkerRuntime;let d=!1,p=new Map,y=e=>e&&e.type===u.MasterMessageType.run,b=e=>{var r;return n.default(e)||(r=e)&&"object"==typeof r&&"function"==typeof r.subscribe};function m(e){return i.isTransferDescriptor(e)?{payload:e.send,transferables:e.transferables}:{payload:e,transferables:void 0}}function g(e,r){let{payload:t,transferables:s}=m(r),o={type:u.WorkerMessageType.error,uid:e,error:a.serialize(t)};l.default.postMessageToMaster(o,s)}function M(e,r,t){let{payload:s,transferables:o}=m(t),n={type:u.WorkerMessageType.result,uid:e,complete:!!r||void 0,payload:s};l.default.postMessageToMaster(n,o)}function v(e){try{let r={type:u.WorkerMessageType.uncaughtError,error:a.serialize(e)};l.default.postMessageToMaster(r)}catch(r){console.error("Not reporting uncaught error back to master thread as it occured while reporting an uncaught error already.\nLatest error:",r,"\nOriginal error:",e)}}function h(e,r,t){return s(this,void 0,void 0,function*(){let s;try{s=r(...t)}catch(r){return g(e,r)}let o=b(s)?"observable":"promise",n={type:u.WorkerMessageType.running,uid:e,resultType:o};if(l.default.postMessageToMaster(n),b(s)){let r=s.subscribe(r=>M(e,!1,a.serialize(r)),r=>{g(e,a.serialize(r)),p.delete(e)},()=>{M(e,!0),p.delete(e)});p.set(e,r)}else try{let r=yield s;M(e,!0,a.serialize(r))}catch(r){g(e,a.serialize(r))}})}r.expose=function(e){if(!l.default.isWorkerRuntime())throw Error("expose() called in the master thread.");if(d)throw Error("expose() called more than once. This is not possible. Pass an object to expose() if you want to expose multiple functions.");if(d=!0,"function"==typeof e){l.default.subscribeToMasterMessages(r=>{y(r)&&!r.method&&h(r.uid,e,r.args.map(a.deserialize))});let r={type:u.WorkerMessageType.init,exposed:{type:"function"}};l.default.postMessageToMaster(r)}else if("object"==typeof e&&e){l.default.subscribeToMasterMessages(r=>{y(r)&&r.method&&h(r.uid,e[r.method],r.args.map(a.deserialize))});var r=Object.keys(e).filter(r=>"function"==typeof e[r]);let t={type:u.WorkerMessageType.init,exposed:{type:"module",methods:r}};l.default.postMessageToMaster(t)}else throw Error(`Invalid argument passed to expose(). Expected a function or an object, got: ${e}`);l.default.subscribeToMasterMessages(e=>{if(e&&e.type===u.MasterMessageType.cancel){let r=e.uid,t=p.get(r);t&&(t.unsubscribe(),p.delete(r))}})},"undefined"!=typeof self&&"function"==typeof self.addEventListener&&l.default.isWorkerRuntime()&&(self.addEventListener("error",e=>{setTimeout(()=>v(e.error||e),250)}),self.addEventListener("unhandledrejection",e=>{let r=e.reason;r&&"string"==typeof r.message&&setTimeout(()=>v(r),250)})),"undefined"!=typeof process&&"function"==typeof process.on&&l.default.isWorkerRuntime()&&(process.on("uncaughtException",e=>{setTimeout(()=>v(e),250)}),process.on("unhandledRejection",e=>{e&&"string"==typeof e.message&&setTimeout(()=>v(e),250)}))}},r={};(()=>{var t=function t(s){var o=r[s];if(void 0!==o)return o.exports;var n=r[s]={exports:{}};return e[s].call(n.exports,n,n.exports,t),n.exports}(1854);let s=t.expose;t.registerSerializer,t.Transfer,s({add:(e,r)=>e+r,processData:function(e){let r,t=performance.now(),{numbers:s,operation:o}=e;switch(o){case"sum":r=s.reduce((e,r)=>e+r,0);break;case"multiply":r=s.reduce((e,r)=>e*r,1);break;case"sort":r=[...s].sort((e,r)=>e-r);break;default:throw Error(`\u{4E0D}\u{652F}\u{6301}\u{7684}\u{64CD}\u{4F5C}: ${o}`)}let n=1e3*Math.random()+500,a=performance.now()+n;for(;performance.now()<a;);return{result:r,processTime:performance.now()-t}},generateLargeDataSet:function(){return Array.from({length:1e7},()=>Math.floor(100*Math.random())+1)}})})()})();